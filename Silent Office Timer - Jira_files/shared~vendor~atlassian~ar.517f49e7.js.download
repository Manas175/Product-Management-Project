try{window.performance.mark("shared~vendor~atlassian~ar.js:eval-start")}catch(e){}
function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r=globalThis;function n(e,t){return Object.keys(t).forEach(function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[r]}})}),e}var i={},s={},a=r.parcelRequire49d7;null==a&&(a=function(e){if(e in i)return i[e].exports;if(e in s){var t=s[e];delete s[e];var r={id:e,exports:{}};return i[e]=r,t.call(r.exports,r,r.exports),r.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n},a.register=function(e,t){s[e]=t},r.parcelRequire49d7=a);var o=a.register;r.lb||(r.lb=new Set,r.bq=[],r.rlb=e=>{r.lb.add(e),r.pq()},r.rwr=(e,t,n)=>{r.bq.push({b:e,r:t,d:n}),r.pq()},r.pq=()=>{var e=r.bq.find(e=>e.d.every(e=>r.lb.has(e)));e&&(r.bq=r.bq.filter(t=>t.b!==e.b),e.r(),r.pq())}),o("iEN9D",function(t,r){e(t.exports,"default",()=>s);class n{static{this.client=new(0,a("BptNL").Client)}static{this.hasCheckGateErrorOccurred=!1}static{this.hasGetExperimentValueErrorOccurred=!1}static{this.checkGate=(e,t)=>{try{if("undefined"!=typeof window&&window.__CRITERION__&&"function"==typeof window.__CRITERION__.getFeatureFlagOverride){let t=window.__CRITERION__.getFeatureFlagOverride(e);if(void 0!==t)return t}}catch(t){n.hasCheckGateErrorOccurred||(console.warn({msg:"An error has occurred checking the feature gate from criterion override. Only the first occurrence of this error is logged.",gateName:e,error:t}),n.hasCheckGateErrorOccurred=!0)}return this.client.checkGate(e,t)}}static isGateExists(e){return this.client.isGateExist(e)}static isExperimentExists(e){return this.client.isExperimentExist(e)}static{this.getExperimentValue=(e,t,r,i)=>{try{if("undefined"!=typeof window&&window.__CRITERION__&&"function"==typeof window.__CRITERION__.getExperimentValueOverride){let r=window.__CRITERION__.getExperimentValueOverride(e,t);if(null!=r)return r}}catch(t){return n.hasGetExperimentValueErrorOccurred||(console.warn({msg:"An error has occurred getting the experiment value from criterion override. Only the first occurrence of this error is logged.",experimentName:e,defaultValue:r,options:i,error:t}),this.hasGetExperimentValueErrorOccurred=!0),r}return this.client.getExperimentValue(e,t,r,i)}}static{this.initializeCalled=this.client.initializeCalled.bind(this.client)}static{this.initializeCompleted=this.client.initializeCompleted.bind(this.client)}static{this.initialize=this.client.initialize.bind(this.client)}static{this.initializeWithProvider=this.client.initializeWithProvider.bind(this.client)}static{this.initializeFromValues=this.client.initializeFromValues.bind(this.client)}static{this.manuallyLogGateExposure=this.client.manuallyLogGateExposure.bind(this.client)}static{this.getExperiment=this.client.getExperiment.bind(this.client)}static{this.manuallyLogExperimentExposure=this.client.manuallyLogExperimentExposure.bind(this.client)}static{this.manuallyLogLayerExposure=this.client.manuallyLogLayerExposure.bind(this.client)}static{this.shutdownStatsig=this.client.shutdownStatsig.bind(this.client)}static{this.overrideGate=this.client.overrideGate.bind(this.client)}static{this.clearGateOverride=this.client.clearGateOverride.bind(this.client)}static{this.overrideConfig=this.client.overrideConfig.bind(this.client)}static{this.clearConfigOverride=this.client.clearConfigOverride.bind(this.client)}static{this.setOverrides=this.client.setOverrides.bind(this.client)}static{this.getOverrides=this.client.getOverrides.bind(this.client)}static{this.clearAllOverrides=this.client.clearAllOverrides.bind(this.client)}static{this.isCurrentUser=this.client.isCurrentUser.bind(this.client)}static{this.onGateUpdated=this.client.onGateUpdated.bind(this.client)}static{this.onExperimentValueUpdated=this.client.onExperimentValueUpdated.bind(this.client)}static{this.onAnyUpdated=this.client.onAnyUpdated.bind(this.client)}static{this.updateUser=this.client.updateUser.bind(this.client)}static{this.updateUserWithProvider=this.client.updateUserWithProvider.bind(this.client)}static{this.updateUserWithValues=this.client.updateUserWithValues.bind(this.client)}static{this.getPackageVersion=this.client.getPackageVersion.bind(this.client)}static{this.getLayer=this.client.getLayer.bind(this.client)}static{this.getLayerValue=this.client.getLayerValue.bind(this.client)}}let i=n;if("undefined"!=typeof window)if(void 0===window.__FEATUREGATES_JS__)window.__FEATUREGATES_JS__=n;else{i=window.__FEATUREGATES_JS__;let e=i?.getPackageVersion?.()||"4.10.0 or earlier";e!==a("i9mLs").CLIENT_VERSION&&console.warn(`Multiple versions of FeatureGateClients found on the current page.
      The currently bound version is ${e} when module version ${a("i9mLs").CLIENT_VERSION} was loading.`)}var s=i}),o("BptNL",function(t,r){e(t.exports,"Client",()=>s);var n=a("1Nxtn");let i="client-default-key";class s{constructor({localStorageKey:e=a("5b5vX").LOCAL_STORAGE_KEY,overrideAdapter:t}={}){this.initPromise=null,this.initCompleted=!1,this.initWithDefaults=!1,this.hasCheckGateErrorOccurred=!1,this.hasGetExperimentErrorOccurred=!1,this.hasGetExperimentValueErrorOccurred=!1,this.hasGetLayerErrorOccurred=!1,this.hasGetLayerValueErrorOccurred=!1,this.subscriptions=new(0,a("9Pvqq").default),this.dataAdapter=new(0,a("l4hNL").NoFetchDataAdapter),this.statsigValuesUpdated=()=>{this.user&&this.statsigClient.updateUserSync(this.user,{disableBackgroundCacheRefresh:!0}),this.subscriptions.anyUpdated()},this.overrideAdapter=t||new(0,a("5b5vX").PersistentOverrideAdapter)(e)}async initialize(e,t,r){let n=(0,a("GWCtt").getOptionsWithDefaults)(e);if(this.initPromise)return(0,a("GWCtt").shallowEquals)(n,this.initOptions)||console.warn("Feature Gates client already initialized with different options. New options were not applied."),this.initPromise;let i=performance.now();return this.initOptions=n,this.initPromise=this.init(n,t,r).then(()=>{this.initCompleted=!0,this.initWithDefaults=!0}).finally(()=>{let e=performance.now();this.fireClientEvent(i,e-i,"initialize",this.initCompleted,n.apiKey)}),this.initPromise}async initializeWithProvider(e,t,r,n){let i=(0,a("GWCtt").getOptionsWithDefaults)(e);if(this.initPromise)return(0,a("GWCtt").shallowEquals)(i,this.initOptions)||console.warn("Feature Gates client already initialized with different options. New options were not applied."),this.initPromise;let s=performance.now();return this.initOptions=i,this.provider=t,this.provider.setClientVersion(a("i9mLs").CLIENT_VERSION),this.provider.setApplyUpdateCallback&&this.provider.setApplyUpdateCallback(this.applyUpdateCallback.bind(this)),this.initPromise=this.initWithProvider(i,t,r,n).then(()=>{this.initCompleted=!0,this.initWithDefaults=!0}).finally(()=>{let e=performance.now();this.fireClientEvent(s,e-s,"initializeWithProvider",this.initCompleted,t.getApiKey?t.getApiKey():void 0)}),this.initPromise}applyUpdateCallback(e){try{(this.initCompleted||this.initWithDefaults)&&(this.assertInitialized(this.statsigClient),this.dataAdapter.setBootstrapData(e.experimentValues),this.dataAdapter.setData(JSON.stringify(e.experimentValues)),this.statsigValuesUpdated())}catch(e){console.warn("Error when attempting to apply update",e)}}fireClientEvent(e,t,r,n,i){this.initOptions.analyticsWebClient?.then(s=>{let o={targetApp:this.initOptions.targetApp,clientVersion:a("i9mLs").CLIENT_VERSION,success:n,startTime:e,totalTime:t,...i&&{apiKey:i}};s.sendOperationalEvent({action:r,actionSubject:"featureGatesClient",attributes:o,tags:["measurement"],source:"@atlaskit/feature-gate-js-client"})}).catch(e=>{this.initOptions.environment!==a("8ruqY").FeatureGateEnvironment.Production&&console.error("Analytics web client promise did not resolve",e)})}async initializeFromValues(e,t,r,n={}){let i=(0,a("GWCtt").getOptionsWithDefaults)(e);if(this.initPromise)return(0,a("GWCtt").shallowEquals)(i,this.initOptions)||console.warn("Feature Gates client already initialized with different options. New options were not applied."),this.initPromise;Object.prototype.hasOwnProperty.call(n,"has_updates")||(n.has_updates=!0);let s=performance.now();return this.initOptions=i,this.initPromise=this.initFromValues(i,t,r,n).then(()=>{this.initCompleted=!0,this.initWithDefaults=!0}).finally(()=>{let e=performance.now();this.fireClientEvent(s,e-s,"initializeFromValues",this.initCompleted)}),this.initPromise}assertInitialized(e){if(!e)throw Error("Client must be initialized before using this method")}async updateUser(e,t,r){this.assertInitialized(this.statsigClient);let n=(0,a("GWCtt").getOptionsWithDefaults)(e);await this.updateUserUsingInitializeValuesProducer(()=>a("1VtdU").default.fetchExperimentValues(n,t,r).then(({experimentValues:e,customAttributes:t})=>({experimentValues:e,customAttributesFromFetch:t})),t,r)}async updateUserWithProvider(e,t){if(this.assertInitialized(this.statsigClient),!this.provider)throw Error("Cannot update user using provider as the client was not initialised with a provider");await this.provider.setProfile(this.initOptions,e,t),await this.updateUserUsingInitializeValuesProducer(()=>this.provider.getExperimentValues(),e,t)}async updateUserWithValues(e,t,r={}){this.assertInitialized(this.statsigClient),await this.updateUserUsingInitializeValuesProducer(()=>Promise.resolve({experimentValues:r,customAttributesFromFetch:t}),e,t)}initializeCalled(){return null!=this.initPromise}initializeCompleted(){return this.initCompleted}checkGate(e,t={}){try{this.assertInitialized(this.statsigClient);let{fireGateExposure:r=!0}=t;return this.statsigClient.checkGate(e,{disableExposureLog:!r})}catch(t){return this.hasCheckGateErrorOccurred||(console.warn({msg:"An error has occurred checking the feature gate. Only the first occurrence of this error is logged.",gateName:e,error:t}),this.hasCheckGateErrorOccurred=!0),!1}}isGateExist(e){try{return this.assertInitialized(this.statsigClient),!this.statsigClient.getFeatureGate(e,{disableExposureLog:!0}).details.reason.includes("Unrecognized")}catch(e){return console.error(`Error occurred when trying to check FeatureGate: ${e}`),!0}}isExperimentExist(e){try{return this.assertInitialized(this.statsigClient),!this.statsigClient.getExperiment(e,{disableExposureLog:!0}).details.reason.includes("Unrecognized")}catch(e){return console.error(`Error occurred when trying to check Experiment: ${e}`),!0}}manuallyLogGateExposure(e){this.assertInitialized(this.statsigClient),this.statsigClient.checkGate(e)}getExperiment(e,t={}){try{this.assertInitialized(this.statsigClient);let{fireExperimentExposure:r=!0}=t;return a("hMFzK").DynamicConfig.fromExperiment(this.statsigClient.getExperiment(e,{disableExposureLog:!r}))}catch(t){return this.hasGetExperimentErrorOccurred||(console.warn({msg:"An error has occurred getting the experiment. Only the first occurrence of this error is logged.",experimentName:e,error:t}),this.hasGetExperimentErrorOccurred=!0),new(0,a("hMFzK").DynamicConfig)(e,{},"",{time:Date.now(),reason:a("6jK44").EvaluationReason.Error})}}getExperimentValue(e,t,r,n={}){let i=this.getExperiment(e,n);try{let{typeGuard:e}=n;return i.get(t,r,e)}catch(t){return this.hasGetExperimentValueErrorOccurred||(console.warn({msg:"An error has occurred getting the experiment value. Only the first occurrence of this error is logged.",experimentName:e,defaultValue:r,options:n,error:t}),this.hasGetExperimentValueErrorOccurred=!0),r}}manuallyLogExperimentExposure(e){this.assertInitialized(this.statsigClient),this.statsigClient.getExperiment(e)}manuallyLogLayerExposure(e,t){this.assertInitialized(this.statsigClient),this.statsigClient.getLayer(e)?.get(t)}shutdownStatsig(){this.assertInitialized(this.statsigClient),this.statsigClient.shutdown()}overrideGate(e,t){this.overrideAdapter.overrideGate(e,t),this.user&&this.statsigClient?.updateUserSync(this.user,{disableBackgroundCacheRefresh:!0}),this.statsigValuesUpdated()}clearGateOverride(e){this.overrideAdapter.removeGateOverride(e),this.statsigValuesUpdated()}overrideConfig(e,t){this.overrideAdapter.overrideDynamicConfig(e,t),this.statsigValuesUpdated()}clearConfigOverride(e){this.overrideAdapter.removeDynamicConfigOverride(e),this.statsigValuesUpdated()}setOverrides(e){this.overrideAdapter.setOverrides(e),this.statsigValuesUpdated()}getOverrides(){return this.overrideAdapter.getOverrides()}clearAllOverrides(){this.overrideAdapter.removeAllOverrides(),this.statsigValuesUpdated()}isCurrentUser(e,t){return(0,a("GWCtt").shallowEquals)(this.currentIdentifiers,e)&&(0,a("GWCtt").shallowEquals)(this.currentAttributes,t)}onGateUpdated(e,t,r={}){return this.subscriptions.onGateUpdated(e,n=>{let{fireGateExposure:i=!0}=r;i&&this.manuallyLogGateExposure(e);try{t(n)}catch(t){console.warn(`Error calling callback for gate ${e} with value ${n}`,t)}},this.checkGate.bind(this),r)}onExperimentValueUpdated(e,t,r,n,i={}){return this.subscriptions.onExperimentValueUpdated(e,t,r,t=>{let{fireExperimentExposure:r=!0}=i;r&&this.manuallyLogExperimentExposure(e);try{n(t)}catch(r){console.warn(`Error calling callback for experiment ${e} with value ${t}`,r)}},this.getExperimentValue.bind(this),i)}onAnyUpdated(e){return this.subscriptions.onAnyUpdated(e)}async init(e,t,r){let n,i,s={...e};try{let o=a("1VtdU").default.fetchClientSdk(e).then(e=>s.sdkKey=e.clientSdkKey),l=a("1VtdU").default.fetchExperimentValues(e,t,r),[,c]=await Promise.all([o,l]);n=c.experimentValues,i=c.customAttributes}catch(e){throw e instanceof Error&&console.error(`Error occurred when trying to fetch the Feature Gates client values, error: ${e?.message}`),console.warn("Initialising Statsig client without values"),await this.initFromValues(s,t,r),e}return this.initFromValues(s,t,i,n)}async initWithProvider(e,t,r,n){let i,s,a={...e,disableCurrentPageLogging:!0};try{await t.setProfile(e,r,n);let o=t.getClientSdkKey().then(e=>a.sdkKey=e),l=t.getExperimentValues(),[,c]=await Promise.all([o,l]);i=c.experimentValues,s=c.customAttributesFromFetch}catch(e){throw e instanceof Error&&console.error(`Error occurred when trying to fetch the Feature Gates client values, error: ${e?.message}`),console.warn("Initialising Statsig client without values"),await this.initFromValues(a,r,n),e}return this.initFromValues(a,r,s,i)}async initFromValues(e,t,r,s={}){this.overrideAdapter.initFromStoredOverrides(),this.currentIdentifiers=t,this.currentAttributes=r;let o=(0,a("GWCtt").migrateInitializationOptions)(e);o.sdkKey||(o.sdkKey=i),o.networkConfig?.logEventUrl||(o.networkConfig={...o.networkConfig,logEventUrl:"https://xp.atlassian.com/v1/rgstr"}),o.perimeter===a("8ruqY").PerimeterType.FEDRAMP_MODERATE&&(o.disableLogging=!0);let{sdkKey:l,environment:c,updateUserCompletionCallback:u,perimeter:d,...h}=o;this.user=(0,a("GWCtt").toStatsigUser)(t,r);let p={...h,environment:{tier:c},includeCurrentPageUrlWithEvents:!1,dataAdapter:this.dataAdapter,overrideAdapter:this.overrideAdapter};t.stableId?n.StableID.setOverride(t.stableId,l):p.disableStableID=!0;try{this.statsigClient=new(0,n.StatsigClient)(l,this.user,p),this.dataAdapter.setBootstrapData(s),await this.statsigClient.initializeAsync()}catch(e){throw e instanceof Error&&console.error(`Error occurred when trying to initialise the Statsig client, error: ${e?.message}`),console.warn("Initialising Statsig client with default sdk key and without values"),this.statsigClient=new(0,n.StatsigClient)(i,this.user,p),this.dataAdapter.setBootstrapData(),await this.statsigClient.initializeAsync(),this.initWithDefaults=!0,e}}async updateUserUsingInitializeValuesProducer(e,t,r){if(this.assertInitialized(this.statsigClient),!this.initPromise)throw Error("The client must be initialized before you can update the user.");if(this.isCurrentUser(t,r))return this.initPromise;let n=this.initPromise;try{await this.initPromise}catch(e){}let i=e(),s=this.updateStatsigClientUser(i,t,r);return this.initPromise=s.catch(async()=>{this.initPromise=n,this.provider&&await this.provider.setProfile(this.initOptions,this.currentIdentifiers,this.currentAttributes)}),s}async updateStatsigClientUser(e,t,r){let n,i;this.assertInitialized(this.statsigClient);try{n=await e,i=(0,a("GWCtt").toStatsigUser)(t,n.customAttributesFromFetch)}catch(t){let e=t instanceof Error?t.message:JSON.stringify(t);throw this.initOptions.updateUserCompletionCallback?.(!1,e),t}let s=!0,o=null;try{this.dataAdapter.setBootstrapData(n.experimentValues),this.user=i,await this.statsigClient.updateUserAsync(this.user)}catch(e){s=!1,o=String(e)}if(this.initOptions?.updateUserCompletionCallback?.(s,o),s)this.currentIdentifiers=t,this.currentAttributes=r,this.subscriptions.anyUpdated();else throw Error("Failed to update user. An unexpected error occured.")}getPackageVersion(){return a("i9mLs").CLIENT_VERSION}getLayer(e,t={}){try{this.assertInitialized(this.statsigClient);let{fireLayerExposure:r=!0}=t;return a("9DDUe").Layer.fromLayer(this.statsigClient.getLayer(e,{disableExposureLog:!r}))}catch(t){return this.hasGetLayerErrorOccurred||(console.warn({msg:"An error has occurred getting the layer. Only the first occurrence of this error is logged.",layerName:e,error:t}),this.hasGetLayerErrorOccurred=!0),a("9DDUe").Layer.fromLayer((0,n._makeLayer)(e,{reason:"Error"},null))}}getLayerValue(e,t,r,n={}){let i=this.getLayer(e,n);try{let{typeGuard:e}=n;return i.get(t,r,e)}catch(t){return this.hasGetLayerValueErrorOccurred||(console.warn({msg:"An error has occurred getting the layer value. Only the first occurrence of this error is logged.",layerName:e,defaultValue:r,options:n,error:t}),this.hasGetLayerValueErrorOccurred=!0),r}}}}),o("9Pvqq",function(t,r){e(t.exports,"default",()=>s);var n=a("7n9mn");let i="@all-features";class s{constructor(){this.eventToValue=new Map,this.emitter=new(0,n.EventEmitter2)}onGateUpdated(e,t,r,n){let i=r(e,{...n,fireGateExposure:!1});void 0===this.eventToValue.get(t)&&this.eventToValue.set(t,i);let s=()=>{let i=r(e,{...n,fireGateExposure:!1});this.eventToValue.get(t)!==i&&(this.eventToValue.set(t,i),t(i))};return this.emitter.on(e,s),()=>{this.emitter.off(e,s)}}onExperimentValueUpdated(e,t,r,n,i,s){let a=`${e}.${t}`,o=i(e,t,r,{...s,fireExperimentExposure:!1});void 0===this.eventToValue.get(n)&&this.eventToValue.set(n,o);let l=()=>{let a=i(e,t,r,{...s,fireExperimentExposure:!1});this.eventToValue.get(n)!==a&&(this.eventToValue.set(n,a),n(a))};return this.emitter.on(a,l),()=>{this.emitter.off(a,l)}}onAnyUpdated(e){return this.emitter.on(i,e),()=>{this.emitter.off(i,e)}}anyUpdated(){this.emitter.emit(i),this.emitter.eventNames().filter(e=>e!==i).forEach(e=>{this.emitter.emit(e)})}}}),o("hMFzK",function(t,r){e(t.exports,"DynamicConfig",()=>n);class n{static fromExperiment(e){let t=new n(e.name,e.value,e.ruleID,(0,a("GWCtt").migrateEvaluationDetails)(e.details),(0,a("GWCtt").migrateSecondaryExposures)(e.__evaluation?.secondary_exposures??[]),e.groupName??void 0);return t.experiment=e,t}constructor(e,t,r,n,i=[],s="",a=null){this.value=t,this._name=e,this._ruleID=r,this._secondaryExposures=i,this._allocatedExperimentName=s,this._evaluationDetails=n,this._onDefaultValueFallback=a}get(e,t,r){let n=this.getValue(e,t);if(null==n)return t;let i=Array.isArray(t)?"array":typeof t,s=Array.isArray(n)?"array":typeof n;return r?r(n)?(this.fireExposure(e),n):(this._onDefaultValueFallback?.(this,e,i,s),t):null==t||i===s?(this.fireExposure(e),n):(this._onDefaultValueFallback?.(this,e,i,s),t)}getValue(e,t){return null==e?this.value:(null==t&&(t=null),null==this.value[e])?t:(this.fireExposure(e),this.value[e])}fireExposure(e){this.experiment&&this.experiment.get(e)}}}),o("GWCtt",function(t,r){e(t.exports,"getOptionsWithDefaults",()=>n),e(t.exports,"shallowEquals",()=>i),e(t.exports,"toStatsigUser",()=>s),e(t.exports,"migrateInitializationOptions",()=>o),e(t.exports,"migrateEvaluationDetails",()=>c),e(t.exports,"migrateSecondaryExposures",()=>u);let n=e=>({perimeter:(0,a("c04PQ").isFedRamp)()?a("8ruqY").PerimeterType.FEDRAMP_MODERATE:a("8ruqY").PerimeterType.COMMERCIAL,...e}),i=(e,t)=>{if(!e&&!t)return!0;if(!e||!t)return!1;let r=Object.entries(e),n=Object.entries(t);if(r.length!==n.length)return!1;let i=([e],[t])=>e.localeCompare(t);r.sort(i),n.sort(i);for(let e=0;e<r.length;e++){let[,t]=r[e],[,i]=n[e];if(t!==i)return!1}return!0},s=(e,t)=>{let r={customIDs:e,custom:t};return e.atlassianAccountId&&(r.userID=e.atlassianAccountId),r},o=e=>{let{api:t,disableCurrentPageLogging:r,loggingIntervalMillis:n,loggingBufferMaxSize:i,localMode:s,eventLoggingApi:a,eventLoggingApiForRetries:o,disableLocalStorage:l,ignoreWindowUndefined:c,disableAllLogging:u,initTimeoutMs:d,disableNetworkKeepalive:h,overrideStableID:p,disableErrorLogging:f,disableAutoMetricsLogging:g,...m}=e;return{...m,networkConfig:{api:t,logEventUrl:a?a+"rgstr":void 0,logEventFallbackUrls:o?[o]:void 0,preventAllNetworkTraffic:s||!c&&"undefined"==typeof window},includeCurrentPageUrlWithEvents:!r,loggingIntervalMs:n,loggingBufferMaxSize:i,disableStorage:void 0===l?s:l,disableLogging:void 0===u?s:u}},l=Object.entries(a("6jK44").EvaluationReason).map(([e,t])=>[e.toLowerCase(),t]),c=e=>{let t=e.reason.toLowerCase();return{reason:l.find(([e])=>t.includes(e))?.[1]??a("6jK44").EvaluationReason.Unknown,time:e.receivedAt??Date.now()}},u=e=>e.map(e=>"string"==typeof e?{gate:e}:e)}),o("c04PQ",function(t,r){e(t.exports,"isFedRamp",()=>n);function n(){let e=globalThis,t=e.MICROS_PERIMETER||e.UNSAFE_ATL_CONTEXT_BOUNDARY;if(t)return t===l;let r=e.location?.hostname?.match(/atlassian-us-gov-mod\.(com|net)|atlassian-us-gov\.(com|net)|atlassian-fex\.(com|net)|atlassian-stg-fedm\.(com|net)/);return!!r&&r.length>0}});const l="fedramp-moderate";o("6jK44",function(t,r){e(t.exports,"EvaluationReason",()=>i);var n,i=((n={}).Error="Error",n.LocalOverride="LocalOverride",n.Unrecognized="Unrecognized",n.Uninitialized="Uninitialized",n.NetworkNotModified="NetworkNotModified",n.Network="Network",n.InvalidBootstrap="InvalidBootstrap",n.Bootstrap="Bootstrap",n.Cache="Cache",n.Unknown="Unknown",n)}),o("8ruqY",function(t,r){e(t.exports,"FeatureGateEnvironment",()=>s),e(t.exports,"PerimeterType",()=>a);var n,i,s=((n={}).Development="development",n.Staging="staging",n.Production="production",n),a=((i={}).COMMERCIAL="commercial",i.FEDRAMP_MODERATE="fedramp-moderate",i)}),o("9DDUe",function(t,r){e(t.exports,"Layer",()=>n);class n{static fromLayer(e){return new n(e.name,e.__value,e.ruleID,(0,a("GWCtt").migrateEvaluationDetails)(e.details),(t,r)=>e.get(r),(0,a("GWCtt").migrateSecondaryExposures)(e.__evaluation?.secondary_exposures??[]),(0,a("GWCtt").migrateSecondaryExposures)(e.__evaluation?.undelegated_secondary_exposures??[]),e.__evaluation?.allocated_experiment_name,e.__evaluation?.explicit_parameters)}constructor(e,t,r,n,i=null,s=[],a=[],o="",l=[]){this._logParameterFunction=i,this._name=e,this._value=JSON.parse(JSON.stringify(t??{})),this._ruleID=r??"",this._evaluationDetails=n,this._secondaryExposures=s,this._undelegatedSecondaryExposures=a,this._allocatedExperimentName=o,this._explicitParameters=l}get(e,t,r){let n=this._value[e];if(null==n)return t;let i=()=>(this._logLayerParameterExposure(e),n);return r?r(n)?i():t:null==t||typeof n==typeof t&&Array.isArray(t)===Array.isArray(n)?i():t}getValue(e,t){void 0==t&&(t=null);let r=this._value[e];return null!=r&&this._logLayerParameterExposure(e),r??t}_logLayerParameterExposure(e){this._logParameterFunction?.(this,e)}}}),o("1VtdU",function(t,r){e(t.exports,"default",()=>n);class n{static async fetchClientSdk(e){let{targetApp:t}=e,r=`/api/v2/frontend/clientSdkKey/${t}`;try{return await this.fetchRequest(r,"GET",e)}catch(e){if(e instanceof Error)throw e;throw Error("Failed to retrieve client sdk key")}}static async fetchExperimentValues(e,t,r){let n={identifiers:t,customAttributes:r,targetApp:e.targetApp};try{return await this.fetchRequest("/api/v2/frontend/experimentValues","POST",e,n)}catch(e){if(e instanceof Error)throw e;throw Error("Failed to retrieve experiment values")}}static async handleResponseError(e){if(!e.ok){let t=await e.text();throw new(0,a("4BA3W").ResponseError)(`Non 2xx response status received, status: ${e.status}, body: ${JSON.stringify(t)}`)}if(204===e.status)throw new(0,a("4BA3W").ResponseError)("Unexpected 204 response")}static async extractResponseBody(e){return JSON.parse(await e.text())}static getBaseUrl(e,t=!1,r){if(t)return"/gateway/api/flags";if(r===a("8ruqY").PerimeterType.FEDRAMP_MODERATE)switch(e){case a("8ruqY").FeatureGateEnvironment.Production:return"https://api.atlassian-us-gov-mod.com/flags";case a("8ruqY").FeatureGateEnvironment.Staging:return"https://api.stg.atlassian-us-gov-mod.com/flags";default:throw Error(`Invalid environment "${e}" for "${r}" perimeter`)}if(r===a("8ruqY").PerimeterType.COMMERCIAL)switch(e){case a("8ruqY").FeatureGateEnvironment.Development:return"https://api.dev.atlassian.com/flags";case a("8ruqY").FeatureGateEnvironment.Staging:return"https://api.stg.atlassian.com/flags";default:return"https://api.atlassian.com/flags"}throw Error(`Invalid perimeter "${r}"`)}static async fetchRequest(e,t,r,i){let s,o=n.getBaseUrl(r.environment,r.useGatewayURL,r.perimeter),l=r.fetchTimeoutMs||5e3;if(AbortSignal.timeout)s=AbortSignal.timeout(l);else if(AbortController){let e=new AbortController;s=e.signal,setTimeout(()=>e.abort(),l)}let c=await fetch(`${o}${e}`,{method:t,headers:{"Content-Type":"application/json","X-Client-Name":"feature-gate-js-client","X-Client-Version":a("i9mLs").CLIENT_VERSION,"X-API-KEY":r.apiKey},signal:s,...i&&{body:JSON.stringify(i)}});return await this.handleResponseError(c),await this.extractResponseBody(c)}}}),o("i9mLs",function(t,r){e(t.exports,"CLIENT_VERSION",()=>n);let n="0.0.0-use.local"}),o("4BA3W",function(t,r){e(t.exports,"ResponseError",()=>n);class n extends Error{constructor(e){super(e)}}}),o("l4hNL",function(t,r){e(t.exports,"NoFetchDataAdapter",()=>i);var n=a("1Nxtn");class i extends n.DataAdapterCore{constructor(){super("NoFetchDataAdapter","nofetch"),this.bootstrapResult=null}setBootstrapData(e){this.bootstrapResult=e?{source:"Bootstrap",data:JSON.stringify(e),receivedAt:Date.now(),stableID:n.StableID.get(this._getSdkKey()),fullUserHash:null}:null}async prefetchData(e,t){}async getDataAsync(e,t,r){return this.bootstrapResult&&{...this.bootstrapResult,fullUserHash:(0,n._getFullUserHash)(t)}}getDataSync(e){return this.bootstrapResult&&{...this.bootstrapResult,fullUserHash:(0,n._getFullUserHash)(e)}}async _fetchFromNetwork(e,t,r){return null}_getCacheKey(e){let t=(0,n._getStorageKey)(this._getSdkKey(),e);return`${n.DataAdapterCachePrefix}.${this._cacheSuffix}.${t}`}_isCachedResultValidFor204(e,t){return!1}setDataLegacy(e,t){super.setData(e,t)}toJSON(){let e={...this};return delete e._options,delete e._inMemoryCache,delete e.bootstrapResult,e}}}),o("5b5vX",function(t,r){e(t.exports,"LOCAL_STORAGE_KEY",()=>s),e(t.exports,"PersistentOverrideAdapter",()=>u);var n=a("10Gqk");let i="LocalOverride:Recognized",s="STATSIG_OVERRIDES",o="STATSIG_JS_LITE_LOCAL_OVERRIDES",l=()=>({gates:{},configs:{},layers:{}}),c=(e,t)=>t+":"+e;class u{constructor(e){this._overrides=l(),this._djb2Map=new Map,this._localStorageKey=e}parseStoredOverrides(e){try{let t=window.localStorage.getItem(e);if(!t)return l();return JSON.parse(t)}catch{return l()}}mergeOverrides(...e){let t=l();for(let r of e){for(let[e,n]of Object.entries(r.gates??{}))t.gates[e]=n;for(let[e,n]of Object.entries(r.configs??{}))t.configs[e]=n;for(let[e,n]of Object.entries(r.layers??{}))t.layers[e]=n}return t}initFromStoredOverrides(){let e=this.mergeOverrides(this._overrides,this.parseStoredOverrides(o),this.parseStoredOverrides(this._localStorageKey));try{window.localStorage.removeItem(o)}catch{}for(let t of Object.values(e)){let e=new Set(Object.keys(t));for(let r of e){let i=(0,n._DJB2)(r);e.has(i)&&delete t[i]}}this.applyOverrides(e)}saveOverrides(){try{window.localStorage.setItem(this._localStorageKey,JSON.stringify(this._overrides))}catch{}}getOverrides(){return this.mergeOverrides(this._overrides)}applyOverrides(e){let t={...l(),...e};for(let[e,r]of(this._djb2Map.clear(),Object.entries(t)))for(let[t,i]of Object.entries(r))this._djb2Map.set(c((0,n._DJB2)(t),e),i);this._overrides=t}setOverrides(e){this.applyOverrides(e),this.saveOverrides()}overrideGate(e,t){this._overrides.gates[e]=t,this._djb2Map.set(c((0,n._DJB2)(e),"gates"),t),this.saveOverrides()}removeGateOverride(e){delete this._overrides.gates[e],this._djb2Map.delete(c((0,n._DJB2)(e),"gates")),this.saveOverrides()}getGateOverride(e,t){let r=this._overrides.gates[e.name]??this._djb2Map.get(c(e.name,"gates"));return null==r?null:{...e,value:r,details:{...e.details,reason:i}}}overrideDynamicConfig(e,t){this._overrides.configs[e]=t,this._djb2Map.set(c((0,n._DJB2)(e),"configs"),t),this.saveOverrides()}removeDynamicConfigOverride(e){delete this._overrides.configs[e],this._djb2Map.delete(c((0,n._DJB2)(e),"configs")),this.saveOverrides()}getDynamicConfigOverride(e,t){return this._getConfigOverride(e,this._overrides.configs)}overrideExperiment(e,t){this._overrides.configs[e]=t,this._djb2Map.set(c((0,n._DJB2)(e),"configs"),t),this.saveOverrides()}removeExperimentOverride(e){delete this._overrides.configs[e],this._djb2Map.delete(c((0,n._DJB2)(e),"configs")),this.saveOverrides()}getExperimentOverride(e,t){return this._getConfigOverride(e,this._overrides.configs)}overrideLayer(e,t){this._overrides.layers[e]=t,this._djb2Map.set(c((0,n._DJB2)(e),"layers"),t),this.saveOverrides()}removeLayerOverride(e){delete this._overrides.layers[e],this._djb2Map.delete(c((0,n._DJB2)(e),"layers")),this.saveOverrides()}removeAllOverrides(){this._overrides=l();try{window.localStorage.removeItem(this._localStorageKey)}catch{}}getLayerOverride(e,t){let r=this._overrides.layers[e.name]??this._djb2Map.get(c(e.name,"layers"));return null==r?null:{...e,__value:r,get:(0,n._makeTypedGet)(e.name,r),details:{...e.details,reason:i}}}_getConfigOverride(e,t){let r=t[e.name]??this._djb2Map.get(c(e.name,"configs"));return null==r?null:{...e,value:r,get:(0,n._makeTypedGet)(e.name,r),details:{...e.details,reason:i}}}}}),o("gSA3s",function(t,r){e(t.exports,"allFeatureFlagsAccessed",()=>n),e(t.exports,"currentFeatureFlagsAccessed",()=>i),e(t.exports,"addFeatureFlagAccessed",()=>s);let n=new Map,i=new Map;function s(e,t){try{globalThis.__CRITERION__&&"function"==typeof globalThis.__CRITERION__.addFeatureFlagAccessed&&globalThis.__CRITERION__.addFeatureFlagAccessed(e,t)}catch(e){}let r=(0,a("g0ix0").redactValue)(t);n.set(e,r),i.set(e,r)}}),o("g0ix0",function(t,r){e(t.exports,"redactValue",()=>n);function n(e){return function(e){let t;try{t="string"==typeof e||e instanceof String}catch(e){t=!1}return t}(e)&&function(e){try{if("{"===e.charAt(0))return!0}catch(e){}return!1}(e)||e&&"object"==typeof e&&e.constructor===Object?c:e}});const c="non_boolean";o("VSDnB",function(t,r){function n(e){(0,a("gNWRx").setBooleanResolver)(e)}function i(e){return(0,a("gNWRx").resolveBooleanFlag)(e)}e(t.exports,"setBooleanFeatureFlagResolver",()=>n),e(t.exports,"fg",()=>i)}),o("gNWRx",function(t,r){e(t.exports,"setBooleanResolver",()=>l),e(t.exports,"resolveBooleanFlag",()=>c);var n=a("6cAn5");let i="__PLATFORM_FEATURE_FLAGS__",s=(void 0===n||void 0===n.env)&&!1,o="undefined"!=typeof window?window:globalThis;function l(e){o[i].booleanResolver=e}function c(e){if(s)return(0,a("8z44t").debug)('[%s]: The feature flags were enabled while running tests. The flag "%s" will be always enabled.',"@atlaskit/platform-feature-flags",e),!0;try{if(o[i]?.booleanResolver===void 0||o[i]?.booleanResolver===null)return a("iEN9D").default.checkGate(e);let t=o[i]?.booleanResolver(e);if("boolean"!=typeof t)return console.warn(`${e} resolved to a non-boolean value, returning false for safety`),!1;return t}catch(e){return!1}}o[i]=o[i]||{booleanResolver:void 0}}),o("8z44t",function(t,r){e(t.exports,"debug",()=>i);let n=globalThis?.process?.env?.JEST_WORKER_ID===void 0&&globalThis?.process?.env?.NODE_ENV!=="production",i=(...e)=>{n&&console.debug(...e)}}),o("2cWYv",function(t,r){function n(e,t,r){var n="";return r.split(" ").forEach(function(r){void 0!==e[r]?t.push(e[r]+";"):r&&(n+=r+" ")}),n}e(t.exports,"getRegisteredStyles",()=>n),e(t.exports,"registerStyles",()=>i),e(t.exports,"insertStyles",()=>s);var i=function(e,t,r){var n=e.key+"-"+t.name;!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles)},s=function(e,t,r){i(e,t,r);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var s=t;do e.insert(t===s?"."+n:"",s,e.sheet,!0),s=s.next;while(void 0!==s)}}}),o("6wxJn",function(t,r){e(t.exports,"default",()=>n);var n=(0,a("5uXOq").createContext)(null)}),o("tcn7E",function(t,r){e(t.exports,"setInteractionActiveTrace",()=>i),e(t.exports,"setActiveTrace",()=>s),e(t.exports,"getActiveTrace",()=>o),e(t.exports,"clearActiveTrace",()=>l),e(t.exports,"getActiveTraceHttpRequestHeaders",()=>c);let n={context:null};function i(e,t){s(e.replace(/-/g,""),Array.from(Array(16),()=>Math.floor(16*Math.random()).toString(16)).join(""),t)}function s(e,t,r){n.context={traceId:e,spanId:t,type:r}}function o(){return n.context||void 0}function l(){n.context=null}function c(e){if(null===n.context)return null;let{traceId:t,spanId:r}=n.context;return(0,a("nfArY").makeTraceHttpRequestHeaders)(t,r)}}),o("nfArY",function(t,r){e(t.exports,"makeTraceHttpRequestHeaders",()=>n);function n(e,t){return{"X-B3-TraceId":e,"X-B3-SpanId":t}}}),o("1u4q7",function(t,r){e(t.exports,"DefaultInteractionID",()=>o),e(t.exports,"subscribeToInteractionIdChanges",()=>l),e(t.exports,"default",()=>c),e(t.exports,"getInteractionId",()=>u);var n=a("5uXOq");let i=new Set;class s{get current(){return this._current}set current(e){let t=this._current;this._current=e,t!==e&&(0,a("VSDnB").fg)("platform_ufo_hold_cross_interaction")&&i.forEach(t=>t(e))}constructor(){this._current=null}}let o=(()=>{if(globalThis.__UFO_DEFAULT_INTERACTION_ID__)return globalThis.__UFO_DEFAULT_INTERACTION_ID__;let e=new s;return globalThis.__UFO_DEFAULT_INTERACTION_ID__=e,e})(),l=e=>(0,a("VSDnB").fg)("platform_ufo_hold_cross_interaction")?(i.add(e),()=>{i.delete(e)}):()=>{};var c=(0,n.createContext)(o);let u=()=>o}),o("bFU4G",function(t,r){e(t.exports,"postInteractionLog",()=>s),e(t.exports,"getActiveInteraction",()=>u),e(t.exports,"updatePageLoadInteractionName",()=>f),e(t.exports,"addMetadata",()=>g),e(t.exports,"addCustomData",()=>m),e(t.exports,"addCustomTiming",()=>v),e(t.exports,"addMark",()=>y),e(t.exports,"addSpan",()=>E),e(t.exports,"addSpanToAll",()=>b),e(t.exports,"extractModuleName",()=>I),e(t.exports,"addHold",()=>S),e(t.exports,"addHoldByID",()=>T),e(t.exports,"removeHoldByID",()=>C),e(t.exports,"getCurrentInteractionType",()=>O),e(t.exports,"ModuleLoadingProfiler",()=>A),e(t.exports,"addError",()=>k),e(t.exports,"addErrorToAll",()=>R),e(t.exports,"addProfilerTimings",()=>D),e(t.exports,"sinkInteractionHandler",()=>M),e(t.exports,"sinkPostInteractionLogHandler",()=>L),e(t.exports,"tryComplete",()=>U),e(t.exports,"abort",()=>B),e(t.exports,"abortByNewInteraction",()=>G),e(t.exports,"abortAll",()=>H),e(t.exports,"addOnCancelCallback",()=>W),e(t.exports,"addNewInteraction",()=>q),e(t.exports,"addBrowserMetricEvent",()=>z),e(t.exports,"addApdexToAll",()=>$),e(t.exports,"addApdex",()=>K),e(t.exports,"addRequestInfo",()=>Y),e(t.exports,"addSegment",()=>Z),e(t.exports,"removeSegment",()=>X),e(t.exports,"addRedirect",()=>Q),e(t.exports,"interactionSpans",()=>ee),e(t.exports,"addCustomSpans",()=>er);var n=a("7Jxgt");let i={name:void 0,isAborted:void 0},s=new(0,a("bJCAw").default),o=[],l=new Map,c=[];function u(){let e=(0,a("1u4q7").getInteractionId)();if(e.current)return a("45w2S").interactions.get(e.current)}function d(){return(0,a("fe1wc").getConfig)()?.enableAdditionalPerformanceMarks||window.__REACT_UFO_ENABLE_PERF_TRACING||!1}function h(e,t){let r=[...e??[]];return t&&r.push({name:t}),r.map(e=>e.name)?.join("/")}function p(e){a("45w2S").interactions.delete(e)}function f(e,t=e){let r=u();r&&("page_load"===r.type||"transition"===r.type)&&(r.ufoName=e,r.routeName=t)}function g(e,t){let r=a("45w2S").interactions.get(e);null!=r&&Object.keys(t).forEach(e=>{r.metaData[e]=t[e]})}function m(e,t,r){let n=a("45w2S").interactions.get(e);null!=n&&Object.keys(r).forEach(e=>{n.customData.push({labelStack:t,data:{[e]:r[e]}})})}function v(e,t,r){let n=a("45w2S").interactions.get(e);if(null!=n&&(n.customTimings.push({labelStack:t,data:r}),d()))for(let[e,n]of Object.entries(r)){let{startTime:r,endTime:i}=n;try{performance.measure(`\u{1F6F8} ${h(t,e)} [custom_timing]`,{start:r,end:i})}catch(e){}}}function y(e,t,r,n,i=performance.now()){let s=a("45w2S").interactions.get(e);null!=s&&s.marks.push({type:t,name:r,labelStack:n,time:i}),d()&&performance.mark(`\u{1F6F8} ${h(n,r)} [${t}]`,{startTime:i})}function E(e,t,r,n,i,s=performance.now(),o){let l=a("45w2S").interactions.get(e);if(null!=l&&(l.spans.push({type:t,name:r,labelStack:n,start:i,end:s,size:o}),d()))try{performance.measure(`\u{1F6F8} ${h(n,r)} [${t}]`,{start:i,end:s})}catch(e){}}function b(e,t,r,n,i=performance.now(),s=0){if(a("45w2S").interactions.forEach(a=>{a.spans.push({type:e,name:t,labelStack:r,start:n,end:i,size:s})}),d())try{performance.measure(`\u{1F6F8} ${h(r,t)} [${e}]`,{start:n,end:i})}catch(e){}}let _={};function I(e){let t=e??"";return(t=(t=t.replace(/^\.\/src\/packages\//,"")).replace(/^\.\/node_modules\//,"")).replace(/(\/src)?\/(index|main)\.(tsx|ts|js|jsx)$/,"")}function w(e,t,r,n){window.__CRITERION__?.addUFOHold&&window.__CRITERION__.addUFOHold(e,h(t),r,n)}function x(e){window.__CRITERION__?.removeUFOHold&&window.__CRITERION__.removeUFOHold(e)}function S(e,t,r,i){let s=a("45w2S").interactions.get(e),o=(0,n.v4)();if(null!=s){let n=performance.now(),l={labelStack:t,name:r,start:n};return(0,a("fe1wc").getConfig)()?.experimentalInteractionMetrics?.enabled&&i&&s.holdExpActive.set(o,{...l,start:n}),i||s.holdActive.set(o,{...l,start:n}),w(o,t,r,n),()=>{let i=performance.now();if(d())try{performance.measure(`\u{1F6F8} ${h(t,r)} [hold]`,{start:n,end:i})}catch(e){}x(o);let l=a("45w2S").interactions.get(e),c=s.holdActive.get(o),u=s.holdExpActive.get(o);null!=l&&(null!=c&&(l.holdInfo.push({...c,end:i}),s.holdActive.delete(o)),null!=u&&(l.holdExpInfo.push({...u,end:i}),s.holdExpActive.delete(o)))}}return()=>{}}function T(e,t,r,n,i){let s=a("45w2S").interactions.get(e);if(null!=s){let e=performance.now();s.holdActive.set(n,{labelStack:t,name:r,start:e,ignoreOnSubmit:i}),w(n,t,r,e)}return()=>{}}function C(e,t){let r=a("45w2S").interactions.get(e);if(null!=r){let n=performance.now(),i=a("45w2S").interactions.get(e),s=r.holdActive.get(t);null!=i&&null!=s&&(i.holdInfo.push({...s,end:n}),r.holdActive.delete(t),x(t))}}function O(e){let t=a("45w2S").interactions.get(e);return t?t.type:null}let A={onPreload(e,t){!function(e,t,r,n=performance.now()){a("45w2S").interactions.forEach(r=>{r.marks.push({type:e,name:t,labelStack:null,time:n})}),d()&&performance.mark(`\u{1F6F8} ${h(null,t)} [${e}]`,{startTime:n})}("bundle_preload",I(e),null,performance.now())},onLoadStart(e){let t=setTimeout(()=>{delete _[e.identifier]},3e4),r={start:performance.now(),timeoutId:t};_[e.identifier]=r},onLoadComplete(e){let t=_[e.identifier];if(t){var r,n;clearTimeout(t.timeoutId),delete _[e.identifier],r=I(e.identifier),b("bundle_load",r,null,n=t.start,performance.now()-n)}},placeholderFallBackMounted(e,t){T((0,a("1u4q7").getInteractionId)().current,[],t,e)},placeholderFallBackUnmounted(e){C((0,a("1u4q7").getInteractionId)().current,e)}};function k(e,t,r,n,i,s,o){let l=a("45w2S").interactions.get(e);null!=l&&l.errors.push({name:t,labelStack:r,errorType:n,errorMessage:i,errorStack:s,forcedError:o})}function R(e,t,r,n,i){a("45w2S").interactions.forEach(s=>{s.errors.push({name:e,labelStack:t,errorType:r,errorMessage:n,errorStack:i})})}function D(e,t,r,n,i,o,l){if(d())try{performance.measure(`\u{1F6F8} ${h(t)} [react-profiler] ${r}`,{start:o,duration:n})}catch(e){}let c=a("45w2S").interactions.get(e);null!=c?c.reactProfilerTimings.push({labelStack:t,type:r,actualDuration:n,baseDuration:i,startTime:o,commitTime:l}):(0,a("fe1wc").getConfig)()?.postInteractionLog?.enabled&&s.addProfilerTimings(t,r,n,i,o,l)}function N(e,t){o.push({id:e,data:t})}let P=N;function F(e,t,r=performance.now()){t.end=r;try{performance.measure(`\u{1F6F8} [${t.type}] ${t.ufoName} [ttai]`,{start:t.start,end:t.end})}catch(e){}if(t.featureFlags&&(t.featureFlags.during=Object.fromEntries(a("gSA3s").currentFeatureFlagsAccessed)),(0,a("tcn7E").clearActiveTrace)(),t.cleanupCallbacks.reverse().forEach(e=>{e()}),(0,a("fe1wc").getConfig)()?.vc?.stopVCAtInteractionFinish&&(t.vc=(0,a("a0hd6").getVCObserver)().getVCRawData()),(0,a("fe1wc").getConfig)()?.experimentalInteractionMetrics?.enabled||p(e),i.name=t.ufoName||"unknown",i.isAborted=null!=t.abortReason,t.ufoName&&P(e,t),d()){let e=new Map;t.reactProfilerTimings.forEach(t=>{var r;let n=(r=t.labelStack,r?.map(e=>"segmentId"in e?`${e.name}:${e.segmentId}`:`${e.name}`)?.join("/"));if(n){let r=e.get(n)??{labelStack:t.labelStack};r.start=t.startTime<(r.start??Number.MAX_SAFE_INTEGER)?t.startTime:r.start,r.end=t.commitTime>(r.end??Number.MIN_SAFE_INTEGER)?t.commitTime:r.end,e.set(n,r)}});try{for(let[,{labelStack:t,start:r,end:n}]of e.entries())performance.measure(`\u{1F6F8} ${h(t)} [segment_ttai]`,{start:r,end:n})}catch(e){}}try{window.dispatchEvent(new CustomEvent("UFO_FINISH_INTERACTION",{detail:t}))}catch(e){}}function M(e){P===N&&(P=e,o.forEach(t=>{e(t.id,t.data)}),o.length=0)}function L(e){s.sinkHandler(e)}let V=!1;function U(e,t){let r=a("45w2S").interactions.get(e);if(null!=r){let n=0===r.holdActive.size,i=0===r.holdExpActive.size,o=async()=>{if((0,a("fe1wc").getConfig)()?.postInteractionLog?.enabled){let e,t;if((0,a("fe1wc").getConfig)()?.experimentalInteractionMetrics?.enabled){e=(await (0,a("f38ba").getExperimentalVCMetrics)(r))?.["metric:experimental:vc90"];let{start:n,end:i}=r;t=r.abortReason?void 0:Math.round(i-n)}s.onInteractionComplete({...r,experimentalTTAI:t,experimentalVC90:e})}(0,a("fe1wc").getConfig)()?.experimentalInteractionMetrics?.enabled&&p(e),V=!1};n&&(V||(F(e,r,t),V=!0),i&&((0,a("fe1wc").getConfig)()?.experimentalInteractionMetrics?.enabled&&(0,a("f38ba").onExperimentalInteractionComplete)(e,r,t),o()))}}function j(e){e.cancelCallbacks.reverse().forEach(e=>{e()})}function B(e,t){let r=a("45w2S").interactions.get(e);null!=r&&(j(r),r.abortReason=t,F(e,r),(0,a("fe1wc").getConfig)()?.experimentalInteractionMetrics?.enabled&&((0,a("f38ba").onExperimentalInteractionComplete)(e,r),p(e)))}function G(e,t){let r=a("45w2S").interactions.get(e);null!=r&&(j(r),r.abortReason="new_interaction",r.abortedByInteractionName=t,F(e,r),(0,a("fe1wc").getConfig)()?.experimentalInteractionMetrics?.enabled&&((0,a("f38ba").onExperimentalInteractionComplete)(e,r),p(e)))}function H(e,t){a("45w2S").interactions.forEach((r,n)=>{0!==r.holdActive.size&&(j(r),r.abortReason=e,null!=t&&(r.abortedByInteractionName=t)),F(n,r),(0,a("fe1wc").getConfig)()?.experimentalInteractionMetrics?.enabled&&((0,a("f38ba").onExperimentalInteractionComplete)(n,r),p(n))})}function W(e,t){let r=a("45w2S").interactions.get(e);r?.cancelCallbacks.push(t)}function q(e,t,r,n,o,u,d,h=null){(0,a("fe1wc").getConfig)()?.postInteractionLog?.enabled&&s.reset();let p=n,f=6e4,g=setTimeout(()=>{B(e,"timeout")},6e4),m=(0,a("5gx4p").default)((0,a("fe1wc").getCapabilityRate)("feature_flag_access")),v={id:e,start:n,end:0,ufoName:t,type:r,previousInteractionName:i.name,isPreviousInteractionAborted:!0===i.isAborted,marks:[],customData:[],customTimings:[],spans:[],requestInfo:[],reactProfilerTimings:[],holdInfo:[],holdExpInfo:[],holdActive:new Map,holdExpActive:new Map,measureStart:performance.now(),rate:o,cancelCallbacks:[],metaData:{},errors:[],apdex:[],labelStack:u,routeName:d??t,featureFlags:m?{prior:Object.fromEntries(a("gSA3s").allFeatureFlagsAccessed),during:{}}:void 0,knownSegments:[],cleanupCallbacks:[],awaitReactProfilerCount:0,redirects:[],timerID:g,changeTimeout:function(t){let r=performance.now();if(f-(r-p)<t)return;clearTimeout(this.timerID);let n=setTimeout(()=>{B(e,"timeout")},t);f=t,p=r,this.timerID=n},trace:h};m&&a("gSA3s").currentFeatureFlagsAccessed.clear(),a("45w2S").interactions.set(e,v);let y={onAdd(e){v.knownSegments.push(e)},onRemove(){}};for(let e of(c.push(y),l.values()))y.onAdd(e);v.cleanupCallbacks.push(()=>{let e=c.findIndex(e=>e===y);-1!==e&&c.splice(e,1)}),v.cleanupCallbacks.push(()=>{clearTimeout(v.timerID)}),(0,a("fe1wc").getAwaitBM3TTIList)().includes(t)&&T(e,[],t,t,!0),"transition"===r&&((0,a("a0hd6").getVCObserver)().start({startTime:n,experienceKey:t}),s.startVCObserver({startTime:n}),(0,a("fe1wc").getConfig)()?.experimentalInteractionMetrics?.enabled&&a("f38ba").experimentalVC.start({startTime:n}))}function z(e){let t=u();t&&(t.legacyMetrics=t.legacyMetrics||[],t.legacyMetrics.push(e),("page_load"===t.type||"transition"===t.type)&&e.config?.type==="PAGE_LOAD"&&(t.changeTimeout(15e3),C(t.id,t.ufoName)))}function $(e){a("45w2S").interactions.forEach((t,r)=>{t.apdex.push(e);try{performance.measure(`\u{1F6F8} ${e.key} [bm3_tti]`,{start:e.startTime??t.start,end:e.stopTime})}catch(e){}("page_load"===t.type||"transition"===t.type)&&(t.changeTimeout(15e3),C(r,t.ufoName))})}function K(e,t){let r=a("45w2S").interactions.get(e);if(null!=r){r.apdex.push(t);try{performance.measure(`\u{1F6F8} ${t.key} [bm3_tti]`,{start:t.startTime??r.start,end:t.stopTime})}catch(e){}("page_load"===r.type||"transition"===r.type)&&(r.changeTimeout(15e3),C(e,r.ufoName))}}function Y(e,t,r){let n=a("45w2S").interactions.get(e);null!=n&&n.requestInfo.push({labelStack:t,...r})}function J(e){return e.map(e=>e&&"string"==typeof e.name&&"string"==typeof e.segmentId?`${e.name}_${e.segmentId}`:e.name).join("|")}function Z(e){let t=J(e);if(!l.get(t)){let r={labelStack:e};l.set(t,r),c.forEach(e=>{e.onAdd(r)})}}function X(e){let t=J(e),r=l.get(t);r&&(l.delete(JSON.stringify(e)),c.forEach(e=>{e.onRemove(r)}))}function Q(e,t,r,n,i){let s=a("45w2S").interactions.get(e);if(null!=s&&(s.ufoName=r,s.routeName=n,s.redirects.push({fromInteractionName:t,time:i}),d())){let e=s.redirects.at(-2);try{performance.measure(`\u{1F6F8} ${r} [redirect]`,{start:e?.time??s.start,end:i})}catch(e){}}}let ee=[],et=[{name:"custom"}];function er(e,t,r=performance.now(),n=0,i=et){ee.push({type:"custom",name:e,start:t,end:r,labelStack:i,size:n})}}),o("5gx4p",function(t,r){e(t.exports,"default",()=>n);var n=function(e){return 0!==e&&(1===e||Math.random()*e<=1)}}),o("fe1wc",function(t,r){let n;e(t.exports,"setUFOConfig",()=>s),e(t.exports,"getConfig",()=>a),e(t.exports,"isVCRevisionEnabled",()=>c),e(t.exports,"getMostRecentVCRevision",()=>u),e(t.exports,"getInteractionRate",()=>d),e(t.exports,"getExperimentalInteractionRate",()=>h),e(t.exports,"getPostInteractionRate",()=>p),e(t.exports,"getCapabilityRate",()=>f),e(t.exports,"getTypingPerformanceTracingMethod",()=>m),e(t.exports,"getAwaitBM3TTIList",()=>v),e(t.exports,"getUfoNameOverrides",()=>y),e(t.exports,"getDoNotAbortActivePressInteraction",()=>E),e(t.exports,"getDoNotAbortActivePressInteractionOnTransition",()=>b);let i="fy25.02";function s(e){let{enabledVCRevisions:t}=e?.vc??{};n="object"==typeof t?.byExperience?{...e,vc:{...e.vc,enabledVCRevisions:{all:Array.from(new Set([i,...t?.all,...Object.values(t?.byExperience).flat()])),byExperience:{...t?.byExperience}}}}:e}function a(){return n}let o=e=>Array.isArray(e)&&e.length>0;function l(e=""){try{if(!n)return[];if(n.vc?.enabled){let{enabledVCRevisions:t}=n.vc??{};if(o(t?.byExperience?.[e]))return t.byExperience?.[e];if(o(t?.all))return t.all;return[i]}return[]}catch{return[]}}function c(e,t){return l(t).includes(e)}function u(e=""){let t=l(e);return t[t.length-1]}function d(e,t){try{if(!n)return 0;let{killswitch:r,rates:i,rules:s,kind:a,autoGeneratedRate:o}=n;if(null!=r&&r.includes(e))return 0;if(null!=i&&null!=i[e])return i[e];if(null!=s)for(let t=0;t<s.length;t++){let{test:r,rate:n}=s[t];if(null!=r&&null!=n&&RegExp(r,"ig").test(e))return n}if(e?.startsWith("auto-generated")&&null!=o)return o;if(null!=a){let e=a[t];if(null!=e)return e}return 0}catch(e){return 0}}function h(e,t){try{if(!n)return 0;let{experimentalInteractionMetrics:r}=n;if(!r?.enabled)return 0;if(r.rates&&"number"==typeof r.rates[e])return r.rates[e];if(r.kind&&"number"==typeof r.kind[t])return r.kind[t];return 0}catch(e){return 0}}function p(e,t){try{if(!n)return 0;let{postInteractionLog:r}=n;if(!r?.enabled)return 0;if(r.rates&&"number"==typeof r.rates[e])return r.rates[e];if(r.kind&&"number"==typeof r.kind[t])return r.kind[t];return 0}catch(e){return 0}}function f(e){try{if(!n)return 0;let{capability:t}=n;if(null!=t){let r=t[e];if(null!=r)return r}return 0}catch{return 0}}let g=["timeout","timeoutNoAlloc","mutationObserver"];function m(){let e="timeout";try{if(!n)return e;let{typingMethod:t}=n;if(null!=t&&g.find(e=>e===t))return t;return e}catch(t){return e}}function v(){try{if(!n)return[];let{awaitBM3TTI:e}=n;if(null!=e)return e;return[]}catch(e){return[]}}function y(){try{if(!n)return;let{ufoNameOverrides:e}=n;if(null!=e)return e;return}catch(e){return}}function E(){try{if(!n)return;let{doNotAbortActivePressInteraction:e}=n;return e}catch(e){return}}function b(){try{if(!n)return;let{doNotAbortActivePressInteractionOnTransition:e}=n;return e}catch(e){return}}}),o("f38ba",function(t,r){e(t.exports,"sinkExperimentalHandler",()=>o),e(t.exports,"onExperimentalInteractionComplete",()=>l),e(t.exports,"experimentalVC",()=>c),e(t.exports,"getExperimentalVCMetrics",()=>u);let n=[],i=(e,t)=>{n.push({interactionId:e,data:t})};function s(){n.length=0}function o(e){for(let{interactionId:t,data:r}of n)e(t,r);s(),i=e}function l(e,t,r=performance.now()){t.ufoName&&(t.end=r,i(e,t),s())}let c=new class{initialize(e){return null===this.vcObserver&&(this.vcObserver=new(0,a("h2sI1").VCObserver)({...e,isPostInteraction:!0})),this}start({startTime:e}){this.vcObserver?.start({startTime:e})}constructor(){this.vcObserver=null}};async function u(e){if(c.vcObserver){let t="ufo-experimental",r=await c.vcObserver.getVCResult({start:e.start,stop:e.end,tti:e.apdex?.[0]?.stopTime,isEventAborted:!!e.abortReason,prefix:t,vc:e.vc,experienceKey:e.ufoName,interactionId:e.id}),n=r?.["metrics:vc"];if(!n||!r?.[`${t}:vc:clean`])return r;let i=(0,a("37gc9").getPageVisibilityState)(e.start,e.end);return e.abortReason||"visible"!==i?r:{...r,"metric:experimental:vc90":n["90"]}}return null}}),o("37gc9",function(t,r){let n;e(t.exports,"setupHiddenTimingCapture",()=>d),e(t.exports,"getPageVisibilityState",()=>h);let i=[],s=!1;function o(){return"visibilityState"in document?"hidden"===document.visibilityState:document.hidden}let l=0;function c(e,t){i[l]={time:t??performance.now(),hidden:e},l=(l+1)%50,n=e}function u(){let e=o();e?(n||c(e),n=!0):(n&&c(e),n=!1)}function d(){s||(c(o(),0),(0,a("cBeZP").bind)(window,{type:"pageshow",listener:u}),(0,a("cBeZP").bind)(window,{type:"pagehide",listener:u}),(0,a("cBeZP").bind)(document,{type:"visibilitychange",listener:u}),s=!0)}function h(e,t){if(0===i.length)return"visible";let r=i.length,n="mixed",s=l,a=l;for(let n=0;n<r;n++){let o=(l+n)%r;i[o].time<=t&&(a=o,i[o].time<=e&&(s=o))}return a-s==0&&(n=i[s].hidden?"hidden":"visible"),n}}),o("h2sI1",function(t,r){e(t.exports,"VCObserver",()=>i);let n={scroll:"scroll",keypress:"keypress",resize:"resize",error:"error"};class i{static{this.VCParts=["25","50","75","80","85","90","95","98","99"]}constructor(e){this.abortReason={reason:null,info:"",timestamp:-1,blocking:!1},this.outOfBoundaryInfo="",this.viewport={w:0,h:0},this.arraySize=0,this.componentsLog={},this.vcRatios={},this.active=!1,this.totalTime=0,this.startTime=0,this._startMeasureTimestamp=-1,this.ssr={reactRendered:-1},this.unbind=[],this.getAbortReasonInfo=()=>{if(null===this.abortReason.reason)return null;let e=""!==this.abortReason.info?` ${this.abortReason.info}`:"";return`${this.abortReason.reason}${e}`},this.getVCRawData=()=>{if(this.measureStart(),!this.active)return this.measureStop(),null;this.stop();let e=this.getAbortReasonInfo();return this.measureStop(),{abortReasonInfo:e,abortReason:{...this.abortReason},heatmap:this.heatmap,heatmapNext:this.heatmapNext,outOfBoundaryInfo:this.outOfBoundaryInfo,totalTime:Math.round(this.totalTime+this.observers.getTotalTime()),componentsLog:{...this.componentsLog},viewport:{...this.viewport},oldDomUpdatesEnabled:this.oldDomUpdatesEnabled,devToolsEnabled:this.devToolsEnabled,ratios:this.vcRatios}},this.getVCResult=async({start:e,stop:t,tti:r,prefix:n,ssr:s,vc:o,isEventAborted:l,experienceKey:c,interactionId:u,includeSSRRatio:d})=>{let h=performance.now(),p=void 0!==n&&""!==n?`${n}:`:"",f=void 0!==o?o:this.getVCRawData();if(null===f)return{};let{abortReason:g,abortReasonInfo:m,heatmap:v,heatmapNext:y,outOfBoundaryInfo:E,totalTime:b,componentsLog:_,viewport:I,devToolsEnabled:w,ratios:x}=f,S=!(0,a("fe1wc").isVCRevisionEnabled)("fy25.01",c);if(null!==m&&(0,a("VSDnB").fg)("platform_ufo_add_vc_abort_reason_by_revisions")){try{w&&!this.isPostInteraction&&(window.__vcNotAvailableReason=m)}catch(e){}let e={[`${p}vc:state`]:!1,[`${p}vc:abort:reason`]:g.reason,[`${p}vc:abort:timestamp`]:g.timestamp,[`${p}vc:rev`]:[{revision:"fy25.02",clean:!1,"metric:vc90":null,abortReason:g.reason}]};return S||e[`${p}vc:rev`].push({revision:"fy25.01",clean:!1,"metric:vc90":null,abortReason:g.reason}),e}if(null!==m&&g.blocking){try{w&&!this.isPostInteraction&&(window.__vcNotAvailableReason=m)}catch(e){}return{[`${p}vc:state`]:!1,[`${p}vc:abort:reason`]:m,[`${p}vc:abort:timestamp`]:g.timestamp}}let{VC:T,VCBox:C,VCEntries:O,totalPainted:A}=S?{VC:{},VCBox:{},VCEntries:{abs:[],rel:[],speedIndex:-1},totalPainted:-1}:i.calculateVC({heatmap:v,ssr:s,componentsLog:{..._},viewport:I,fixSSRAttribution:d}),k={};Object.entries(this.componentsLog).forEach(([e,r])=>{let n=Number(e);t>n&&(k[n]=r)});let R=i.calculateVC({heatmap:y,ssr:s,componentsLog:k,viewport:I,fixSSRAttribution:d});try{this.isPostInteraction||i.VCParts.forEach(t=>{if(S){let r=R.VC[t];null!=r&&(performance.measure(`VC${t}`,{start:e,duration:r}),performance.measure(`VC_Next${t}`,{start:e,duration:r}))}else{let r=T[t];null!=r&&performance.measure(`VC${t}`,{start:e,duration:r});let n=R.VC[t];null!=n&&performance.measure(`VC_Next${t}`,{start:e,duration:n})}})}catch(e){}let D=E?{[`${p}vc:oob`]:E}:{},N=performance.now();try{if(!this.isPostInteraction&&w){let n=S?void 0:{entries:O.rel,log:_,metrics:{75:T["75"],80:T["80"],85:T["85"],90:T["90"],95:T["95"],98:T["98"],99:T["99"],tti:r,ttai:t-e},start:e,stop:t,heatmap:v,ratios:x},i={entries:R.VCEntries.rel,log:_,metrics:{75:R.VC["75"],80:R.VC["80"],85:R.VC["85"],90:R.VC["90"],95:R.VC["95"],98:R.VC["98"],99:R.VC["99"],tti:r,ttai:t-e},start:e,stop:t,heatmap:y,ratios:x};S?window.__vc=i:window.__vc=n,window.__vcNext=i,window.dispatchEvent(new CustomEvent("vcReady",{detail:{log:Object.fromEntries(Object.entries(_).map(([e,t])=>[Number(e),t.map(e=>{let{__debug__element:t,...r}=e;return r})])),entries:S?R.VCEntries.rel:O.rel}})),"function"==typeof window.__ufo_devtool_onVCRevisionReady__&&(0,a("VSDnB").fg)("platform_ufo_ttvc_v3_devtool")&&(S||window.__ufo_devtool_onVCRevisionReady__?.((0,a("jny5f").getVCRevisionDebugDetails)({revision:"fy25.01",isClean:!m,abortReason:g.reason,VCEntries:O.rel,componentsLog:_,interactionId:u})),window.__ufo_devtool_onVCRevisionReady__?.((0,a("jny5f").getVCRevisionDebugDetails)({revision:"fy25.02",isClean:!m,abortReason:g.reason,VCEntries:R.VCEntries.rel,componentsLog:_,interactionId:u})))}}catch(e){}let P=!m,F=(0,a("5lAmc").getVCRevisionsData)({fullPrefix:p,interaction:{start:e,end:t},isVCClean:P,calculatedVC:{VC:T,VCBox:C},calculatedVCNext:{VC:R.VC,VCBox:R.VCBox},isEventAborted:l,experienceKey:c}),M={"ufo:speedIndex":S?R.VCEntries.speedIndex:O.speedIndex,"ufo:next:speedIndex":R.VCEntries.speedIndex},L=i.getSSRRatio(O.rel,s),V=i.getSSRRatio(R.VCEntries.rel,s),U=d?{[`${p}vc:ssrRatio`]:S?V:L,[`${p}vc:next:ssrRatio`]:V}:{};if(S)return{[`${p}vc:size`]:I,[`${p}vc:time`]:Math.round(b+(N-h)),[`${p}vc:ratios`]:x,...D,[`${p}vc:ignored`]:this.getIgnoredElements(_),...U,[`${p}vc:ssrRatio`]:V,...F,...M};let j=(0,a("fe1wc").isVCRevisionEnabled)("fy25.03",c);return{"metrics:vc":T,[`${p}vc:state`]:!0,[`${p}vc:clean`]:P,[`${p}vc:dom`]:C,[`${p}vc:updates`]:j?void 0:O.rel.slice(0,50),[`${p}vc:size`]:I,[`${p}vc:time`]:Math.round(b+(N-h)),[`${p}vc:total`]:A,[`${p}vc:ratios`]:x,[`${p}vc:ssrRatio`]:L,...D,[`${p}vc:next`]:R.VC,[`${p}vc:next:updates`]:j?void 0:R.VCEntries.rel.slice(0,50),[`${p}vc:next:dom`]:R.VCBox,...U,[`${p}vc:ignored`]:this.getIgnoredElements(_),...F,...M}},this.handleUpdate=(e,t,r,n,i,s,o,l,c)=>{if(null===this.abortReason.reason||!1===this.abortReason.blocking){let u=Math.round(e-this.startTime),d=this.mapPixelsToHeatmap(t.left,t.top,t.width,t.height);this.vcRatios[r]=this.getElementRatio(d),s||this.applyChangesToHeatMap(d,u,this.heatmapNext);let h=(0,a("bFU4G").getActiveInteraction)();(0,a("fe1wc").isVCRevisionEnabled)("fy25.01",h?.ufoName)&&(!s||"not-visible"===s)&&"attr"!==i&&this.applyChangesToHeatMap(d,u,this.heatmap),this.componentsLog[u]||(this.componentsLog[u]=[]),this.componentsLog[u].push({__debug__element:this.devToolsEnabled?new WeakRef(n):null,type:i,intersectionRect:t,targetName:r,ignoreReason:s,attributeName:o,oldValue:l,newValue:c})}},this.mapPixelsToHeatmap=(e,t,r,n)=>{let{w:i,h:s}=this.viewport,a=Math.floor(e/i*this.arraySize),o=Math.floor(t/s*this.arraySize),l=Math.ceil((e+r)/i*this.arraySize),c=Math.ceil((t+n)/s*this.arraySize);if(""===this.outOfBoundaryInfo){let i="";l>this.arraySize&&(i+=` r ${l} ! ${e} ${r}`),c>this.arraySize&&(i+=` r ${l} ! ${t} ${n}`),this.outOfBoundaryInfo=i}return{l:Math.max(0,a),t:Math.max(0,o),r:Math.min(this.arraySize,l),b:Math.min(this.arraySize,c)}},this.getElementRatio=e=>{let{r:t,l:r,b:n,t:i}=e;return(t-r)*(n-i)/(this.arraySize*this.arraySize)},this.abortReasonCallback=(e,t)=>{switch(e){case"wheel":this.setAbortReason(n.scroll,t);break;case"keydown":this.setAbortReason(n.keypress,t);break;case"resize":this.setAbortReason(n.resize,t)}},this.attachAbortListeners=()=>{this.detachAbortListeners();let e=(0,a("aceO8").attachAbortListeners)(window,this.viewport,this.abortReasonCallback);window?.__SSR_ABORT_LISTENERS__&&Object.entries(window.__SSR_ABORT_LISTENERS__.aborts).forEach(([e,t])=>{t&&this.abortReasonCallback(e,t)}),this.unbind=e},this.arraySize=e.heatmapSize||200,this.devToolsEnabled=e.devToolsEnabled||!1,this.oldDomUpdatesEnabled=e.oldDomUpdates||!1;let{ssrEnablePageLayoutPlaceholder:t}=e;this.observers=new(0,a("eZGsd").Observers)({selectorConfig:e.selectorConfig||{id:!1,testId:!1,role:!1,className:!0,dataVC:!0},SSRConfig:{enablePageLayoutPlaceholder:t||!1}}),this.heatmap=(0,a("fe1wc").isVCRevisionEnabled)("fy25.01")?this.getCleanHeatmap():[],this.heatmapNext=this.getCleanHeatmap(),this.isPostInteraction=e.isPostInteraction||!1}start({startTime:e}){this.active=!0,this.observers.isBrowserSupported()?(this.setViewportSize(),this.resetState(),this.startTime=e,this.attachAbortListeners(),this.observers.subscribeResults(this.handleUpdate),this.observers.observe()):this.setAbortReason("not-supported",e)}stop(){this.observers.disconnect(),this.detachAbortListeners()}getIgnoredElements(e){return Object.values(e).flat().filter(({ignoreReason:e})=>!!e).map(({targetName:e,ignoreReason:t})=>({targetName:e,ignoreReason:t}))}static getSSRRatio(e,t){if(void 0===t||0===e.length)return;let r=e[0];return"SSR"===r.elements[0]?r.vc:0}static calculateVC({heatmap:e,ssr:t=0,componentsLog:r,viewport:n,fixSSRAttribution:s}){let a={},o=0,l=s?Math.floor(t):t;if(0!==l){let e={__debug__element:new WeakRef(window.document?.body),intersectionRect:{top:0,left:0,right:0,bottom:0,x:0,y:0,width:n.w,height:n.h,toJSON:()=>({})},targetName:"SSR"};r[l]||(r[l]=[]),r[l].push(e)}e.forEach(e=>{e.forEach(e=>{let t=Math.floor(0===e&&0!==l?l:e);o+=+(0!==t),0!==t&&(a[t]=a[t]?a[t]+1:1)})});let c=Object.entries(a).map(e=>[parseInt(e[0],10),e[1]]).sort((e,t)=>e[0]>t[0]?1:-1),u=i.makeVCReturnObj(),d=i.makeVCReturnObj();c.reduce((e=0,t)=>{let n=t[1]/o+e;n=(Math.round(100*(t[1]/o))+Math.round(100*e))/100;let s=t[0];return i.VCParts.forEach(e=>{let t=parseInt(e,10);(null===u[e]||void 0===u[e])&&n>=t/100&&(u[e]=s,d[e]=[...new Set(r[s]?.filter(e=>!e.ignoreReason).map(e=>e.targetName))])}),n},0);let h=c.reduce((e,[t,n],i)=>{let s=n+(e.abs[i-1]?.[1]||0),a=Math.round(s/o*1e3)/10,l=[...new Set(r[t]?.filter(e=>!e.ignoreReason).map(e=>e.targetName))],c=t*((a-(e.rel[i-1]?.vc??0))/100);return e.speedIndex+=c,e.abs.push([t,s]),e.rel.push({time:t,vc:a,elements:l}),e},{abs:[],rel:[],speedIndex:0});return h.speedIndex=Math.round(h.speedIndex),{VC:u,VCBox:d,VCEntries:h,totalPainted:o}}setSSRElement(e){this.observers.setReactRootElement(e)}setReactRootRenderStart(e=performance.now()){this.observers.setReactRootRenderStart(e)}setReactRootRenderStop(e=performance.now()){this.observers.setReactRootRenderStop(e)}setAbortReason(e,t,r=""){(null===this.abortReason.reason||!1===this.abortReason.blocking)&&(this.abortReason.reason=e,this.abortReason.info=r,this.abortReason.timestamp=t,this.abortReason.blocking=e!==n.scroll,this.abortReason.blocking&&this.detachAbortListeners())}resetState(){this.abortReason={reason:null,info:"",timestamp:-1,blocking:!1},this.detachAbortListeners(),this.heatmap=(0,a("fe1wc").isVCRevisionEnabled)("fy25.01")?this.getCleanHeatmap():[],this.heatmapNext=this.getCleanHeatmap(),this.totalTime=0,this.componentsLog={},this.vcRatios={}}getCleanHeatmap(){return Array(this.arraySize).fill("").map(()=>Array(this.arraySize).fill(0))}setViewportSize(){this.viewport.w=(0,a("epQcA").getViewportWidth)(),this.viewport.h=(0,a("epQcA").getViewportHeight)()}applyChangesToHeatMap(e,t,r){let{l:i,t:s,r:a,b:o}=e;for(let e=s;e<o;e++)for(let s=i;s<a;s++)if(void 0===r[e]){try{this.setAbortReason(n.error,t,`index - ${e}`)}catch(e){this.setAbortReason(n.error,t,"row error")}return}else r[e][s]=t}static makeVCReturnObj(){let e={};return i.VCParts.forEach(t=>{e[t]=null}),e}detachAbortListeners(){if(this.unbind){let{unbind:e}=this;for(let t=0;t<e.length;t++)e[t]();this.unbind.length=0}}measureStart(){this._startMeasureTimestamp=performance.now()}measureStop(){-1!==this._startMeasureTimestamp&&(this.totalTime+=performance.now()-this._startMeasureTimestamp,this._startMeasureTimestamp=-1)}}}),o("aceO8",function(t,r){e(t.exports,"attachAbortListeners",()=>n);function n(e,t,r){let n=(0,a("cBeZP").bind)(e,{type:a("Pu2vb").AbortEvent.wheel,listener:e=>{r(a("Pu2vb").AbortEvent.wheel,e.timeStamp)},options:{passive:!0,once:!0}}),i=(0,a("cBeZP").bind)(e,{type:a("Pu2vb").AbortEvent.keydown,listener:e=>{r(a("Pu2vb").AbortEvent.keydown,e.timeStamp)},options:{once:!0}}),s=(0,a("cBeZP").bind)(e,{type:a("Pu2vb").AbortEvent.resize,listener:e=>{((0,a("epQcA").getViewportWidth)()!==t.w||(0,a("epQcA").getViewportHeight)()!==t.h)&&(r(a("Pu2vb").AbortEvent.resize,e.timeStamp),s())}});return[n,i,s]}}),o("Pu2vb",function(t,r){e(t.exports,"AbortEvent",()=>n);let n={wheel:"wheel",keydown:"keydown",resize:"resize"}}),o("epQcA",function(t,r){function n(e=window.document){let t;try{t=e.documentElement.clientWidth||0}catch(e){t=0}return Math.max(t,window.innerWidth||0)}function i(e=window.document){let t;try{t=e.documentElement.clientHeight||0}catch(e){t=0}return Math.max(t,window.innerHeight||0)}e(t.exports,"getViewportWidth",()=>n),e(t.exports,"getViewportHeight",()=>i)}),o("jny5f",function(t,r){e(t.exports,"getVCRevisionDebugDetails",()=>n);function n({revision:e,isClean:t,abortReason:r,VCEntries:n,componentsLog:i,interactionId:s}){return{revision:e,isClean:t,abortReason:r,vcLogs:n.map(e=>({time:e.time,viewportPercentage:e.vc,entries:e.elements.map(t=>{let r=i[e.time]?.find(e=>e.targetName===t);return{elementName:t,type:r?.type,rect:r?.intersectionRect,visible:!0,attributeName:r?.attributeName,oldValue:r?.oldValue,newValue:r?.newValue}})})),interactionId:s}}}),o("5lAmc",function(t,r){e(t.exports,"getVCRevisionsData",()=>o);let n=["25","50","75","80","85","90","95","98","99"],i=Array.from({length:0});function s(e,t){if(!t||!e||!e.VC||!e.VCBox)return{};let r={},{VC:s,VCBox:a}=e;for(let e of n)r[e]={t:s[e]||-1,e:a[e]||i};return r}function o({fullPrefix:e,interaction:t,isVCClean:r,isEventAborted:n,calculatedVC:i,calculatedVCNext:o,experienceKey:l}){let c=(0,a("37gc9").getPageVisibilityState)(t.start,t.end),u=r&&!n&&"visible"===c,d=[];return(0,a("fe1wc").isVCRevisionEnabled)("fy25.01",l)&&d.push({revision:"fy25.01",clean:r,"metric:vc90":u?i.VC["90"]:null,vcDetails:s(i,u)}),(0,a("fe1wc").isVCRevisionEnabled)("fy25.02",l)&&d.push({revision:"fy25.02",clean:r,"metric:vc90":u?o.VC["90"]:null,vcDetails:s(o,u)}),{[`${e}vc:rev`]:d}}}),o("eZGsd",function(t,r){e(t.exports,"Observers",()=>i);let n={normal:1,waitingForFirstRender:2,ignoring:3};class i{constructor(e){this.observedMutations=new WeakMap,this.elementsInView=new Set,this.callbacks=new Set,this.totalTime=0,this._startMeasureTimestamp=-1,this.ssr={state:n.normal,reactRootElement:null,renderStart:-1,renderStop:-1},this.selectorConfig={id:!1,testId:!1,role:!1,className:!0,dataVC:!0},this.subscribeResults=e=>{this.callbacks.add(e)},this.observeElement=(e,t,r,n,i,s=null,a=null)=>{this.intersectionObserver?.observe(e),this.observedMutations.set(e,{mutation:t,ignoreReason:n,type:r,attributeName:i,oldValue:s,newValue:a})},this.selectorConfig={...this.selectorConfig,...e.selectorConfig},this.intersectionObserver=this.getIntersectionObserver(),this.mutationObserver=this.getMutationObserver(),this.ssrPlaceholderHandler=new(0,a("flJpT").SSRPlaceholderHandlers)(e.SSRConfig?.enablePageLayoutPlaceholder)}isBrowserSupported(){return"function"==typeof window.IntersectionObserver&&"function"==typeof window.MutationObserver}observe(){this.totalTime=0,this.ssr={state:n.normal,reactRootElement:null,renderStart:-1,renderStop:-1},this.mutationObserver?.observe(document.body,{attributeFilter:["hidden","style","src","class"],attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0})}disconnect(){this.mutationObserver?.disconnect(),this.intersectionObserver?.disconnect(),this.observedMutations=new WeakMap,this.elementsInView.clear(),this.callbacks.clear(),this.ssr.reactRootElement=null,this.ssrPlaceholderHandler.clear()}getTotalTime(){return this.totalTime}setReactRootElement(e){this.ssr.reactRootElement=e}setReactRootRenderStart(e=performance.now()){this.ssr.renderStart=e,this.ssr.state=n.waitingForFirstRender}setReactRootRenderStop(e=performance.now()){this.ssr.renderStop=e}getMutationObserver(){return this.isBrowserSupported()?new MutationObserver(e=>{this.measureStart(),e.forEach(e=>{e.timestamp=void 0===e.timestamp?performance.now():e.timestamp;let t="";if(this.ssr.state===n.waitingForFirstRender&&e.timestamp>this.ssr.renderStart&&e.target===this.ssr.reactRootElement&&(this.ssr.state=n.ignoring,-1===this.ssr.renderStop&&(this.ssr.renderStop=e.timestamp+500),t="ssr-hydration"),this.ssr.state===n.ignoring&&e.timestamp>this.ssr.renderStart&&e.target===this.ssr.reactRootElement&&(e.timestamp<=this.ssr.renderStop?t="ssr-hydration":this.ssr.state=n.normal),"childList"===e.type)e.addedNodes.forEach(r=>{if((0,a("1HYUt").isContainedWithinMediaWrapper)(r)&&(t="image"),r instanceof HTMLElement){if(this.ssrPlaceholderHandler.isPlaceholder(r)||this.ssrPlaceholderHandler.isPlaceholderIgnored(r))return void this.ssrPlaceholderHandler.checkIfExistedAndSizeMatching(r).then(n=>{!1===n&&this.observeElement(r,e,"html",t)});if(this.ssrPlaceholderHandler.isPlaceholderReplacement(r)||this.ssrPlaceholderHandler.isPlaceholderIgnored(r))return void this.ssrPlaceholderHandler.validateReactComponentMatchToPlaceholder(r).then(n=>{!1===n&&this.observeElement(r,e,"html",t)});this.observeElement(r,e,"html",t)}r instanceof Text&&null!=r.parentElement&&this.observeElement(r.parentElement,e,"text",t)}),e.removedNodes.forEach(e=>{e instanceof Element&&(this.elementsInView.delete(e),this.intersectionObserver?.unobserve(e))});else if("attributes"===e.type&&e.target instanceof HTMLElement){let r=e.attributeName,n=e.oldValue??void 0,i=r?e.target.getAttribute(r):void 0;n!==i&&((0,a("eliYW").default)(e)&&(t="non-visual-style"),(0,a("1HYUt").isContainedWithinMediaWrapper)(e.target)&&(t="image"),this.observeElement(e.target,e,"attr",t,r,n,i))}})}):null}getElementName(e){try{let t=e.localName,r=e.getAttribute("data-vc"),n=this.selectorConfig.dataVC&&r?`[data-vc="${r}"]`:"",i=this.selectorConfig.id&&e.id?`#${e.id}`:"",s=this.selectorConfig.testId?e.getAttribute("data-testid")||e.getAttribute("data-test-id"):"";s=s?`[testid=${s}]`:"";let a=this.selectorConfig.role?e.getAttribute("role"):"";a=a?`[role=${a}]`:"";let o=this.selectorConfig.className?Array.from(e.classList).join("."):"";o=""===o?"":`.${o}`;let l=n||[i,s,a].join(""),c="";if(""===l&&""===o){let r=e.parentElement?this.getElementName(e.parentElement):"unknown";c=`${r} > ${t}`}else c=[t,l||o].join("");return c}catch(e){return"error"}}getIntersectionObserver(){return this.isBrowserSupported()?new IntersectionObserver(e=>{this.measureStart(),e.forEach(({isIntersecting:e,intersectionRect:t,target:r})=>{let n=this.observedMutations.get(r);if(this.observedMutations.delete(r),e&&t.width>0&&t.height>0){if(!(r instanceof HTMLElement)||!n?.mutation)return;!r||"function"!=typeof r.checkVisibility||r.checkVisibility({contentVisibilityAuto:!0,opacityProperty:!0,visibilityProperty:!0})||(n.ignoreReason="not-visible"),this.callbacks.forEach(e=>{let i;try{i=this.getElementName(r)}catch(e){i="error"}e(n.mutation.timestamp||performance.now(),t,i,r,n.type,n.ignoreReason,n.attributeName,n.oldValue,n.newValue)}),this.elementsInView.add(r)}else this.elementsInView.delete(r)}),this.measureStop()}):null}measureStart(){this._startMeasureTimestamp=performance.now()}measureStop(){-1!==this._startMeasureTimestamp&&(this.totalTime+=performance.now()-this._startMeasureTimestamp,this._startMeasureTimestamp=-1)}}}),o("1HYUt",function(t,r){e(t.exports,"isContainedWithinMediaWrapper",()=>n);function n(e){for(;e;){if(e instanceof Element&&e.hasAttribute(a("lr1Nm").MEDIA_WRAPPER_TAG))return!0;e=e.parentNode}return!1}}),o("lr1Nm",function(t,r){e(t.exports,"MEDIA_WRAPPER_TAG",()=>n),e(t.exports,"VcMediaWrapperProps",()=>i),a("2OMIu"),a("5uXOq");let n="data-media-vc-wrapper",i={[n]:!0}}),o("eliYW",function(t,r){e(t.exports,"default",()=>n);var n=function({target:e,attributeName:t}){return e instanceof Element&&("class"===t||"style"===t)&&"true"===e.getAttribute("data-vc-nvs")}}),o("flJpT",function(t,r){e(t.exports,"SSRPlaceholderHandlers",()=>i);let n="page-layout.root";class i{constructor(e=!1){if(this.staticPlaceholders=new Map,this.callbacks=new Map,this.getSizeCallbacks=new Map,this.reactValidateCallbacks=new Map,this.EQUALITY_THRESHOLD=1,this.getPlaceholderId=e=>{let t=e?.dataset?.ssrPlaceholder;return t||(this.enablePageLayoutPlaceholder&&e?.dataset.testid===n?n:"")},this.getPlaceholderReplacementId=e=>{let t=e?.dataset?.ssrPlaceholderReplace;return t||(this.enablePageLayoutPlaceholder&&e?.dataset.testid===n?n:"")},this.intersectionObserverCallback=({target:e,boundingClientRect:t})=>{if(this.intersectionObserver?.unobserve(e),!(e instanceof HTMLElement))return;let r=this.getPlaceholderId(e);if(r){if(this.staticPlaceholders.has(r)&&this.callbacks.has(r)){let n=this.callbacks.get(r);if(!n)return;let i=this.staticPlaceholders.get(r),s=this.hasSameSizePosition(i,t);s||this.isDummyRect(i)?n(s):requestAnimationFrame(()=>{let t=e.getBoundingClientRect();n(this.hasSameSizePosition(i,t))}),this.callbacks.delete(r)}}else{let n=this.getPlaceholderReplacementId(e),i=this.reactValidateCallbacks.get(n);if(!i)return;let s=this.staticPlaceholders.get(n),a=this.hasSameSizePosition(s,t);a||this.isDummyRect(s)?i(a):requestAnimationFrame(()=>{let t=e.getBoundingClientRect();i(this.hasSameSizePosition(s,t))}),this.staticPlaceholders.delete(r),this.reactValidateCallbacks.delete(r)}},"function"==typeof IntersectionObserver&&(this.intersectionObserver=new IntersectionObserver(e=>e.filter(e=>e.intersectionRatio>0).forEach(this.intersectionObserverCallback))),this.enablePageLayoutPlaceholder=e,window.document)try{let e=this.enablePageLayoutPlaceholder?'[data-ssr-placeholder],[data-testid="page-layout.root"]':"[data-ssr-placeholder]";document.querySelectorAll(e).forEach(e=>{let t=e instanceof HTMLElement&&this.getPlaceholderId(e);if(t){let r=-1,n=-1,i=-1,s=-1,a=window.__SSR_PLACEHOLDERS_DIMENSIONS__?.[t];a&&(r=a.width,n=a.height,i=a.x,s=a.y),this.staticPlaceholders.set(t,{width:r,height:n,x:i,y:s}),this.intersectionObserver?.observe(e)}})}catch(e){}finally{delete window.__SSR_PLACEHOLDERS_DIMENSIONS__}}clear(){this.staticPlaceholders=new Map,this.callbacks=new Map,this.getSizeCallbacks=new Map,this.reactValidateCallbacks=new Map}isPlaceholder(e){return!!this.getPlaceholderId(e)}isPlaceholderReplacement(e){return!!this.getPlaceholderReplacementId(e)}isPlaceholderIgnored(e){return"ssrPlaceholderIgnored"in e.dataset}findNearestPlaceholderContainerIfIgnored(e){if(!this.isPlaceholderIgnored(e))return e;let t=e.parentElement,r=0;for(;t&&r<10;){if(this.isPlaceholder(t)||this.isPlaceholderReplacement(t))return t;t=t.parentElement,r++}return e}checkIfExistedAndSizeMatching(e){e=this.findNearestPlaceholderContainerIfIgnored(e);let t=this.getPlaceholderId(e);return new Promise(r=>{if(!this.staticPlaceholders.has(t))return void r(!1);this.callbacks.set(t,r),this.intersectionObserver?.observe(e)})}getSize(e){return new Promise(t=>{this.getSizeCallbacks.set(this.getPlaceholderId(e),t),this.intersectionObserver?.observe(e)})}validateReactComponentMatchToPlaceholder(e){e=this.findNearestPlaceholderContainerIfIgnored(e);let t=this.getPlaceholderReplacementId(e);return new Promise(r=>{if(!this.staticPlaceholders.has(t))return void r(!1);this.reactValidateCallbacks.set(t,r),this.intersectionObserver?.observe(e)})}hasSameSizePosition(e,t){return e&&Math.abs(e.x-t.x)<this.EQUALITY_THRESHOLD&&Math.abs(e.y-t.y)<this.EQUALITY_THRESHOLD&&Math.abs(e.width-t.width)<this.EQUALITY_THRESHOLD&&Math.abs(e.height-t.height)<this.EQUALITY_THRESHOLD||!1}isDummyRect(e){return e&&e.width<0&&e.height<0||!1}}}),o("a0hd6",function(t,r){e(t.exports,"VCObserverWrapper",()=>i),e(t.exports,"getVCObserver",()=>l);var n=a("6cAn5");class i{constructor(e={}){this.newVCObserver=null,this.oldVCObserver=null,(0,a("fe1wc").isVCRevisionEnabled)("fy25.03")&&(this.newVCObserver=new(0,a("cmAu5").default)({selectorConfig:e.selectorConfig})),((0,a("fe1wc").isVCRevisionEnabled)("fy25.01")||(0,a("fe1wc").isVCRevisionEnabled)("fy25.02"))&&(this.oldVCObserver=new(0,a("h2sI1").VCObserver)(e))}processSsrAbortListeners(){window?.__SSR_ABORT_LISTENERS__&&(window.__SSR_ABORT_LISTENERS__.unbinds&&Array.isArray(window.__SSR_ABORT_LISTENERS__.unbinds)&&window.__SSR_ABORT_LISTENERS__.unbinds.forEach(e=>{"function"==typeof e&&e()}),delete window.__SSR_ABORT_LISTENERS__)}start({startTime:e,experienceKey:t}){((0,a("fe1wc").isVCRevisionEnabled)("fy25.01",t)||(0,a("fe1wc").isVCRevisionEnabled)("fy25.02",t))&&this.oldVCObserver?.start({startTime:e}),(0,a("fe1wc").isVCRevisionEnabled)("fy25.03",t)&&this.newVCObserver?.start({startTime:e}),this.processSsrAbortListeners()}stop(e){((0,a("fe1wc").isVCRevisionEnabled)("fy25.01",e)||(0,a("fe1wc").isVCRevisionEnabled)("fy25.02",e))&&this.oldVCObserver?.stop(),(0,a("fe1wc").isVCRevisionEnabled)("fy25.03",e)&&this.newVCObserver?.stop()}getVCRawData(){return this.oldVCObserver?.getVCRawData()??null}async getVCResult(e){let{experienceKey:t}=e,r=(0,a("fe1wc").isVCRevisionEnabled)("fy25.01",t)||(0,a("fe1wc").isVCRevisionEnabled)("fy25.02",t)?await this.oldVCObserver?.getVCResult(e):{},n=(0,a("fe1wc").isVCRevisionEnabled)("fy25.03",t)?await this.newVCObserver?.getVCResult({start:e.start,stop:e.stop,interactionId:e.interactionId}):[];return n?{...r,"ufo:vc:rev":[...r?.["ufo:vc:rev"]??[],...n??[]]}:r??{}}setSSRElement(e){this.oldVCObserver?.setSSRElement(e)}setReactRootRenderStart(e){this.oldVCObserver?.setReactRootRenderStart(e||performance.now())}setReactRootRenderStop(e){this.oldVCObserver?.setReactRootRenderStop(e||performance.now())}}let s=!!globalThis?.false,o=void 0!==n&&!!n?.env?.REACT_SSR;function l(e={}){if(!globalThis.__vcObserver){let t=!(!o&&!s&&"function"==typeof globalThis?.WeakRef&&"function"==typeof globalThis?.MutationObserver&&"function"==typeof globalThis?.IntersectionObserver&&"function"==typeof globalThis?.PerformanceObserver&&1);globalThis.__vcObserver=t?new(0,a("i0vFa").VCObserverNOOP):new i(e)}return globalThis.__vcObserver}}),o("i0vFa",function(t,r){e(t.exports,"VCObserverNOOP",()=>n);class n{start(e){}stop(){}getVCRawData(){return null}getVCResult(e){return Promise.resolve({"ufo:vc:noop":!0})}setSSRElement(e){}setReactRootRenderStart(e){}setReactRootRenderStop(e){}}}),o("cmAu5",function(t,r){e(t.exports,"default",()=>i);let n={id:!1,testId:!0,role:!1,className:!1,dataVC:!0};class i{constructor(e){this.viewportObserver=null,this.windowEventObserver=null,this.entriesTimeline=new(0,a("7JcwI").default),this.isPostInteraction=e.isPostInteraction??!1,this.selectorConfig=e.selectorConfig??n,this.viewportObserver=new(0,a("1OMZa").default)({onChange:e=>{let{time:t,type:r,elementRef:n,visible:i,rect:s,previousRect:a,mutationData:o}=e,l="unknown",c=n.deref();c&&(l=this.getElementName(c)),this.entriesTimeline.push({time:t,data:{type:r,elementName:l,rect:s,previousRect:a,visible:i,attributeName:o?.attributeName,oldValue:o?.oldValue,newValue:o?.newValue}})}}),this.windowEventObserver=new(0,a("ePAog").default)({onEvent:({time:e,type:t})=>{this.entriesTimeline.push({time:e,data:{type:"window:event",eventType:t}})}})}start({startTime:e}){if(this.viewportObserver?.start(),window?.__SSR_ABORT_LISTENERS__&&(0,a("VSDnB").fg)("platform_ufo_vc_observer_new_ssr_abort_listener")){let e=window.__SSR_ABORT_LISTENERS__.aborts;e&&"object"==typeof e&&Object.entries(e).forEach(([e,t])=>{"number"==typeof t&&this.entriesTimeline.push({time:t,data:{type:"window:event",eventType:e}})})}this.windowEventObserver?.start(),this.entriesTimeline.clear()}stop(){this.viewportObserver?.stop(),this.windowEventObserver?.stop()}async getVCResult(e){let{start:t,stop:r,interactionId:n}=e,i=[];(0,a("VSDnB").fg)("platform_ufo_v3_add_start_entry")&&this.addStartEntry(t);let s=new(0,a("9XWZI").default),o=this.entriesTimeline.getOrderedEntries({start:t,stop:r}),l=await s.calculate({orderedEntries:o,startTime:t,stopTime:r,interactionId:n,isPostInteraction:this.isPostInteraction});return l&&i.push(l),i}addStartEntry(e){this.entriesTimeline.push({time:e,data:{type:"mutation:element",elementName:"START",visible:!0,rect:{x:0,y:0,width:window.innerWidth,height:window.innerHeight,top:0,left:0,bottom:window.innerHeight,right:window.innerWidth,toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.top,left:this.left,bottom:this.bottom,right:this.right}}}}})}getElementName(e){return(0,a("ijRKb").default)(this.selectorConfig,e)}}}),o("7JcwI",function(t,r){e(t.exports,"default",()=>n);class n{constructor(){this.unorderedEntries=[],this.sortedEntriesCache=new Map}push(e){this.unorderedEntries.push(e),this.sortedEntriesCache.clear()}getCacheKey(e,t){return`${e??"null"}_${t??"null"}`}getOrderedEntries({start:e,stop:t}){let r=this.getCacheKey(e,t),n=this.sortedEntriesCache.get(r)?.deref();if(n)return n;let i=this.unorderedEntries.filter(r=>r.time>=(e??0)&&r.time<=(t??performance.now())).sort((e,t)=>e.time-t.time);return this.sortedEntriesCache.set(r,new WeakRef(i)),i}clear(){this.unorderedEntries=[],this.sortedEntriesCache.clear()}}}),o("ijRKb",function(t,r){e(t.exports,"default",()=>i);let n=new WeakMap;var i=function e(t,r){if(!(r instanceof HTMLElement))return"error";let i=n.get(r);if(i)return i;let s=r.localName,a=e=>{if("function"!=typeof encodeURIComponent)return"";try{return encodeURIComponent(e)}catch(e){return"malformed_value"}},o=(e,t="")=>{if(r&&"function"!=typeof r.getAttribute)return"";let n=r.getAttribute(e);if(!n)return"";let i=a(n);return`${t}[${e}="${i}"]`},l=!1!==t.dataVC?o("data-vc"):"",c=t.id&&r.id?`#${a(r.id)}`:"",u=t.testId?o("data-testid")||o("data-test-id"):"",d=t.role?o("role"):"",h=Array.from(r.classList).map(a).join("."),p=t.className&&h?`.${h}`:"",f=[c,u,d].filter(Boolean).join(""),g=l||f;if(!g&&!p){let n=r.parentElement?e(t,r.parentElement):"unknown";return`${n} > ${s}`}let m=`${s}${g||p}`;return n.set(r,m),m}}),o("9XWZI",function(t,r){e(t.exports,"default",()=>l);let n=["wheel","scroll","keydown","resize"],i=["mutation:child-element","mutation:element","mutation:attribute","layout-shift","window:event"],s=["data-drop-target-for-element","draggable"],o=["aria-label","aria-labelledby","aria-describedby","aria-hidden","aria-expanded","aria-controls","aria-selected","aria-checked","aria-disabled","aria-required","aria-current","aria-haspopup","aria-pressed","aria-live"];class l extends a("Z0DvF").default{constructor(){super("fy25.03")}isEntryIncluded(e){if(!i.includes(e.data.type))return!1;if("mutation:attribute"===e.data.type){let t=e.data.attributeName;return!(!t||s.includes(t)||"data-aui-version"===t&&(0,a("VSDnB").fg)("platform_ufo_filter_out_aui_attribute_changes")||("data-testid"===t||"data-vc"===t||"data-ssr-placeholder"===t||"data-ssr-placeholder-replace"===t||"data-vc-nvs"===t||"data-media-vc-wrapper"===t||"data-auto-scrollable"===t||"id"===t||"tabindex"===t||o.includes(t))&&(0,a("VSDnB").fg)("platform_ufo_ignore_non_vis_attributes"))}return!(0,a("aXT4C").default)(e.data)||!!e.data.visible}isVCClean(e){return!e.some(e=>{if("window:event"===e.data.type){let t=e.data;if(n.includes(t.eventType))return!0}return!1})}getVCCleanStatus(e){let t="";return e.some(e=>{if("window:event"===e.data.type){let r=e.data;if(n.includes(r.eventType))return t="keydown"===r.eventType?"keypress":r.eventType,!0}return!1})&&t?{isVCClean:!1,dirtyReason:t}:{isVCClean:!0}}}}),o("Z0DvF",function(t,r){e(t.exports,"default",()=>n);class n{constructor(e){this.revisionNo=e}filterViewportEntries(e){return e.filter(e=>"rect"in e.data)}async calculateBasic(e,t,r){let n=this.filterViewportEntries(e);return await (0,a("2Fqls").default)({viewport:{width:(0,a("dF9Lu").default)(),height:(0,a("6RK1A").default)()},startTime:t,stopTime:r,orderedEntries:n,percentiles:[25,50,75,80,85,90,95,98,99]})}async calculateWithDebugInfo(e,t,r,n,i,s,o){let l=[25,50,75,80,85,90,95,98,99],c=this.filterViewportEntries(e),u=await (0,a("2Fqls").calculateTTVCPercentilesWithDebugInfo)({viewport:{width:(0,a("dF9Lu").default)(),height:(0,a("6RK1A").default)()},startTime:t,stopTime:r,orderedEntries:c}),d={},h=0,p=new Set;if(u)for(let e of u){let{time:t,viewportPercentage:r,entries:n}=e;if(h>=l.length)break;if(r>=l[h]){let e=n.map(e=>e.elementName);for(;h<l.length&&r>=l[h];)d[`${l[h]}`]={t:Math.round(t),e:e},h++;p.clear()}else n.forEach(e=>p.add(e))}let f={t:0,e:[]};for(let e=0;e<l.length;e++){let t=l[e];t in d?f=d[`${t}`]:d[`${t}`]=f}if(!n&&"undefined"!=typeof window&&"function"==typeof window.__ufo_devtool_onVCRevisionReady__&&(0,a("VSDnB").fg)("platform_ufo_ttvc_v3_devtool"))try{window.__ufo_devtool_onVCRevisionReady__?.({revision:this.revisionNo,isClean:i,abortReason:o,vcLogs:u,interactionId:s})}catch(e){console.error("Error in onVCRevisionReady",e)}return d}async calculate({startTime:e,stopTime:t,orderedEntries:r,interactionId:n,isPostInteraction:i}){let s,o,l=r.filter(e=>this.isEntryIncluded(e));if((0,a("VSDnB").fg)("platform_ufo_add_vc_abort_reason_by_revisions")){let e=this.getVCCleanStatus(l);if(s=e.isVCClean,o=e.dirtyReason,!s)return{revision:this.revisionNo,"metric:vc90":null,clean:!1,abortReason:o}}else if(!(s=this.isVCClean(l)))return{revision:this.revisionNo,"metric:vc90":null,clean:!1};let c=(0,a("VSDnB").fg)("platform_ufo_ttvc_v3_devtool")?await this.calculateWithDebugInfo(l,e,t,i,s,n,o):await this.calculateBasic(l,e,t);return{revision:this.revisionNo,clean:!0,"metric:vc90":c?.["90"]?.t??null,vcDetails:c??void 0}}}}),o("2Fqls",function(t,r){async function n({viewport:e,orderedEntries:t,startTime:r}){let n=new(0,a("a6vME").ViewportCanvas)(e,(0,a("VSDnB").fg)("platform_ufo_canvas_heatmap_full_precision")?1:.25),i=new Map;for(let e of t){if(!("rect"in e.data))continue;let t=e.data.rect;n.drawRect(t,e.time),i.has(e.time)||i.set(e.time,[]),i.get(e.time).push(e.data)}let s=await n.getPixelCounts(),o=n.getScaledDimensions();return function(e,t,r,n){let i=Array(t.size),s=0,a=Array.from(e.entries()).sort(([e],[t])=>Number(e)-Number(t));for(let e=0;e<a.length;e++){let[o,l]=a[e],c=(s+=l)/r*100,u=t.get(o)||[];i[e]={time:Math.round(Number(o-n)),viewportPercentage:c,entries:Array.from(u)}}return i}(s,i,o.width*o.height,r)}e(t.exports,"calculateTTVCPercentilesWithDebugInfo",()=>n),e(t.exports,"default",()=>i);var i=async function({viewport:e,orderedEntries:t,percentiles:r,startTime:n}){let i=new(0,a("a6vME").ViewportCanvas)(e,(0,a("VSDnB").fg)("platform_ufo_canvas_heatmap_full_precision")?1:.25),s=new Map;for(let e of t){if(!("rect"in e.data))continue;let t=e.data.rect,r=e.data.elementName;i.drawRect(t,e.time),s.has(e.time)||s.set(e.time,new Set),s.get(e.time).add(r)}let o=await i.getPixelCounts(),l=i.getScaledDimensions();return function(e,t,r,n,i){let s={},a=0,o=r.sort((e,t)=>e-t),l=Array.from(e.entries()).sort(([e],[t])=>Number(e)-Number(t)),c=0,u=new Set;for(let[e,r]of l){let l=(a+=r)/n*100;(t.get(e)||new Set).forEach(e=>u.add(e));let d=!1;for(;c<o.length&&l>=o[c];)s[`${o[c]}`]={t:Math.round(Number(e-i)),e:Array.from(u)},c++,d=!0;if(d&&u.clear(),c>=o.length)break}let d={t:0,e:[]};for(let e=0;e<o.length;e++){let t=o[e];t in s||(s[`${t}`]=d),d=s[`${t}`]}return s}(o,s,r,l.width*l.height,n)}}),o("a6vME",function(t,r){e(t.exports,"ViewportCanvas",()=>n);class n{constructor(e,t=1){this.scaleFactor=t,this.colorCounter=1,this.colorTimeMap=new Map;let r=Math.max(e.width,1),n=Math.max(e.height,1);this.scaledWidth=Math.max(Math.ceil(r*t),1),this.scaledHeight=Math.max(Math.ceil(n*t),1),this.scaleX=this.scaledWidth/r,this.scaleY=this.scaledHeight/n,this.canvas=this.createCanvas(this.scaledWidth,this.scaledHeight);let i=this.canvas.getContext("2d",{alpha:!1,willReadFrequently:!0,colorSpace:"srgb"});if(!i)throw Error("Could not get canvas context");this.ctx=i,this.ctx.globalCompositeOperation="source-over",this.ctx.imageSmoothingEnabled=!1,this.clear()}createCanvas(e,t){if("undefined"!=typeof OffscreenCanvas)return new OffscreenCanvas(e,t);let r=document.createElement("canvas");return r.width=e,r.height=t,r}getScaledDimensions(){return{width:this.scaledWidth,height:this.scaledHeight}}clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}generateColor(){return i(this.colorCounter++%0xffffff)}drawRect(e,t){let r=this.generateColor();if(this.colorTimeMap.set(r,t),this.ctx.fillStyle=r,1===this.scaleFactor)return this.ctx.fillRect(e.x,e.y,e.width,e.height);let n=e.x*this.scaleX,i=e.y*this.scaleY,s=e.width*this.scaleX,a=e.height*this.scaleY;this.ctx.fillRect(Math.floor(n),Math.ceil(i),Math.max(s,1),Math.max(a,1))}async getPixelCounts(){let e=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height),t=this.colorTimeMap.size,r=await s(e,this.scaleFactor,t),n=new Map;for(let e=0;e<r.length;e++){let t=r[e];if("number"!=typeof t)continue;let s=i(e+1),a=this.colorTimeMap.get(s);void 0!==a&&n.set(a,(n.get(a)||0)+t)}return n}}function i(e){if(e<0||e>0xffffff)throw Error("Input number must be between 0 and 16777215 (inclusive).");return`rgb(${e>>16&255}, ${e>>8&255}, ${255&e})`}async function s(e,t,r){let n=e.data,i=new Uint32Array(r);for(let e=0;e<n.length;e+=4){if(0!==n[e+3]){let t=(n[e]<<16|n[e+1]<<8|n[e+2])-1;i[t]=(i[t]||0)+1}e%1e4==0&&await (0,a("ctFNJ").default)()}return i}}),o("ctFNJ",function(t,r){e(t.exports,"default",()=>n);var n=async function(){if("scheduler"in globalThis&&"yield"in globalThis.scheduler)return void await scheduler.yield();let e=()=>{},t=new Promise(t=>{e=t});setTimeout(e,0),await t}}),o("6RK1A",function(t,r){e(t.exports,"default",()=>n);var n=function(e=window.document){let t;try{t=e.documentElement.clientHeight||0}catch(e){t=0}return Math.max(t,window.innerHeight||0)}}),o("dF9Lu",function(t,r){e(t.exports,"default",()=>n);var n=function(e=window.document){let t;try{t=e.documentElement.clientWidth||0}catch(e){t=0}return Math.max(t,window.innerWidth||0)}}),o("aXT4C",function(t,r){e(t.exports,"default",()=>n);var n=function(e){if(e){let t="string"==typeof e.elementName;if(void 0!==e.rect&&t)return!0}return!1}}),o("1OMZa",function(t,r){e(t.exports,"default",()=>i);let n=e=>({rect:t})=>e.some(e=>!!e&&!!t&&e.width===t.width&&e.height===t.height&&e.x===t.x&&e.y===t.y)?"mutation:element-replacement":"mutation:element";class i{constructor({onChange:e}){this.handleIntersectionEntry=({target:e,rect:t,time:r,type:n,mutationData:i})=>{if(!e)return;let s=function(e){if(!(e instanceof HTMLElement))return!0;try{return e.checkVisibility({visibilityProperty:!0,contentVisibilityAuto:!0,opacityProperty:!0})}catch(e){return!0}}(e),a=this.mapVisibleNodeRects.get(e);this.mapVisibleNodeRects.set(e,t),this.onChange({time:r,type:n,elementRef:new WeakRef(e),visible:s,rect:t,previousRect:a,mutationData:i})},this.handleChildListMutation=({addedNodes:e,removedNodes:t})=>{let r=t.map(e=>{let t=e.deref();if(t)return this.mapVisibleNodeRects.get(t)});e.forEach(e=>{let i=e.deref();return i?t.find(e=>{let t=e.deref();return!!t&&!!i&&t.isEqualNode(i)})?void this.intersectionObserver?.watchAndTag(i,"mutation:remount"):(0,a("1HYUt").isContainedWithinMediaWrapper)(i)?void this.intersectionObserver?.watchAndTag(i,"mutation:media"):void this.intersectionObserver?.watchAndTag(i,n(r)):void 0})},this.handleAttributeMutation=({target:e,attributeName:t,oldValue:r,newValue:n})=>{this.intersectionObserver?.watchAndTag(e,({target:e,rect:i})=>{if((0,a("1HYUt").isContainedWithinMediaWrapper)(e))return{type:"mutation:media",mutationData:{attributeName:t,oldValue:r,newValue:n}};if((0,a("eliYW").default)({target:e,attributeName:t,type:"attributes"}))return{type:"mutation:attribute:non-visual-style",mutationData:{attributeName:t,oldValue:r,newValue:n}};let s=this.mapVisibleNodeRects.get(e);return s&&i&&s&&i.width===s.width&&i.height===s.height?{type:"mutation:attribute:no-layout-shift",mutationData:{attributeName:t,oldValue:r,newValue:n}}:{type:"mutation:attribute",mutationData:{attributeName:t,oldValue:r,newValue:n}}})},this.handleLayoutShift=({time:e,changedRects:t})=>{for(let r of t){let t=r.node;t&&this.onChange({time:e,elementRef:new WeakRef(t),visible:!0,rect:r.rect,previousRect:r.previousRect,type:"layout-shift"})}},this.mapVisibleNodeRects=new WeakMap,this.onChange=e,this.isStarted=!1,this.intersectionObserver=null,this.mutationObserver=null,this.performanceObserver=null}initializeObservers(){this.isStarted||(this.intersectionObserver=(0,a("aS5cI").createIntersectionObserver)({onEntry:this.handleIntersectionEntry}),this.mutationObserver=(0,a("4b2DW").default)({onChildListMutation:this.handleChildListMutation,onAttributeMutation:this.handleAttributeMutation}),this.performanceObserver=(0,a("aq5g1").default)({onLayoutShift:this.handleLayoutShift}))}start(){this.isStarted||(this.initializeObservers(),this.mutationObserver?.observe(document.body,{attributeOldValue:!0,attributes:!0,childList:!0,subtree:!0}),this.performanceObserver?.observe({type:"layout-shift",buffered:!0,durationThreshold:30}),this.isStarted=!0)}stop(){this.isStarted&&(this.mutationObserver?.disconnect(),this.intersectionObserver?.disconnect(),this.performanceObserver?.disconnect(),this.isStarted=!1)}}}),o("aS5cI",function(t,r){e(t.exports,"createIntersectionObserver",()=>n);function n({onEntry:e,onObserved:t}){if(!window||"function"!=typeof window.IntersectionObserver)return null;let r=new WeakMap,n=new IntersectionObserver(i=>{let s=[],a=performance.now();i.forEach(t=>{if(!(t.target instanceof HTMLElement)||!(t.isIntersecting&&t.intersectionRect.width>0&&t.intersectionRect.height>0))return;let i=null,a=null,o=r.get(t.target);if("function"==typeof o){let e=o({target:t.target,rect:t.intersectionRect});e?"string"==typeof e?i=e:(i=e.type,a=e.mutationData):i="unknown"}else"string"==typeof o&&(i=o);e({target:t.target,rect:t.intersectionRect,time:t.time,type:i??"unknown",mutationData:a}),s.push(new WeakRef(t.target)),r.delete(t.target),n.unobserve(t.target)}),t?.({time:a,elements:s})});return{disconnect:()=>{n.disconnect()},unobserve:e=>{n.unobserve(e)},watchAndTag:(e,t)=>{r.set(e,t),n.observe(e)}}}}),o("4b2DW",function(t,r){e(t.exports,"default",()=>n);var n=function({onAttributeMutation:e,onChildListMutation:t,onMutationFinished:r}){return window&&"function"==typeof window.IntersectionObserver?new MutationObserver(n=>{let i=[],s=[],a=[];for(let t of n)if(t.target instanceof HTMLElement){if("attributes"===t.type){let r=t.oldValue??void 0,n=t.attributeName?t.target.getAttribute(t.attributeName):void 0;r!==n&&e({target:t.target,attributeName:t.attributeName??"unknown",oldValue:r,newValue:n});continue}"childList"===t.type&&((t.addedNodes??[]).forEach(e=>{e instanceof HTMLElement&&i.push(new WeakRef(e))}),(t.removedNodes??[]).forEach(e=>{e instanceof HTMLElement&&s.push(new WeakRef(e))})),a.push(t.target)}t({addedNodes:i,removedNodes:s}),r?.({targets:a})}):null}}),o("aq5g1",function(t,r){function n(e){return"number"!=typeof window.devicePixelRatio||1===window.devicePixelRatio?e:new DOMRect(e.x/window.devicePixelRatio,e.y/window.devicePixelRatio,e.width/window.devicePixelRatio,e.height/window.devicePixelRatio)}e(t.exports,"default",()=>i);var i=function({onLayoutShift:e}){return window&&"function"==typeof window.PerformanceObserver?new PerformanceObserver(t=>{for(let r of t.getEntries())if("layout-shift"===r.entryType){let t=r.sources.reduceRight((e,t)=>(e.push({rect:n(t.currentRect),previousRect:n(t.previousRect),node:t.node}),e),[]);e({time:r.startTime,changedRects:t})}}):null}}),o("ePAog",function(t,r){e(t.exports,"default",()=>n);class n{constructor(e){this.unbindFns=[],this.onEvent=e.onEvent}bindEvent(e){let t=(0,a("cBeZP").bind)(window,{type:e,listener:t=>{t.isTrusted&&this.onEvent({time:t.timeStamp,type:e,event:t})},options:{passive:!0,once:!0}});this.unbindFns.push(t)}start(){this.bindEvent("wheel"),this.bindEvent("scroll"),this.bindEvent("keydown"),this.bindEvent("resize")}stop(){this.unbindFns.forEach(e=>{e()}),this.unbindFns=[]}}}),o("45w2S",function(t,r){e(t.exports,"interactions",()=>n);let n=new Map}),o("bJCAw",function(t,r){e(t.exports,"default",()=>n);class n{initializeVCObserver(e){this.vcObserver=new(0,a("a0hd6").VCObserverWrapper)({...e,isPostInteraction:!0})}startVCObserver({startTime:e}){this.vcObserver?.start({startTime:e})}setVCObserverSSRConfig(e){this.vcObserverSSRConfig=e}setLastInteractionFinishVCResult(e){this.lastInteractionFinishVCResult=e}sinkHandler(e){this.sinkHandlerFn=e}reset(){this.lastInteractionFinish=null,this.reactProfilerTimings=[],null!=this.sinkTimeoutId&&(clearTimeout(this.sinkTimeoutId),this.sinkTimeoutId=null),this.setVCObserverSSRConfig(null)}hasData(){return this.reactProfilerTimings?.length>0}async sendPostInteractionLog(){if(!this.hasData()||!this.lastInteractionFinish||!this.sinkHandlerFn){this.reset(),(0,a("fe1wc").getConfig)()?.experimentalInteractionMetrics?.enabled&&this.vcObserver?.stop();return}let e=await this.vcObserver?.getVCResult({start:this.lastInteractionFinish.start,stop:performance.now(),tti:-1,isEventAborted:!!this.lastInteractionFinish.abortReason,prefix:"ufo",...this.vcObserverSSRConfig,experienceKey:this.lastInteractionFinish.ufoName});(0,a("fe1wc").getConfig)()?.experimentalInteractionMetrics?.enabled&&this.vcObserver?.stop(),this.sinkHandlerFn({lastInteractionFinish:this.lastInteractionFinish,reactProfilerTimings:this.reactProfilerTimings,postInteractionFinishVCResult:e,lastInteractionFinishVCResult:this.lastInteractionFinishVCResult}),this.reset()}onInteractionComplete({ufoName:e,start:t,end:r,id:n,abortReason:i,abortedByInteractionName:s,routeName:o,type:l,experimentalTTAI:c,experimentalVC90:u,errors:d}){this.lastInteractionFinish={ufoName:e,start:t,end:r,id:n,abortReason:i,abortedByInteractionName:s,routeName:o,type:l,experimentalTTAI:c,experimentalVC90:u,errors:d};let h=(0,a("fe1wc").getConfig)()?.timeWindowForLateMutationsInMilliseconds||3e3;this.sinkTimeoutId=window.setTimeout(async()=>{await this.sendPostInteractionLog()},h)}addProfilerTimings(e,t,r,n,i,s){null!=this.lastInteractionFinish&&this.reactProfilerTimings.push({type:t,actualDuration:r,baseDuration:n,startTime:i,commitTime:s,labelStack:e})}constructor(){this.lastInteractionFinish=null,this.reactProfilerTimings=[],this.sinkTimeoutId=null,this.vcObserver=null,this.vcObserverSSRConfig=null,this.sinkHandlerFn=()=>{}}}}),o("2gQ83",function(t,r){e(t.exports,"default",()=>o);var n=a("7Jxgt");let i="atlOrigin",s={originLibrary:"origin-tracing.js@0.0.0-use.local"};class o{constructor({id:e=o.generateId(),product:t,dangerouslySkipValidation:r=!1}){this.id=e,this.product=t,r||this.validate()}static isValidId(e){return"string"==typeof e&&/^[-_a-zA-Z0-9]{1,36}$/.test(e)}static isValidProduct(e){return"string"==typeof e&&/^[-_a-zA-Z0-9]{1,20}$/.test(e)}static generateId(){return(0,n.v4)().replace(/-/g,"")}static createEmpty(){return new l}static createMalformed(){return new c}static fromUrl(e){let t=new((0,a("aWBhb").getEnv)()).URLSearchParams;return u(e,e=>{t=new((0,a("aWBhb").getEnv)()).URLSearchParams(e)}),o.fromEncoded(t.get(i))}static fromEncoded(e){if(!e)return o.createEmpty();try{return o.decode(e)}catch(e){return o.createMalformed()}}static removeFromUrl(e){return u(e,e=>{let t=new((0,a("aWBhb").getEnv)()).URLSearchParams(e);return t.delete(i),t.toString()})}static decode(e){return new o((0,a("lu9OT").decode)(e))}encode(){return(0,a("lu9OT").encode)({id:this.id,product:this.product})}addToUrl(e){return u(e,e=>{let t=new((0,a("aWBhb").getEnv)()).URLSearchParams(e);return t.set(i,this.encode()),t.toString()})}isEmpty(){return!1}isMalformed(){return!this.isEmpty()&&!this.isValid()}isValid(){return!0}toAnalyticsAttributes({transformValue:e=e=>null===e?void 0:e,hasGeneratedId:t=!1}={}){return{[t?"originIdGenerated":"originId"]:e(this.id),originProduct:e(this.product),...s}}validate(){if(!o.isValidId(this.id))throw TypeError("Invalid Origin id");if(!o.isValidProduct(this.product))throw TypeError("Missing/invalid Origin product")}}class l extends o{constructor(){super({id:null,product:null,dangerouslySkipValidation:!0})}isValid(){return!1}isEmpty(){return!0}toAnalyticsAttributes(){return{...s}}}class c extends o{constructor(){super({id:null,product:null,dangerouslySkipValidation:!0})}isValid(){return!1}isEmpty(){return!1}toAnalyticsAttributes(){return{originMalformed:!0,...s}}}function u(e,t){return String(e).replace(/(^[^?#]*)(?:\?)?([^#]*?)(#.*|$)$/,(e,r,n,i)=>{let s=t(n);return s&&(s=`?${s}`),`${r}${s}${i}`})}}),o("lu9OT",function(t,r){e(t.exports,"encode",()=>i),e(t.exports,"decode",()=>s);let n={confluence:"c",jira:"j",stride:"s",bitbucket:"b",trello:"t"};function i(e){let t=JSON.stringify(function({id:e,product:t}){return{i:e,p:t&&t in n?n[t]:t}}(e)),r=(0,a("aWBhb").getEnv)().btoa(t);return(0,a("8FuSo").base64ToBase64Url)(r)}function s(e){let t=(0,a("8FuSo").base64UrlToBase64)(e);var r=JSON.parse((0,a("aWBhb").getEnv)().atob(t));let i={};return r.i&&(i.id=r.i),r.p&&(i.product=function(e){let t=Object.keys(n);for(let r=0;r<t.length;r++){let i=t[r];if(e===n[i])return i}return e}(r.p)),i}}),o("8FuSo",function(t,r){function n(e){return null==e?"":String(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function i(e){if(null==e)return"";let t=String(e).replace(/-/g,"+").replace(/_/g,"/"),r=(4-e.length%4)%4;return t+"===".slice(0,r)}e(t.exports,"base64ToBase64Url",()=>n),e(t.exports,"base64UrlToBase64",()=>i)}),o("aWBhb",function(t,r){let n;e(t.exports,"getEnv",()=>o);var i=a("5k7LC");let s=()=>({atob:"function"==typeof atob&&atob.bind(void 0)||void 0!==i.Buffer&&(e=>i.Buffer.from(e,"base64").toString()),btoa:"function"==typeof btoa&&btoa.bind(void 0)||void 0!==i.Buffer&&(e=>i.Buffer.from(e).toString("base64")),URLSearchParams:"function"==typeof URLSearchParams&&URLSearchParams||a("6vAaw").URLSearchParams}),o=()=>n||(n=l(s())),l=e=>{if(!(e.atob&&e.btoa&&e.URLSearchParams))throw TypeError("Origin-Tracing: missing environment APIs. Required: btoa(), atob(), URLSearchParams() (or in Node: Buffer, require('url').URLSearchParams).");return e}}),o("fYgl8",function(t,r){e(t.exports,"CompressionRule",()=>n);class n{constructor(e,t){if(this.canCompress=e=>{try{return e&&(0,a("ibWJJ").isActionEventType)(e.eventType)&&this.predicate(e)}catch(e){return!1}},this.compress=e=>{let[t,r]=(0,a("gYqa8").partition)(e,e=>this.canCompress(e)),n=this.compressFn(t);if(!n)throw Error("No events were returned from the compression function");return n.forEach(e=>{(0,a("ibWJJ").validateActionEventType)(e.eventType),(0,a("ibWJJ").validateActionEvent)(e)}),n.concat(r)},"function"!=typeof e)throw Error("Invalid predicate, must be a function that accepts an event and returns a boolean");if("function"!=typeof t)throw Error("Invalid compressFn, must be a function that both accepts and returns an array of events");this.predicate=e,this.compressFn=t}}}),o("ibWJJ",function(t,r){e(t.exports,"validateContainers",()=>i),e(t.exports,"isActionEventType",()=>s),e(t.exports,"validateActionEventType",()=>o),e(t.exports,"validateActionEvent",()=>l),e(t.exports,"validateScreenEvent",()=>c),e(t.exports,"validateTrackEvent",()=>u),e(t.exports,"validateDwellBaseEvent",()=>d),e(t.exports,"validateUIEvent",()=>h),e(t.exports,"validateOperationalEvent",()=>p),e(t.exports,"validateIdentifyEvent",()=>f),e(t.exports,"validatePlatform",()=>g);let n=Object.freeze([a("iZhen").eventType.OPERATIONAL,a("iZhen").eventType.TRACK,a("iZhen").eventType.UI]);function i(e){if(e){if(e&&e.constructor!==Object)throw Error("properties.containers must be an Object");Object.values(e).forEach(e=>(function(e){if(!(0,a("eB7xz").isPlainObject)(e))throw Error("properties.containers must be an Object");if(!("id"in e))throw Error("properties.containers is missing field 'id'");if("string"!=typeof e.id)throw Error("properties.containers.id must be of type String");if("type"in e&&"string"!=typeof e.type)throw Error("properties.containers.type must be of type String")})(e))}}function s(e){switch(e){case a("iZhen").eventType.OPERATIONAL:case a("iZhen").eventType.TRACK:case a("iZhen").eventType.UI:return!0;default:return!1}}function o(e){if(!s(e))throw Error(`Invalid action event type: ${e}, must be one of: [${n}]`);return!0}function l(e){if(!e)throw Error("Missing event");if(!e.source)throw Error("Missing event.source");if(!e.actionSubject)throw Error("Missing event.actionSubject");if(!e.action)throw Error("Missing event.action");i(e.containers)}function c(e){if(!e)throw Error("Missing name")}function u(e){l(e)}function d(e){if(!e)throw Error("Missing event");if(!e.source)throw Error("Missing event.source");if(!e.actionSubject)throw Error("Missing event.actionSubject")}function h(e){l(e)}function p(e){l(e)}function f(e,t){if(!e)throw Error("Missing userIdType");if(!t)throw Error("Missing userId");if(!(0,a("iZhen").isType)(a("iZhen").userType,e))throw Error(`Invalid userIdType '${e}', must be an userType: [${(0,a("iZhen").objectValues)(a("iZhen").userType)}]`)}function g(e){if(!(0,a("iZhen").isType)(a("iZhen").platformType,e.platform))throw Error(`Invalid productInfo.platform '${e.platform}', must be a platformType: [${(0,a("iZhen").objectValues)(a("iZhen").platformType)}]`);if(e.origin===a("iZhen").originType.DESKTOP&&!(0,a("iZhen").isType)(a("iZhen").desktopPlatforms,e.platform))throw Error(`Invalid productInfo.platform '${e.platform}', must be one of [mac, linux, windows]`);if(e.origin===a("iZhen").originType.WEB&&!(0,a("iZhen").isType)(a("iZhen").webPlatforms,e.platform))throw Error(`Invalid productInfo.platform '${e.platform}', must be one of [web, mobileWeb]`)}}),o("iZhen",function(t,r){e(t.exports,"envType",()=>f),e(t.exports,"eventType",()=>g),e(t.exports,"platformType",()=>m),e(t.exports,"originType",()=>v),e(t.exports,"tenantType",()=>y),e(t.exports,"productEmbedType",()=>E),e(t.exports,"userType",()=>b),e(t.exports,"apdexType",()=>_),e(t.exports,"desktopPlatforms",()=>I),e(t.exports,"webPlatforms",()=>w),e(t.exports,"originTracingType",()=>x),e(t.exports,"objectValues",()=>S),e(t.exports,"isType",()=>T),e(t.exports,"perimeterType",()=>C),e(t.exports,"aliasType",()=>O),e(t.exports,"groupType",()=>A);var n,i,s,a,o,l,c,u,d,h,p,f=((n={}).LOCAL="local",n.DEV="dev",n.STAGING="staging",n.PROD="prod",n),g=((i={}).TRACK="track",i.UI="ui",i.OPERATIONAL="operational",i.SCREEN="screen",i.IDENTIFY="identify",i),m=((s={}).MAC="mac",s.LINUX="linux",s.WINDOWS="windows",s.DESKTOP="desktop",s.WEB="web",s.MOBILE_WEB="mobileWeb",s),v=((a={}).DESKTOP="desktop",a.WEB="web",a),y=((o={}).CLOUD_ID="cloudId",o.ORG_ID="orgId",o.OPSGENIE_CUSTOMER_ID="opsgenieCustomerId",o.HALP_TEAM_ID="halpTeamId",o.LOOM_ORG_ID="loomOrgId",o.TRANSACTION_ACCOUNT_ID="transactionAccountId",o.TRELLO_WORKSPACE_ID="trelloWorkspaceId",o.JA_WORKSPACE_ID="jiraAlignWorkspaceId",o.NONE="none",o),E=((l={}).FIRST_PARTY="FIRST_PARTY",l.THIRD_PARTY="THIRD_PARTY",l),b=((c={}).ATLASSIAN_ACCOUNT="atlassianAccount",c.HASHED_EMAIL="hashedEmail",c.LOOM="loom",c.TRELLO="trello",c.OPSGENIE="opsgenie",c.JA_USER_ID="jiraAlign",c.HALP="halp",c),_=((u={}).TRANSITION="transition",u.INITIAL_LOAD="initialLoad",u);let I=Object.freeze(["desktop","mac","linux","windows"]),w=Object.freeze(["web","mobileWeb"]);var x=((d={}).ATL_ORIGIN="atlOrigin",d);function S(e){return Object.values(e)}function T(e,t){return Object.values(e).indexOf(t)>-1}var C=((h={}).C5="c5",h.COMMERCIAL="commercial",h.FEDRAMP_MODERATE="fedramp-moderate",h.FEDRAMP_HIGH="fedramp-high",h),O={},A=((p={}).TRANSACTION_ACCOUNT_ID="transactionAccountId",p)}),o("eB7xz",function(t,r){function n(e){return!0==(null!==e&&"object"==typeof e&&!1===Array.isArray(e))&&"[object Object]"===Object.prototype.toString.call(e)}function i(e){if(!1===n(e))return!1;let t=e.constructor;if("function"!=typeof t)return!1;let r=t.prototype;return!1!==n(r)&&"isPrototypeOf"in r}e(t.exports,"isPlainObject",()=>i)}),o("gYqa8",function(t,r){e(t.exports,"mapKeys",()=>n),e(t.exports,"pick",()=>i),e(t.exports,"omitBy",()=>s),e(t.exports,"pickBy",()=>a),e(t.exports,"omit",()=>o),e(t.exports,"equals",()=>l),e(t.exports,"partition",()=>c);let n=(e,t)=>Object.keys(e).reduce((r,n)=>(r[t(e[n],n,e)]=e[n],r),{}),i=(e,t)=>t.reduce((t,r)=>(r in e&&(t[r]=e[r]),t),{}),s=(e,t)=>Object.keys(e).filter(r=>!t(e[r],r)).reduce((t,r)=>(t[r]=e[r],t),{}),a=(e,t)=>Object.keys(e).filter(r=>t(e[r],r)).reduce((t,r)=>(t[r]=e[r],t),{}),o=(e,t)=>Object.keys(e).filter(e=>0>t.indexOf(e)).reduce((t,r)=>(t[r]=e[r],t),{}),l=(e,t)=>{if(e===t)return!0;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(!e||!t||"object"!=typeof e&&"object"!=typeof t)return e===t;if(e.prototype!==t.prototype)return!1;let r=Object.keys(e);return r.length===Object.keys(t).length&&r.every(r=>l(e[r],t[r]))},c=(e,t)=>e.reduce((e,r,n,i)=>(e[+!t(r,n,i)].push(r),e),[[],[]])}),o("buAWB",function(r,n){e(r.exports,"default",()=>l);var i=a("bXrHm");let s="last.screen.event";class o{static getCallback(e){return e=e||console,t=>{o.callback(t,e)}}static callback(e,t){let r=e.getStatusCode();r>=200&&r<=299?e.getEventResponseList().forEach(e=>{t.warn("Validation report for event with message ID %s:\n",e.getMessageId(),e)}):400===r||404===r?(t.warn("GASv3 submission failed with HTTP Status Code %d: %s",e.getStatusCode(),e.getMessage()),e.getEventResponseList().forEach(e=>{t.warn("Event with message ID %s:\n",e.getMessageId(),e)})):(t.log("GASv3 submission failed with HTTP Status Code %d: %s",e.getStatusCode(),e.getMessage()),e.eventResponseList.forEach(e=>{t.debug("Event with message ID %s:\n",e.getMessageId(),e)}))}}class l{constructor(e,r={}){if(this._useStargate=e=>null==e||e,this._changeInternalUserId=(e,t)=>{this._eventProcessor.getUser().setUserId(e),t&&t!==this._eventProcessor.getUser().getAnonymousId()&&this._eventProcessor.getUser().setAnonymousId(t)},this._createSubproductGetter=e=>(0,a("kljjv").default)(e,"Cannot get subproduct from the callback. Proceeding without it."),this._createEmbeddedProductGetter=e=>(0,a("kljjv").default)(e,"Cannot get embeddedProduct from the callback. Proceeding without it."),this._getLastScreenEvent=()=>{try{return JSON.parse(this._safeSessionStorage.getItem(s)||"")}catch(e){return this._safeSessionStorage.removeItem(s),null}},this._setLastScreenEvent=e=>{this._safeSessionStorage.setItem(s,JSON.stringify({name:e.name,attributes:e.attributes}))},this._shouldEventBeDelayed=e=>{if(!e.tags||-1===e.tags.indexOf("measurement"))return!1;let t=!1!==e.highPriority;return this._eventDelayQueue.isDelayingLowPriorityEvents()&&!t},this._fireEvent=(e,t,r,n)=>{switch(t.eventType){case a("iZhen").eventType.UI:case a("iZhen").eventType.OPERATIONAL:case a("iZhen").eventType.TRACK:return this._eventProcessor.track(e,t,r,n);case a("iZhen").eventType.SCREEN:return this._eventProcessor.page(e,t,r,n);case a("iZhen").eventType.IDENTIFY:return this._eventProcessor.identify(e,t,r,n);default:throw Error(`No handler has been defined for events of type ${t.eventType}`)}},this._fireDelayedEvent=(e,t,r,n)=>{try{this._changeInternalUserId(n.userId,n.anonymousId),t.tags=[...t.tags||[],"sentWithDelay"],this._fireEvent(e,t,r,void 0)}finally{this._changeInternalUserId(this._userInfo.userId,this._userInfo.anonymousId)}},this._delayEvent=(e,t,r,n,i)=>{this._eventDelayQueue.push(e,t,r,n),i&&i()},this._processEvent=(e,t,r,n)=>(this._testingCache.saveEvent(t),this._shouldEventBeDelayed(t))?(this._delayEvent(e,t,r,this._userInfo,n),Promise.resolve()):this._fireEvent(e,t,r,n),this.setEmbeddedProduct=e=>{this._internalProductInfo.embeddedProduct=this._createEmbeddedProductGetter(e),this.resetUIViewedTimers()},this.clearEmbeddedProduct=()=>{this._internalProductInfo.embeddedProduct=this._createEmbeddedProductGetter(null)},this.setSubproduct=e=>{this._internalProductInfo.subproduct=this._createSubproductGetter(e),this.resetUIViewedTimers()},this.setOriginTracingHandlers=e=>{let t=this._originTracing.handleOriginParameters(e,this._historyReplaceFn);Object.keys(t).forEach(e=>{void 0!==t[e].taskSessionId&&this._task.createTaskSessionWithProvidedId(e,t[e].taskSessionId)});let r={};return(Object.keys(t).forEach(e=>{t[e].originTracingAttributes?r[e]=t[e].originTracingAttributes:console.warn(`Handling method for origin parameter ${e} has not returned any attributes`)}),Object.keys(t).length>0)?this.sendOperationalEvent({action:"landed",actionSubject:"origin",source:"webClient",attributes:{originTracesLanded:r}},()=>{}):Promise.resolve()},this.setTenantInfo=(e,t)=>{if(!e)throw Error("Missing tenantIdType");if(e!==a("iZhen").tenantType.NONE&&!t)throw Error("Missing tenantId");if(!(0,a("iZhen").isType)(a("iZhen").tenantType,e))throw Error(`Invalid tenantIdType '${e}', must be an tenantType: [${(0,a("iZhen").objectValues)(a("iZhen").tenantType)}]`);this._tenantInfo={tenantIdType:e,tenantId:t},this._eventProcessor.refreshMetadata(this._userInfo,this._tenantInfo)},this.clearTenantInfo=()=>{this._tenantInfo={},this._eventProcessor.refreshMetadata(this._userInfo,this._tenantInfo)},this.setOrgInfo=e=>{if(!e)throw Error("Missing orgId");this._orgInfo={orgId:e}},this.clearOrgInfo=()=>{this._orgInfo={}},this.setWorkspaceInfo=e=>{if(!e)throw Error("Missing workspaceId");this._workspaceInfo={workspaceId:e}},this.clearWorkspaceInfo=()=>{this._workspaceInfo={}},this.setUserInfo=(e,t)=>{(0,a("ibWJJ").validateIdentifyEvent)(e,t),this._changeInternalUserId(t),this._userInfo={userIdType:e,userId:t,anonymousId:this._eventProcessor.getUser().getAnonymousId()},this._eventProcessor.refreshMetadata(this._userInfo,this._tenantInfo)},this.clearUserInfo=()=>{this._changeInternalUserId(void 0),this._userInfo={anonymousId:this._eventProcessor.getUser().getAnonymousId()},this._eventProcessor.refreshMetadata(this._userInfo,this._tenantInfo)},this.setAlias=(e,t)=>{if(!e)throw Error("Missing aliasType");if(!(0,a("iZhen").isType)(a("iZhen").aliasType,e))throw Error(`Invalid aliasType '${e}', must be an aliasType: [${(0,a("iZhen").objectValues)(a("iZhen").aliasType)}]`);this._aliases[e]=t},this.clearAlias=()=>{this._aliases={}},this.setGroup=(e,t)=>{if(!e)throw Error("Missing groupType");if(!(0,a("iZhen").isType)(a("iZhen").groupType,e))throw Error(`Invalid groupType '${e}', must be an groupType: [${(0,a("iZhen").objectValues)(a("iZhen").groupType)}]`);this._groups[e]=t},this.clearGroup=()=>{this._groups={}},this.getAnonymousId=()=>this._userInfo.anonymousId,this.getCurrentSessionId=()=>this._sessionTracking.getCurrentSessionId(),this.setUIViewedAttributes=e=>{if(!e)throw Error("Missing uiViewedAttributes");if("object"!=typeof e||Array.isArray(e))throw Error("Invalid uiViewedAttributes type, should be a non array object");this._uiViewedAttributes={...e}},this.getUIViewedAttributes=()=>this._uiViewedAttributes,this.clearUIViewedAttributes=()=>{this._uiViewedAttributes={}},this.sendIdentifyEvent=(e,t,r)=>{this.setUserInfo(e,t);let n={userIdType:e,eventType:a("iZhen").eventType.IDENTIFY};return this._processEvent(t,n,this._context,r)},this.sendPageEvent=(e,t)=>this.sendScreenEvent(e,t),this.sendScreenEvent=(e,t,r)=>{let n,i,s,o;"object"==typeof e?(n=e.name,i=e.attributes,s=e.containers,o=e.tags):(n=e,i=r),(0,a("ibWJJ").validateScreenEvent)(n),(0,a("ibWJJ").validateContainers)(s);let l={name:n,...(0,a("fNiuW").buildScreenEvent)(this._internalProductInfo,this._tenantInfo,this._userInfo,i,e.nonPrivacySafeAttributes,o,this._tabTracking.getCurrentTabId(),this._sessionTracking.getCurrentSessionId(),this._task.getAllTaskSessions(),this._orgInfo,this._pageLoadId,this._workspaceInfo,e,s,this._aliases,this._groups)};return this._setLastScreenEvent(l),this._processEvent(n,l,this._context,(0,a("j7FCN").default)(t,l))},this.sendTrackEvent=(e,t)=>{(0,a("ibWJJ").validateTrackEvent)(e);let r=(0,a("fNiuW").buildActionEvent)(this._internalProductInfo,this._tenantInfo,this._userInfo,e,a("iZhen").eventType.TRACK,this._tabTracking.getCurrentTabId(),this._sessionTracking.getCurrentSessionId(),this._task.getAllTaskSessions(),this._orgInfo,this._pageLoadId,this._workspaceInfo,this._aliases,this._groups);return this._processEvent((0,a("fNiuW").buildActionName)(e),r,this._context,(0,a("j7FCN").default)(t,r))},this.sendUIEvent=(e,t)=>{(0,a("ibWJJ").validateUIEvent)(e);let r=(0,a("fNiuW").buildActionEvent)(this._internalProductInfo,this._tenantInfo,this._userInfo,e,a("iZhen").eventType.UI,this._tabTracking.getCurrentTabId(),this._sessionTracking.getCurrentSessionId(),this._task.getAllTaskSessions(),this._orgInfo,this._pageLoadId,this._workspaceInfo,this._aliases,this._groups);return this._processEvent((0,a("fNiuW").buildActionName)(e),r,this._context,(0,a("j7FCN").default)(t,r))},this.sendOperationalEvent=(e,t)=>{(0,a("ibWJJ").validateOperationalEvent)(e);let r=(0,a("fNiuW").buildActionEvent)(this._internalProductInfo,this._tenantInfo,this._userInfo,e,a("iZhen").eventType.OPERATIONAL,this._tabTracking.getCurrentTabId(),this._sessionTracking.getCurrentSessionId(),this._task.getAllTaskSessions(),this._orgInfo,this._pageLoadId,this._workspaceInfo,this._aliases,this._groups);return this._processEvent((0,a("fNiuW").buildActionName)(e),r,this._context,(0,a("j7FCN").default)(t,r))},this.startUIViewedEvent=e=>{this.stopUIViewedEvent(),this._uiViewedEvent=new(0,a("edTAR").default)(this._internalProductInfo,()=>({embeddedProduct:this._internalProductInfo.embeddedProduct(),subproduct:this._internalProductInfo.subproduct(),tenantIdType:this._tenantInfo.tenantIdType,tenantId:this._tenantInfo.tenantId,userId:this._userInfo.userId,lastScreenEvent:this._getLastScreenEvent(),attributes:this._uiViewedAttributes}),t=>this.sendUIEvent(t,e)),this._uiViewedEvent.start()},this.stopUIViewedEvent=()=>{this._uiViewedEvent&&(this._uiViewedEvent.stop(),this._uiViewedEvent=null)},this.resetUIViewedTimers=()=>{this._uiViewedEvent&&this._uiViewedEvent.resetTimers()},this.startApdexEvent=e=>{this._apdexEvent.start(e)},this.getApdexStart=e=>this._apdexEvent.getStart(e),this.stopApdexEvent=(e,t)=>{this._apdexEvent.stop(e,t)},this.startLowPriorityEventDelay=(e,t)=>{this._eventDelayQueue.startLowPriorityEventDelay(e,t)},this.stopLowPriorityEventDelay=()=>{this._eventDelayQueue.stopLowPriorityEventDelay()},this.onEvent=(e,t)=>{if(!t)throw Error("Missing analyticsData");if(!t.eventType)throw Error("Missing analyticsData.eventType");if(t.eventType===a("iZhen").eventType.TRACK)return this.sendTrackEvent(t);if(t.eventType===a("iZhen").eventType.UI)return this.sendUIEvent(t);if(t.eventType===a("iZhen").eventType.OPERATIONAL)return this.sendOperationalEvent(t);if(t.eventType===a("iZhen").eventType.SCREEN)return this.sendScreenEvent(t.name,null,t.attributes);if(t.eventType===a("iZhen").eventType.IDENTIFY)return this.sendIdentifyEvent(t.userIdType,t.userId);throw Error(`Invalid analyticsData.eventType '${t.eventType}', must be an eventType: [${(0,a("iZhen").objectValues)(a("iZhen").eventType)}]`)},this.setResponseCallback=e=>{this._eventProcessor.setResponseCallback(e)},!e)throw Error("Missing productInfo");if(!e.env)throw Error("Missing productInfo.env");if(!e.product)throw Error("Missing productInfo.product");if(!(0,a("iZhen").isType)(a("iZhen").envType,e.env))throw Error(`Invalid productInfo.env '${e.env}', must be an envType: [${(0,a("iZhen").objectValues)(a("iZhen").envType)}]`);if(e.perimeter&&!(0,a("iZhen").isType)(a("iZhen").perimeterType,e.perimeter))throw Error(`Invalid productInfo.perimeter '${e.perimeter}', must be an perimeterType: [${(0,a("iZhen").objectValues)(a("iZhen").perimeterType)}]`);if(e.origin){if(!(0,a("iZhen").isType)(a("iZhen").originType,e.origin))throw Error(`Invalid productInfo.origin '${e.origin}', must be an originType: [${(0,a("iZhen").objectValues)(a("iZhen").originType)}]`)}else e.origin=a("iZhen").originType.WEB;e.platform?(0,a("ibWJJ").validatePlatform)(e):e.platform=e.origin===a("iZhen").originType.WEB?a("iZhen").platformType.WEB:a("iZhen").platformType.DESKTOP,this._logger=r.logger||console,this._internalProductInfo={...e,subproduct:this._createSubproductGetter(e.subproduct),embeddedProduct:this._createEmbeddedProductGetter(e.embeddedProduct)},this._tenantInfo={},this._orgInfo={},this._uiViewedAttributes={},e?.embeddedContext&&(this._embeddedContext=e.embeddedContext,(0,a("3mN0k").isFirstParty)(this._embeddedContext)&&this.setUIViewedAttributes({embeddedType:this._embeddedContext.embeddedType,embeddedFromProduct:this._embeddedContext.embeddedFromProduct,embeddedFromSubproduct:this._embeddedContext.embeddedFromSubproduct,embeddedFromTopLevelDomain:this._embeddedContext.embeddedFromTopLevelDomain}),(0,a("3mN0k").isThirdParty)(this._embeddedContext)&&this.setUIViewedAttributes({embeddedType:this._embeddedContext.embeddedType,embeddedFromTopLevelDomain:this._embeddedContext.embeddedFromTopLevelDomain})),this._context=(0,a("fNiuW").buildContext)(this._internalProductInfo),this._safeSessionStorage=new(0,a("lbyTT").default);let n=this._useStargate(r.useStargate),l=r.apiHost||(0,a("cT8IU").selectHost)({useStargate:n,env:e.env,useLegacyUrl:r.useLegacyUrl,perimeter:e.perimeter,ic:e.ic,envOverride:e.envOverride}),c=r.apiHostProtocol||"https",u=r.minRetryDelay||1e3,d=void 0!==r.maxRetryAttempts&&Number.isInteger(r.maxRetryAttempts)&&r.maxRetryAttempts>=0?r.maxRetryAttempts+1:void 0,h={maxRetryDelay:6e4,minRetryDelay:u,backoffFactor:2,flushWaitMs:r.flushWaitInterval,flushBeforeUnload:r.flushBeforeUnload,maxAttempts:d},p=`awc-${e.env}`,f=r.disableCookiePersistence||!1,g=(r.metadataClientFactory||a("3pTuY").MetadataClient.Factory)(c,l,e.product);this._eventProcessor=new(0,a("fHcqB").default)({apiHost:l,apiHostProtocol:c,product:e.product,retryQueuePrefix:p,retryQueueOptions:h,xidPromiseGetter:()=>(0,a("iNSWY").XIDPromise)(r.xidConsent,r.xidPromiseFn),logger:this._logger,metadataClient:g,disableCookiePersistence:f,responseCallback:o.getCallback(this._logger),env:e.env,perimeter:e.perimeter,enableMetadataCalls:this.metadataCallsEnabled(r),enableEventCalls:this.eventCallsEnabled(r)}),this._userInfo={anonymousId:this._eventProcessor.getUser().getAnonymousId(r?.customAnonymousIdGenerator)},this._pageVisibility=new(0,a("2xy0c").default),this._tabTracking=new(0,a("5cwz8").default),this._sessionTracking=new(0,a("4NslB").default)({sessionExpiryTime:r.sessionExpiryTime,onNewSessionStarted:r.onNewSessionStarted}),this._task=new(0,a("3ErS8").default),this._originTracing=new(0,a("cxufL").default),this._apdexEvent=new(0,a("hI2MJ").default)(this.sendOperationalEvent,this._pageVisibility),this._historyReplaceFn="function"==typeof r.historyReplaceFn?r.historyReplaceFn:a("d7bc1").defaultHistoryReplaceFn,this._eventDelayQueue=new(0,a("76MW0").default)(this._fireDelayedEvent,r.delayQueueCompressors||[]),this._testingCache=new(0,a("fOR5Q").default),this._pageLoadId=t(i)(),this._workspaceInfo={},this._aliases={},this._groups={}}metadataCallsEnabled(e){return"boolean"==typeof e.disableMetadataCalls?!e.disableMetadataCalls:!a("ztCik").TestSupport.isGeminiVREnvironment()&&!a("ztCik").TestSupport.areFetchCallsDisabled()}eventCallsEnabled(e){return"boolean"==typeof e.disableEventCalls?!e.disableEventCalls:!a("ztCik").TestSupport.isGeminiVREnvironment()&&!a("ztCik").TestSupport.areFetchCallsDisabled()}setEventValidationMode(e){this._context.context.validationMode=e}get task(){return this._task}get _productInfo(){return this._internalProductInfo}}}),o("hI2MJ",function(t,r){e(t.exports,"default",()=>n);class n{constructor(e,t){if(this._getEventKey=({task:e,taskId:t})=>t?`${e}.${t}`:e,this._getEventTimingByName=e=>{let t=this._performance.getEntriesByName(e);return t[t.length-1]},this._getApdexFields=e=>{let t=this._getApdexTimings(e),r=this._calculateApdex({duration:t.duration,threshold:e.threshold});return{...t,apdex:r}},this._getApdexTimings=e=>{let t=this._getEventKey(e),r=`${t}-start`,n=e.startTime||this._getStartTime(e,r),i=e.stopTime||this._getStopTime();return this._cleanApdexState(t),{startTime:n,stopTime:i,duration:i-n}},this._getStartTime=(e,t)=>{let r,n=this._performance.getTimeOrigin();return e.type===a("iZhen").apdexType.INITIAL_LOAD?n:n+this._getEventTimingByName(t).startTime},this._getStopTime=()=>this._performance.getTimeOrigin()+this._performance.now(),this._cleanApdexState=e=>{this._performance.clearMarks(`${e}-start`),this._performance.clearMarks(`${e}-stop`),this._startedEvents.delete(e)},this._getVisibilityFields=e=>{let t;if(e.type===a("iZhen").apdexType.INITIAL_LOAD)t=!this._wasPreviouslyHidden;else if(e.type===a("iZhen").apdexType.TRANSITION){let r=this._getEventKey(e);t=this._isActiveEvents.get(r)}return(e.startTime||e.stopTime)&&(t=!this._pageVisibility.getIsHidden()),{isActiveTab:t}},this._calculateApdex=({duration:e,threshold:t=this._threshold})=>e<=t?1:.5*(e<=4*t),this._validateStartEvent=e=>{if(!e)throw Error('Missing "event" in Apdex start event');if(!e.task)throw Error('Missing "task" in Apdex start event');if("string"!=typeof e.task)throw Error('Invalid "task" in Apdex start event');if(e.taskId&&"string"!=typeof e.taskId)throw Error('Invalid "taskId" in Apdex start event')},this._validateStopEvent=e=>{if(!e)throw Error('Missing "event" in Apdex stop event');if(!e.task)throw Error('Missing "task" in Apdex stop event');if("string"!=typeof e.task)throw Error('Invalid "task" in Apdex stop event');if(e.taskId&&"string"!=typeof e.taskId)throw Error('Invalid "taskId" in Apdex stop event');if(!e.type)throw Error('Missing "type" in Apdex stop event');if(e.type&&!(0,a("iZhen").isType)(a("iZhen").apdexType,e.type))throw Error('Invalid "type" in Apdex stop event');if(e.threshold&&"number"!=typeof e.threshold)throw Error('Invalid "threshold" in Apdex stop event');if(!e.startTime&&e.type===a("iZhen").apdexType.TRANSITION){let t=this._getEventKey(e);if(!this._startedEvents.has(t))throw Error(`Apdex event transition "${t}" was not started`)}if(e.startTime&&!("number"==typeof e.startTime&&e.startTime>=0))throw Error('Invalid "startTime" in Apdex stop event');if(e.stopTime&&"number"!=typeof e.stopTime)throw Error('Invalid "stopTime" in Apdex stop event');if(e.stopTime<=e.startTime)throw Error('"stopTime" should be greater than "startTime" in Apdex stop event')},this._shouldSendEvent=e=>!!e&&"number"==typeof e.apdex,this._sendEvent=(e,t)=>{this._shouldSendEvent(e)&&this._onEvent({source:"ui",action:"readyForUser",actionSubject:"ui",attributes:{...e.additionalAttributes,task:e.task,taskId:e.taskId,type:e.type,threshold:e.threshold||this._threshold,apdex:e.apdex,startTime:e.startTime,stopTime:e.stopTime,duration:e.duration,isActiveTab:e.isActiveTab}},t)},!e)throw Error("Missing onEvent callback");if("function"!=typeof e)throw Error("Invalid onEvent, must be function");if(!(t instanceof a("2xy0c").default))throw Error("Invalid pageVisibility, must be PageVisibility class");this._startedEvents=new Map,this._performance=new(0,a("acAer").default),this._onEvent=e,this._threshold=1e3,this._wasPreviouslyHidden=t.getIsHidden(),this._isActiveEvents=new Map,this._pageVisibility=t,this._pageVisibility.addCallback("apdexEvent",e=>{this.onVisibilityChange(!e)})}start(e){if(this._validateStartEvent(e),!this._performance.isAvailable())return;let t=this._getEventKey(e),r=`${t}-start`;this._startedEvents.set(t,!0),this._isActiveEvents.set(t,!this._pageVisibility.getIsHidden()),this._performance.clearMarks(r),this._performance.mark(r)}getStart(e){if(this._validateStartEvent(e),!this._performance.isAvailable())return;let t=this._getEventKey(e),r=`${t}-start`;return this._getEventTimingByName(r)}stop(e,t){if(this._validateStopEvent(e),!this._performance.isAvailable())return;let r=this._getApdexFields(e),n=this._getVisibilityFields(e);this._sendEvent({...e,...r,...n},t)}onVisibilityChange(e){e||(this._wasPreviouslyHidden=!0,Array.from(this._isActiveEvents.keys()).forEach(e=>this._isActiveEvents.set(e,!1)))}}}),o("2xy0c",function(t,r){e(t.exports,"default",()=>n);class n{constructor(){this._bindEventListeners=()=>{document.addEventListener(this._visibilityChange,this._handleVisibilityChange,!1)},this._handleVisibilityChange=()=>{let e=document[this._hidden];this._isHidden=e,this._callbacks.forEach(t=>t(e))},this._isHidden=!1,this._callbacks=new Map,this._hidden=void 0,this._visibilityChange=void 0,"undefined"!=typeof document&&(void 0!==document.hidden?(this._isHidden=document.hidden,this._hidden="hidden",this._visibilityChange="visibilitychange"):void 0!==document.msHidden?(this._isHidden=document.msHidden,this._hidden="msHidden",this._visibilityChange="msvisibilitychange"):void 0!==document.webkitHidden&&(this._isHidden=document.webkitHidden,this._hidden="webkitHidden",this._visibilityChange="webkitvisibilitychange"),void 0!==document.addEventListener&&void 0!==this._hidden&&this._bindEventListeners())}addCallback(e,t){if("string"!=typeof e)throw Error("Invalid name, must be string");if("function"!=typeof t)throw Error("Invalid callback, must be function");this._callbacks.set(e,t)}removeCallback(e){this._callbacks.has(e)&&this._callbacks.delete(e)}getIsHidden(){return this._isHidden}}}),o("acAer",function(t,r){e(t.exports,"default",()=>n);class n{constructor(){this._performance=window.performance}clearMarks(...e){this._performance&&this._performance.clearMarks&&this._performance.clearMarks(...e)}mark(...e){this._performance&&this._performance.mark&&this._performance.mark(...e)}getEntriesByName(...e){return this._performance&&this._performance.getEntriesByName?this._performance.getEntriesByName(...e):[]}getTimeOrigin(){return this._performance&&(this._performance.timeOrigin||this._performance.timing)?this._performance.timeOrigin||this._performance.timing.navigationStart:0}now(){return this._performance&&this._performance.now?this._performance.now():Date.now?Date.now():+new Date}isAvailable(){return!!this._performance&&!!this._performance.clearMarks&&!!this._performance.mark&&!!this._performance.getEntriesByName&&!!this._performance.timing}}}),o("kljjv",function(t,r){e(t.exports,"default",()=>i);let n=e=>"function"==typeof e;var i=(e,t)=>()=>{if(n(e))try{return e()}catch(e){console.error(`${t} - ${e instanceof Error?e.message:String(e)}`);return}return e}}),o("3mN0k",function(t,r){e(t.exports,"isFirstParty",()=>n),e(t.exports,"isThirdParty",()=>i);let n=e=>e.embeddedType===a("iZhen").productEmbedType.FIRST_PARTY&&void 0!==e.embeddedFromProduct,i=e=>e.embeddedType===a("iZhen").productEmbedType.THIRD_PARTY&&void 0!==e.embeddedFromTopLevelDomain}),o("fNiuW",function(t,r){var n;function i(e){return{tenantIdType:e.tenantIdType,tenantId:e.tenantId}}function s(e){return{userIdType:e.userIdType}}function o(e){return{orgId:e.orgId}}function l(e){return{workspaceId:e.workspaceId}}function c(e){if(f(e))return{aliases:e}}function u(e){if(f(e))return{groups:e}}function d(e){return e.anonymousId?{anonymousId:e.anonymousId}:{}}function h(e,t){return void 0===t?e:t}function p(e,t){let r=t||{},n=h(e.env,r.env),i=h(e.product,r.product),s=h(e.subproduct(),r.subproduct),a=h(e.version,r.version);return{env:n,product:i,subproduct:s,version:a,origin:h(e.origin,r.origin),platform:h(e.platform,r.platform)}}function f(e){return(0,a("eB7xz").isPlainObject)(e)&&Object.keys(e).length>0}function g(e,t){return f(t)?{[e]:t}:void 0}function m(e){if(f(e))return g("containers",function(e){let t={};return Object.keys(e).forEach(r=>{let n=e[r];t[r]={id:n.id,type:n.type}}),t}(e))}function v(e,t){return{containerType:e.containerType,containerId:e.containerId,source:e.source,objectType:e.objectType,objectId:e.objectId,actionSubject:e.actionSubject,action:e.action,actionSubjectId:e.actionSubjectId,attributes:e.attributes,nonPrivacySafeAttributes:e.nonPrivacySafeAttributes,tags:e.tags,highPriority:e.highPriority,eventType:t,...m(e.containers)}}function y(e,t,r,n,h,f,v,y,E,b,_,I,w,x,S,T){let C=p(e),O=i(t),A=s(r),k=o(b),R=l(I),D={title:"",path:"",url:"",referrer:"",search:"",eventType:a("iZhen").eventType.SCREEN};return{...C,...O,...A,...k,...D,...g("attributes",n),...g("nonPrivacySafeAttributes",h),...m(x),...d(w),tags:f,tabId:v,sessionId:y,taskSessions:E,pageLoadId:_,...R,...c(S),...u(T)}}function E(e){return`${e.actionSubject} ${e.action}`}function b(e){let t=window.screen||{};return{context:{locale:e.locale,screen:{width:t.width,height:t.height,density:window.devicePixelRatio},library:{name:"analytics.js",version:"0.0.0-use.local"},validationMode:function(e){let t=e.env;return void 0===t||t.includes("prod")?"quiet":"complete"}(e)}}}function _(e,t,r,n,a,h,f,g,m,y,E,b,_){let I=p(e,function(e){let{env:t,product:r,subproduct:n,version:i,origin:s,platform:a}=e;return{env:t,product:r,subproduct:n,version:i,origin:s,platform:a}}(n)),w=i(t),x=o(m),S=l(E),T=s(r),C=v(n,a);return{...I,...w,...x,...T,...C,...d(n),tabId:h,sessionId:f,taskSessions:g,pageLoadId:y,...S,...c(b),...u(_)}}e(t.exports,"buildActionFields",()=>v),e(t.exports,"buildScreenEvent",()=>y),e(t.exports,"buildActionName",()=>E),e(t.exports,"buildContext",()=>b),e(t.exports,"buildActionEvent",()=>_),(n={}).QUIET="quiet",n.STANDARD="standard",n.COMPLETE="complete"}),o("76MW0",function(t,r){e(t.exports,"default",()=>n);class n{constructor(e,t){this.push=(e,t,r,n)=>{this.delayQueue.push(e,t,r,n)},this.startLowPriorityEventDelay=(e=u,t)=>{if(Number.isNaN(e)||e<=0)throw Error(`Invalid timeout period: ${e}, must be a number greater than 0`);this.delayTimeout&&clearTimeout(this.delayTimeout);let r=e?Math.min(e,d):d;this.delayCallback=t,this.delayTimeout=setTimeout(()=>this.stopLowPriorityEventDelay(a("fqOJ4").StopLowPriorityEventDelayReason.TIMEOUT),r),this.delayQueue.cancelFlush(),this.isDelaying=!0},this.stopLowPriorityEventDelay=(e=a("fqOJ4").StopLowPriorityEventDelayReason.MANUAL)=>{this.delayTimeout&&(clearTimeout(this.delayTimeout),this.delayTimeout=void 0),this.delayQueue.startFlush(),this.isDelaying=!1,this.delayCallback?.(e),this.delayCallback=void 0},this.isDelayingLowPriorityEvents=()=>this.isDelaying,this.isDelaying=!1,this.delayQueue=new(0,a("rwsom").default)(e,t)}}});const u=1e4,d=3e4;o("rwsom",function(t,r){e(t.exports,"default",()=>n);class n{constructor(e,t){this.push=(e,t,r,n)=>{this.eventArgs.push({identifier:e,builtEvent:t,context:r,userInfo:n})},this.size=()=>this.eventArgs.length,this.startFlush=()=>{try{this.eventArgs=this.compressEventArgs(this.eventArgs)}catch(e){console.warn(`Failed to perform compression on the delayed analytics events. Error: ${e.message}. Sending ${this.eventArgs.length} uncompressed events instead`)}this.flushNextBatch()},this.cancelFlush=()=>{this.flushBatchTimeout&&(clearTimeout(this.flushBatchTimeout),this.flushBatchTimeout=null)},this.flushNextBatch=()=>{this.eventArgs.splice(0,7).forEach(e=>this.processFn(e.identifier,e.builtEvent,e.context,e.userInfo)),this.eventArgs.length>0?this.flushBatchTimeout=setTimeout(()=>this.flushNextBatch(),100):this.flushBatchTimeout=null},this.compressEventArgs=e=>{let[t,r]=(0,a("gYqa8").partition)(e,e=>this.compressor.canCompress(e.builtEvent)),n=t.reduce((e,t)=>{let r=e.find(e=>(0,a("gYqa8").equals)(e.userInfo,t.userInfo)&&(0,a("gYqa8").equals)(e.context,t.context));return r?r.eventArgs.push(t):e.push({userInfo:t.userInfo,context:t.context,eventArgs:[t]}),e},[]).reduce((e,t)=>{try{let r=t.eventArgs.map(e=>e.builtEvent),n=this.compressor.compress(r).map(e=>({identifier:(0,a("fNiuW").buildActionName)(e),builtEvent:e,userInfo:t.userInfo,context:t.context}));return e.concat(n)}catch(e){return console.warn(`Failed to compress some analytics events. Error: ${e.message}. Sending ${t.eventArgs.length} uncompressed events instead`),t.eventArgs}},[]);return r.forEach(e=>n.push(e)),n},this.processFn=e,this.flushBatchTimeout=null,this.eventArgs=[],this.compressor=new(0,a("59vML").default)(t)}}}),o("59vML",function(t,r){e(t.exports,"default",()=>n);class n{constructor(e=[]){if(this.canCompress=e=>this.compressionRules.some(t=>t.canCompress(e)),this.compress=e=>this.createGroups(e).reduce((e,t)=>{let r=this.compressGroup(t);return e.concat(r)},[]),this.createGroups=e=>e.reduce((e,t)=>{let r,n=this.compressionRules.find(e=>e.canCompress(t));if(n){let e=(0,a("fNiuW").buildActionFields)(t,t.eventType);r=(0,a("gYqa8").omit)(t,Object.keys(e))}let i=e.find(e=>n===e.compressor&&(0,a("gYqa8").equals)(r,e.contextFields));return i?i.events.push(t):e.push({contextFields:r,compressor:n,events:[t]}),e},[]),this.compressGroup=e=>{if(!e.compressor)return e.events;try{return e.compressor.compress(e.events).map(t=>({...t,...e.contextFields}))}catch(t){return e.events}},!Array.isArray(e))throw Error("Event compressors must be constructed with an array of CompressionRules");if(!e.every(e=>e instanceof a("fYgl8").CompressionRule))throw Error("Event compressors can only be constructed with instances of CompressionRule");this.compressionRules=e}}}),o("fqOJ4",function(t,r){e(t.exports,"StopLowPriorityEventDelayReason",()=>i);var n,i=((n={}).TIMEOUT="timeout",n.MANUAL="manual",n)}),o("fHcqB",function(r,n){e(r.exports,"default",()=>u);var i=a("bXrHm");class s{constructor(e,t,r,n,i){this.success=e,this.validationErrors=t,this.message=r,this.code=n,this.validationReports=i}isSuccess(){return this.success}getValidationErrors(){return this.validationErrors}getMessage(){return this.message}getCode(){return this.code}getValidationReports(){return void 0===this.validationReports?null:this.validationReports}}class o{constructor(e){this.error=e}}class l{constructor(e,t,r,n){this.success=e,this.statusCode=t,this.message=r,this.eventResponseList=n}isSuccess(){return this.success}getStatusCode(){return this.statusCode}getMessage(){return this.message}getEventResponseList(){return this.eventResponseList}}class c{constructor(e,t,r){this.messageId=e,this.results=t,this.segmentEvent=r}getMessageId(){return this.messageId}getResults(){return this.results}getSegmentEvent(){return this.segmentEvent}}class u{constructor(e){this.sendEvents=async(e,t)=>{if(!1===this.options.enableEventCalls)return;let r=this.resilienceQueue.getGlobalRetryCount(),n=this.metrics.getMetricsPayload(),i=await this.attachXIDs(e),s=new Date().toISOString(),o=await this.metadataClient.getMetadataAsync(),[l,c]=this.getEventUrl(o),u={...n,httpRetryCount:r,lastSendEventsErrorReason:this.lastSendEventsError?.message||null,lastSendEventsError:this.lastSendEventsError,lastUrlFallbackError:this.lastUrlFallbackError,isUsingFallbackUrl:c,props:o?.props||null,metadataClientMetrics:this.metadataClient?.metrics||null};this.cleanLibraryMetadata(u);let d=i.map(e=>(e.msg.sentAt=s,e.msg));try{let r=await (0,a("cdwq4").sendEvents)({url:l,batch:{batch:d,sentAt:s,metadata:u},timeout:this.options.requestTimeout});this.lastSendEventsError=null,this.lastUrlFallbackError=null,this.metrics.subtractFromMetrics(n),t(null,r),await this.invokeLocalResponseCallbackAsync(e,r,null)}catch(r){if(r instanceof a("gjgR4").FetchError&&[429,503].includes(r.statusCode))this.lastSendEventsError=new(0,a("gjgR4").LastError)("ServerBusyError",r);else{let e=r instanceof Error&&a("gjgR4").ALLOW_LISTED_FETCH_ERROR_NAMES.includes(r.name)?r.name:"Unknown";this.lastSendEventsError=new(0,a("gjgR4").LastError)(e,r),this.useUrlFromMetadata=!1;let[t,n]=this.getEventUrl(o);n&&n!==c&&(this.lastUrlFallbackError=this.lastSendEventsError)}t(r,null),await this.invokeLocalResponseCallbackAsync(e,null,r)}},this.options={...e,requestTimeout:e.requestTimeout||a("57AWV").DEFAULT_REQUEST_TIMEOUT,retryQueueOptions:e.retryQueueOptions||{},logger:e.logger||console,disableCookiePersistence:e.disableCookiePersistence||!1,env:e.env,perimeter:e.perimeter||"",enableMetadataCalls:"boolean"!=typeof e.enableMetadataCalls||e.enableMetadataCalls,enableEventCalls:"boolean"!=typeof e.enableEventCalls||e.enableEventCalls},this.user=new(0,a("9Mu5e").default)(this.options?.disableCookiePersistence),this.xidPromiseCallback=e.xidPromiseGetter(),this.gasv3BatchUrl=`${e.apiHostProtocol}://${e.apiHost}/batch`,this.metrics=(0,a("6xafg").default)(),this.responseCallback=e.responseCallback,this.resilienceQueue=(0,a("hFrZh").default)(e.retryQueuePrefix,e.product,this.options.retryQueueOptions,this.options.logger),this.metadataClient=e.metadataClient,this.useUrlFromMetadata=!0,this.lastSendEventsError=null,this.lastUrlFallbackError=null,setInterval(()=>{this.useUrlFromMetadata=!0},6e5),this.resilienceQueue.start(this.sendEvents)}getUser(){return this.user}async track(e,t,r,n){let i={...{...this.buildBaseEvent(r,a("gjgR4").SegmentEventTypes.TRACK,t),type:a("gjgR4").SegmentEventTypes.TRACK,properties:(0,a("1T3jD").prepareEventProperties)(t),event:e},messageId:this.createMessageId()},s=this.packageEvent(i);await this.enqueueEvent(s),n&&n()}async page(e,t,r,n){let i={...{...this.buildBaseEvent(r,a("gjgR4").SegmentEventTypes.PAGE,t),type:a("gjgR4").SegmentEventTypes.PAGE,properties:(0,a("1T3jD").prepareEventProperties)(t),name:e},messageId:this.createMessageId()},s=this.packageEvent(i);await this.enqueueEvent(s),n&&n()}async identify(e,t,r,n){let i={...{...this.buildBaseEvent(r,a("gjgR4").SegmentEventTypes.IDENTIFY,t),type:a("gjgR4").SegmentEventTypes.IDENTIFY,traits:(0,a("1T3jD").prepareEventProperties)(t)},messageId:this.createMessageId()},s=this.packageEvent(i);await this.enqueueEvent(s),n&&n()}async enqueueEvent(e){this.options.enableMetadataCalls&&this.metadataClient.start(!1),await this.resilienceQueue.addItem(e)}buildBaseEvent(e,t,r){let n=(0,a("1T3jD").prepareEventProperties)(e);return{context:(0,a("1T3jD").buildContext)(n),timestamp:new Date().toISOString(),type:t,userId:this.user.getUserId(),anonymousId:r.anonymousId||this.user.getAnonymousId()}}createMessageId(){return`ajs-${t(i)()}`}packageEvent(e){let{apiHost:t,apiHostProtocol:r}=this.options;return{headers:{"Content-Type":"text/plain"},msg:e,url:`${r}://${t}/${e.type.charAt(0)}`}}getEventUrl(e){let t=e?.url?e.url:this.gasv3BatchUrl,r=this.useUrlFromMetadata?t:this.gasv3BatchUrl,n=t===this.gasv3BatchUrl?null:r!==t;return[r,n]}cleanLibraryMetadata(e){if(null!==e&&"object"==typeof e)for(let t in e){let r=e[t];null==r||"number"==typeof r&&0===r?delete e[t]:Array.isArray(r)?0===r.length?delete e[t]:r.forEach(e=>{this.cleanLibraryMetadata(e)}):"object"==typeof r&&this.cleanLibraryMetadata(e[t])}}async invokeLocalResponseCallbackAsync(e,t,r){let n=this.responseCallback;if(n){let i=null;if(t){let e;try{e=await t.clone().json()}catch(e){}(e=e||{}).code=Number.parseInt(e.code)>0?Number.parseInt(e.code):t.status,e.success=e.success||e.code>=200&&e.code<=299,i=new s(e.success,e.validationErrors||new Map,new o(e.message?.error||""),e.code,e.validationReports||null)}!r||r instanceof Error||(r=Error(String(r))),n(d.toAnalyticsResponse(e||[],r||null,i))}}async attachXIDs(e){return this.xidPromiseCallback?(0,a("kM7SS").attachXidToMultipleEvents)(e,this.xidPromiseCallback):Promise.resolve(e)}setResponseCallback(e){this.responseCallback=e}refreshMetadata(e,t){this.metadataClient.userInfo=e,this.metadataClient.tenantInfo=t}}class d{static{this.http_error_regex=/HTTP Error\s([0-9]{3})\s\((.+)\)/}static toAnalyticsResponse(e,t,r){let n=[];if(null!==r){let[t,i]=[r.code,r.success];if(t>=200&&t<=299)return r.validationReports?.forEach(t=>{let r=e.find(e=>e.msg.messageId===t.messageId);r&&n.push(new c(r.msg.messageId,t.results,r.msg))}),new l(i,t,a("kG09p").HTTP_STATUS_CODE_MAP.get(t),n);if(t>=400&&t<=499){let s=r.message?.error!==null?r.message.error:a("kG09p").HTTP_STATUS_CODE_MAP.has(t)?a("kG09p").HTTP_STATUS_CODE_MAP.get(t):a("kG09p").HTTP_STATUS_CODE_MAP.get(-1);return e.forEach(e=>{n.push(new c(e.msg.messageId,[],e.msg))}),new l(i,t,s,n)}}else if(t?.message){let r=t.message.match(d.http_error_regex);if(r)return e.forEach(e=>{n.push(new c(e.msg.messageId,[],e.msg))}),new l(!1,Number(r[1]),r[2],n)}return e.forEach(e=>{n.push(new c(e.msg.messageId,[],e.msg))}),new l(!1,-1,a("kG09p").HTTP_STATUS_CODE_MAP.get(-1),n)}}}),o("hFrZh",function(t,r){e(t.exports,"default",()=>n);var n=(e,t,r,n)=>new(0,a("jChFm").default)(e,t,r||{},n)}),o("jChFm",function(t,r){e(t.exports,"DEFAULT_POLLING_OPTIONS",()=>i),e(t.exports,"default",()=>s);let n={backoffFactor:0,backoffJitterPercentage:0,flushWaitMs:6e4,minRetryDelay:6e4,maxRetryDelay:6e4},i={backoffFactor:2,backoffJitterPercentage:.2,batchFlushSize:7,flushBeforeUnload:!1,flushWaitMs:500,maxAttempts:10,maxItems:1e3,maxRetryDelay:3e4,minRetryDelay:1e3};class s{constructor(e,t,r,i){this.queuePrefix=e,this.resilience=new(0,a("42k5W").default)(t,{logger:i,maxAttempts:r?.maxAttempts,maxEventLimit:r?.maxItems}),this.options=this.buildOptions(r),this.scheduler=new(0,a("38r8F").default)({...this.options,waitInterval:r?.flushBeforeUnload?0:this.options.flushWaitMs},this.scheduleCallback.bind(this)),this.longPollingScheduler=new(0,a("38r8F").default)({...n,waitInterval:n.flushWaitMs},this.scheduleLongCallBack.bind(this)),this.metricsCollector=(0,a("6xafg").default)(),this.networkStatus=new(0,a("1LZzU").default)(e=>{e===a("ePz85").NetworkStatusEnum.OFFLINE?this.scheduler.stop():this.checkEventCountAndReschedule()})}start(e){this.batchFlushCallback=e,this.longPollingScheduler.schedule()}stop(){this.scheduler.stop(),this.longPollingScheduler.stop()}async addItem(e){let t=JSON.parse(JSON.stringify(e)),{numberOfEvictedItems:r}=await this.resilience.addItem(t,{},a("2A2TO").GuardPolicy.EVICT);this.scheduler.schedule(),this.metricsCollector.addToEventCount(),r>0&&this.metricsCollector.addToItemsDiscardedByOverflowCounter(r)}getGlobalRetryCount(){return this.scheduler.getFailureCount()}async scheduleCallback(e){if(this.networkStatus.getNetworkStatus()===a("ePz85").NetworkStatusEnum.OFFLINE)return void e(a("aRK7K").DoneState.NOOP);try{let t=await this.resilience.processItems(this.flush.bind(this),this.options.batchFlushSize);e(t)}catch(t){if(t.name===a("fKoyL").CallbackProcessingErrorName)return void e(a("aRK7K").DoneState.ERROR)}finally{await this.checkEventCountAndReschedule()}}async checkEventCountAndReschedule(){let e=await this.resilience.getItemCount();e>0&&this.scheduler.schedule({immediate:e>=this.options.batchFlushSize})}async scheduleLongCallBack(e){let t=(0,a("k3k8u").default)(this.queuePrefix);this.metricsCollector.addToPurgedQueuesMetrics(t);let r=await (0,a("dviIT").default)(this.queuePrefix,async e=>{let t=e.map(e=>({item:e.item,retryAttempts:e.attemptNumber,id:e.id})),{items:r}=await this.resilience.bulkAddItem(t,a("2A2TO").GuardPolicy.IGNORE);return r.length===t.length?{status:"successful"}:{status:"partial",acceptedItemIds:r.map(e=>e.id)}});this.metricsCollector.addToReclaimMetrics(r),await this.checkEventCountAndReschedule(),e(a("aRK7K").DoneState.SUCCESS),this.longPollingScheduler.schedule()}flush(e,t){this.metricsCollector.setResilienceMechanism(this.resilience.storeType());let{batchFlushCallback:r}=this;if(!r)throw Error("batchFlushCallback has not been set. Call PullBatchableQueue#start first.");return new Promise((n,i)=>{if(e.length<=0)return void n(a("aRK7K").DoneState.NOOP);r(e.map(e=>{let t=e.item;return e.retryAttempts>0&&t.msg&&(t.msg._metadata||(t.msg._metadata={}),t.msg._metadata.failedAttempts=e.retryAttempts),t}),e=>{e?(t.numberOfDeletedItems>0&&this.metricsCollector.addToItemsDiscardedByRetryCounter(t.numberOfDeletedItems),i(e)):n(a("aRK7K").DoneState.SUCCESS)})})}buildOptions(e){return{backoffFactor:e?.backoffFactor||i.backoffFactor,backoffJitterPercentage:e?.backoffJitterPercentage!==void 0?e.backoffJitterPercentage:i.backoffJitterPercentage,batchFlushSize:e?.batchFlushSize||i.batchFlushSize,flushBeforeUnload:e?.flushBeforeUnload||i.flushBeforeUnload,flushWaitMs:e?.flushWaitMs||i.flushWaitMs,maxItems:e?.maxItems||i.maxItems,maxAttempts:e?.maxAttempts||i.maxAttempts,maxRetryDelay:e?.maxRetryDelay||i.maxRetryDelay,minRetryDelay:e?.minRetryDelay||i.minRetryDelay}}}}),o("k3k8u",function(t,r){e(t.exports,"default",()=>i);let n=Object.values(a("i1Orc").LocalStorageKeySuffix);var i=e=>{if("string"!=typeof e||0===e.length)return 0;try{let t=Object.keys(localStorage).filter(t=>t&&t.startsWith(`${e}.`)||!1).map(e=>e.split(".")).filter(e=>3===e.length&&n.includes(e[2])).reduce((e,t)=>{let[,r,n]=t;return void 0===e[r]&&(e[r]={}),e[r][n]=!0,e},{}),r=Object.keys(t).filter(e=>!0!==t[e][a("i1Orc").LocalStorageKeySuffix.ACK]);return r.forEach(t=>{let{queue:r,inProgress:n,reclaimStart:i,reclaimEnd:s}=(0,a("eswaT").createLocalStorageKeys)(e,t);localStorage.removeItem(n),localStorage.removeItem(r),localStorage.removeItem(i),localStorage.removeItem(s)}),r.length}catch(e){}return 0}}),o("i1Orc",function(t,r){e(t.exports,"LocalStorageKeySuffix",()=>s),e(t.exports,"Timers",()=>a);var n,i,s=((n={}).IN_PROGRESS="inProgress",n.QUEUE="queue",n.RECLAIM_START="reclaimStart",n.RECLAIM_END="reclaimEnd",n.ACK="ack",n),a=((i={})[i.RECLAIM_TIMEOUT=1e4]="RECLAIM_TIMEOUT",i[i.RECLAIM_WAIT=500]="RECLAIM_WAIT",i[i.RECLAIM_WAIT_THRESHOLD=2e3]="RECLAIM_WAIT_THRESHOLD",i)}),o("eswaT",function(t,r){e(t.exports,"createLocalStorageKeys",()=>n);let n=(e,t)=>({[a("i1Orc").LocalStorageKeySuffix.ACK]:`${e}.${t}.${a("i1Orc").LocalStorageKeySuffix.ACK}`,[a("i1Orc").LocalStorageKeySuffix.QUEUE]:`${e}.${t}.${a("i1Orc").LocalStorageKeySuffix.QUEUE}`,[a("i1Orc").LocalStorageKeySuffix.IN_PROGRESS]:`${e}.${t}.${a("i1Orc").LocalStorageKeySuffix.IN_PROGRESS}`,[a("i1Orc").LocalStorageKeySuffix.RECLAIM_START]:`${e}.${t}.${a("i1Orc").LocalStorageKeySuffix.RECLAIM_START}`,[a("i1Orc").LocalStorageKeySuffix.RECLAIM_END]:`${e}.${t}.${a("i1Orc").LocalStorageKeySuffix.RECLAIM_END}`})}),o("dviIT",function(r,n){e(r.exports,"default",()=>d);var i=a("bXrHm");let s=e=>new Promise(t=>{setTimeout(t,e)}),o=e=>{try{return Object.keys(localStorage).filter(t=>t.startsWith(e)).map(e=>e.split(".")).filter(t=>{if(3===t.length&&t[0]===e&&t[2]===a("i1Orc").LocalStorageKeySuffix.ACK)try{let e=localStorage.getItem(t.join("."));if(e){let t=parseInt(e);return a("i1Orc").Timers.RECLAIM_TIMEOUT+t<Date.now()}}catch(e){}return!1}).map(e=>e[1])}catch(e){}return[]},l=async(e,t)=>{let{ack:r,reclaimStart:n,reclaimEnd:i}=e.storageKeys,o=Date.now();if(localStorage.setItem(n,e.reclaimProcessId),localStorage.setItem(r,o.toString()),await s(a("i1Orc").Timers.RECLAIM_WAIT),Date.now()>o+a("i1Orc").Timers.RECLAIM_WAIT_THRESHOLD||localStorage.getItem(n)!==e.reclaimProcessId)throw Error("Took to long to callback, reclaim abandonded. After reclaimStart.");if(localStorage.setItem(i,e.reclaimProcessId),await s(a("i1Orc").Timers.RECLAIM_WAIT),Date.now()>o+a("i1Orc").Timers.RECLAIM_WAIT_THRESHOLD||localStorage.getItem(n)!==e.reclaimProcessId||localStorage.getItem(i)!==e.reclaimProcessId)throw Error("Took to long to callback, reclaim abandonded. After reclaimEnd.");return c(e,t)},c=async(e,t)=>{let{queue:r,inProgress:n}=e.storageKeys,i=[...JSON.parse(localStorage.getItem(r)||"[]"),...Object.entries(JSON.parse(localStorage.getItem(n)||"{}")).map(([e,t])=>({...t,attemptNumber:t.attemptNumber+1,id:e}))];if(i.length>0){let s=await t(i);if("successful"===s.status)u(e.storageKeys);else if("partial"===s.status){let e=i.filter(e=>!s.acceptedItemIds.includes(e.id));return localStorage.removeItem(n),localStorage.setItem(r,JSON.stringify(e)),{fullReclaim:!1}}}else u(e.storageKeys);return{fullReclaim:!0}},u=e=>{localStorage.removeItem(e.queue),localStorage.removeItem(e.inProgress),localStorage.removeItem(e.reclaimEnd),localStorage.removeItem(e.reclaimStart),localStorage.removeItem(e.ack)};var d=async(e,r)=>{if("string"!=typeof e||0===e.length)return{fullReclaims:0,partialReclaims:0,failedReclaims:0};let n=t(i)(),s=o(e).map(t=>l({queuePrefix:e,reclaimProcessId:n,storageKeys:(0,a("eswaT").createLocalStorageKeys)(e,t)},r)),c=await Promise.allSettled(s),u=c.filter(e=>"rejected"===e.status),d=c.filter(e=>"fulfilled"===e.status).map(e=>e.value),h=d.filter(e=>e.fullReclaim),p=d.filter(e=>!e.fullReclaim);return{failedReclaims:u.length,partialReclaims:p.length,fullReclaims:h.length}}}),o("fKoyL",function(t,r){e(t.exports,"CallbackProcessingErrorName",()=>n),e(t.exports,"default",()=>i);let n="CallbackProcessingError";class i extends Error{constructor(e){let t=e&&"object"==typeof e&&"toString"in e&&"function"==typeof e.toString&&e.toString();super(`Error thrown while processing events in callback: ${t||"string"==typeof e&&e||"Argument passed to CallbackProcessingError was not an Error or string."}`),Object.setPrototypeOf(this,i.prototype),this.name=n}}}),o("42k5W",function(t,r){e(t.exports,"default",()=>n);var n=a("hEfNx").default}),o("hEfNx",function(t,r){e(t.exports,"default",()=>n);class n{constructor(e,t={}){if(this.namespace=e,this.options=(0,a("iYeWv").createOptionsWithDefaults)(t),!e||0===e.length||"string"!=typeof e)throw Error("Invalid namespace provided");this.resilience=this.getResilienceMechanism(e,t)}getResilienceMechanism(e,t){if(!t.useMemory)try{return new(0,a("3q6DL").default)(e,t)}catch(e){e instanceof a("5tWx3").default||t.logger?.warn("Attempted to create IndexedDbResilience but failed. Using memory instead.")}return new(0,a("lGyYf").default)(this.namespace,t)}addItem(e,t,r=a("2A2TO").GuardPolicy.ABANDON){return this.runOrFailOver(()=>this.resilience.addItem(e,t,r))}bulkAddItem(e,t=a("2A2TO").GuardPolicy.ABANDON){return this.runOrFailOver(()=>this.resilience.bulkAddItem(e,t))}getItems(e){return this.runOrFailOver(()=>this.resilience.getItems(e))}deleteItems(e){return this.runOrFailOver(()=>this.resilience.deleteItems(e))}getItemCount(){return this.runOrFailOver(()=>this.resilience.getItemCount())}processItems(e,t){return this.runOrFailOver(()=>this.resilience.processItems(e,t))}storeType(){return this.resilience.storeType()}async runOrFailOver(e){try{return await e()}catch(t){if((0,a("2oiOa").shouldIgnoreResilienceDbError)(t))throw t;return this.resilience.storeType()===a("2A2TO").StoreType.INDEXEDDB&&await this.failOver(),e()}}async failOver(){let e=this.resilience,t=new(0,a("lGyYf").default)(this.namespace,this.options);this.resilience=t;try{let{items:r}=await e.getItems(this.options.maxEventLimit);if(r.length>0){let n=(await t.bulkAddItemWrapperType(r,a("2A2TO").GuardPolicy.IGNORE)).items.map(e=>e.id);await e.deleteItems(n)}}catch(e){this.options.logger.warn("Unexpected error from ResilienceDb, switching to MemoryDb")}}}}),o("2A2TO",function(t,r){e(t.exports,"NAMESPACE_AND_TIME_ADDED_INDEX",()=>n),e(t.exports,"RESILIENCE_DB_NAME",()=>i),e(t.exports,"RESILIENCE_STORE_NAME",()=>s),e(t.exports,"TIME_TO_PROCESS_AFTER_INDEX",()=>a),e(t.exports,"TIME_ADDED_INDEX",()=>o),e(t.exports,"RETRY_INDEX",()=>l),e(t.exports,"INDEXEDDB_TIMEOUT",()=>c),e(t.exports,"StoreType",()=>h),e(t.exports,"GuardPolicy",()=>p);let n="namespace-timeAdded",i="analytics-web-client",s="analytics-resilience",a="timeToBeProcessedAfter",o="timeAdded",l="retryAttempts",c=15e3;var u,d,h=((u={}).INDEXEDDB="indexeddb",u.MEMORY="memory",u),p=((d={}).IGNORE="ignore",d.ABANDON="abandon",d.EVICT="evict",d)}),o("5tWx3",function(t,r){e(t.exports,"default",()=>n);class n extends Error{constructor(){super("window.indexeddb is undefined."),Object.setPrototypeOf(this,n.prototype),this.name="NoIndexedDbError"}}}),o("2oiOa",function(t,r){e(t.exports,"shouldIgnoreResilienceDbError",()=>n);let n=e=>!!e&&"object"==typeof e&&"name"in e&&"string"==typeof e.name&&(e.name===a("3pkX4").AbandonWriteErrorName||e.name===a("fKoyL").CallbackProcessingErrorName||e.name===a("3HwLa").InvalidPolicyErrorName)}),o("3pkX4",function(t,r){e(t.exports,"AbandonWriteErrorName",()=>n),e(t.exports,"default",()=>i);let n="AbandonWriteError";class i extends Error{constructor(e){super(`Event Limit reached. Abandoning write to: ${e}`),Object.setPrototypeOf(this,i.prototype),this.name=n}}}),o("3HwLa",function(t,r){e(t.exports,"InvalidPolicyErrorName",()=>n),e(t.exports,"default",()=>i);let n="InvalidPolicyError";class i extends Error{constructor(e,t){super(`Method '${t}' cannot be called with policy '${e}'.`),this.name=n}}}),o("3q6DL",function(t,r){e(t.exports,"default",()=>n);class n{constructor(e,t={}){if(this.startDB=async()=>new Promise(async(e,t)=>{if("undefined"!=typeof window){let r=window.setTimeout(()=>{this.logger.warn("IndexedDB timed out."),t(new(0,a("5tWx3").default))},a("2A2TO").INDEXEDDB_TIMEOUT),n=window.indexedDB.open(a("2A2TO").RESILIENCE_DB_NAME,1);n.onupgradeneeded=e=>{if(0!==e.oldVersion)throw Error("We cannot upgrade the database. Do not do this.");let t=n.result.createObjectStore(a("2A2TO").RESILIENCE_STORE_NAME,{keyPath:"id"});t.createIndex(a("2A2TO").TIME_TO_PROCESS_AFTER_INDEX,a("2A2TO").TIME_TO_PROCESS_AFTER_INDEX,{unique:!1}),t.createIndex(a("2A2TO").RETRY_INDEX,a("2A2TO").RETRY_INDEX,{unique:!1}),t.createIndex(a("2A2TO").TIME_ADDED_INDEX,a("2A2TO").TIME_ADDED_INDEX,{unique:!1}),t.createIndex(a("2A2TO").NAMESPACE_AND_TIME_ADDED_INDEX,["namespace","timeAdded"],{unique:!1})},n.onerror=function(){t(new(0,a("5tWx3").default))};try{return await (0,a("iYeWv").requestToPromise)(n),e(n.result)}catch(e){this.logger.warn("IndexedDB failed to initialise.",e),t(new(0,a("5tWx3").default))}finally{window.clearTimeout(r)}}else this.logger.warn("IndexedDB failed to initialise. No 'window' object."),t(new(0,a("5tWx3").default))}),this.addItem=async(e,t={},r=a("2A2TO").GuardPolicy.ABANDON)=>{let{logger:n,namespace:i}=this,s=(0,a("iYeWv").convertToItemWrapper)(e,i,t),{objectStore:o}=await this.getObjectStoreAndTransaction("readwrite");if(r===a("2A2TO").GuardPolicy.IGNORE)throw new(0,a("3HwLa").default)(r,"IndexedDbConnector#addItem");try{if(!s.namespace||0===s.namespace.length||"string"!=typeof s.namespace)throw Error("Namespace not specified");let e=await this.globalEventLimitGuard.insertItems(o,[s],r);if(1===e.items.length)return{item:e.items[0],numberOfEvictedItems:e.numberOfEvictedItems};throw Error(`Incorrect number of items added. Expected: 1, got: ${e.items.length}`)}catch(e){if((0,a("2oiOa").shouldIgnoreResilienceDbError)(e))throw e;throw n.log("Failed to add item to table",e),Error("Request to add item to table failed")}},this.bulkAddItem=async(e,t=a("2A2TO").GuardPolicy.ABANDON)=>{let{logger:r,namespace:n}=this,i=e.map(({item:e,...t})=>(0,a("iYeWv").convertToItemWrapper)(e,n,t)),{objectStore:s}=await this.getObjectStoreAndTransaction("readwrite");try{return await this.globalEventLimitGuard.insertItems(s,i,t)}catch(e){if((0,a("2oiOa").shouldIgnoreResilienceDbError)(e))throw e;throw r.log("Failed to add item to table",e),Error("Request to add item to table failed")}},this.getItems=async(e=a("aUIZi").GET_ITEM_COUNT)=>{let t=e>0?e:a("aUIZi").GET_ITEM_COUNT,{logger:r}=this,n=this.options.maxAttempts,{transaction:i,objectStore:s}=await this.getObjectStoreAndTransaction("readwrite"),o=s.index(a("2A2TO").TIME_TO_PROCESS_AFTER_INDEX),l=IDBKeyRange.upperBound(Date.now()),c=o.openCursor(l),u=await new Promise(async(e,i)=>{let s=[],o=0;c.onerror=e=>{r.error("Failed to open cursor:",e),i("Failed to open cursor")},c.onsuccess=i=>{let l=i.target.result;if(l){let i={...l.value};s.push(i);let c=l.value;if(c.retryAttempts+=1,c.timeToBeProcessedAfter=Date.now()+a("aUIZi").VISIBILITY_TIMEOUT,c.retryAttempts>=n){++o;let e=l.delete();(0,a("iYeWv").monitorErrorsOnRequest)(e,r)}else{let e=l.update(c);(0,a("iYeWv").monitorErrorsOnRequest)(e,r)}s.length<t?l.continue():e({items:s,numberOfDeletedItems:o})}else e({items:s,numberOfDeletedItems:o})}});return await (0,a("iYeWv").commitTransaction)(i,this.logger),u},this.deleteItems=async e=>{let{transaction:t,objectStore:r}=await this.getObjectStoreAndTransaction("readwrite");try{let n=e.map(e=>this.deleteItem(r,e));await (0,a("iYeWv").commitTransaction)(t,this.logger),await Promise.all(n)}catch(e){throw this.logger.warn("Failed to delete items from indexeddb.",e),e}},this.getItemCount=async()=>{let{transaction:e,objectStore:t}=await this.getObjectStoreAndTransaction("readonly"),r=t.index(a("2A2TO").TIME_TO_PROCESS_AFTER_INDEX),n=IDBKeyRange.upperBound(Date.now()),i=r.count(n),s=await (0,a("iYeWv").requestToPromise)(i);return await (0,a("iYeWv").commitTransaction)(e,this.logger),s.target.result},this.processItems=async(e,t=a("aUIZi").GET_ITEM_COUNT)=>{let{items:r,...n}=await this.getItems(t);try{let t=await e(r,n),i=r.map(e=>e.id);return await this.deleteItems(i),t}catch(e){throw new(0,a("fKoyL").default)(e)}},this.deleteItem=async(e,t)=>{let{logger:r}=this;try{await (0,a("iYeWv").requestToPromise)(e.delete(t))}catch(e){throw r.error("Failed to delete item:",t,e),e}},this.getObjectStoreAndTransaction=async e=>{let t=(await this.db).transaction(a("2A2TO").RESILIENCE_STORE_NAME,e),r=t.objectStore(a("2A2TO").RESILIENCE_STORE_NAME);return{transaction:t,objectStore:r}},this.options=(0,a("iYeWv").createOptionsWithDefaults)(t),this.namespace=e,this.logger=this.options.logger,!window.indexedDB)throw new(0,a("5tWx3").default);this.db=this.startDB(),this.db.catch(()=>{}),this.globalEventLimitGuard=new(0,a("cyn6r").default)(this.options.maxEventLimit,this.namespace,this.logger,this.deleteItem)}storeType(){return a("2A2TO").StoreType.INDEXEDDB}}}),o("aUIZi",function(t,r){e(t.exports,"GET_ITEM_COUNT",()=>n),e(t.exports,"VISIBILITY_TIMEOUT",()=>i),e(t.exports,"MAX_ATTEMPTS",()=>s),e(t.exports,"EVENT_COUNT_LIMIT",()=>a);let n=7,i=6e4,s=10,a=5e3}),o("cyn6r",function(t,r){e(t.exports,"default",()=>n);class n{constructor(e,t,r,n){if(this.deleteOldestNEvents=async(e,t)=>{let r=e.index(a("2A2TO").NAMESPACE_AND_TIME_ADDED_INDEX),n=IDBKeyRange.bound([this.namespace,0],[this.namespace,Date.now()]),i=r.getAllKeys(n,t),s=await (0,a("iYeWv").requestToPromise)(i),o=s?.target?.result;if(o&&Array.isArray(o)&&o.length>0)try{let t=o.map(t=>this.deleteItemHandler(e,t));await Promise.all(t)}catch(e){throw this.logger.warn("Failed to delete items from indexeddb.",e),e}},e>0)this.eventLimit=e;else throw Error("Event Limit has to be set higher than 1");this.namespace=t,this.logger=r,this.deleteItemHandler=n}async insertItems(e,t,r=a("2A2TO").GuardPolicy.ABANDON){let n=[...t],i=0;switch(r){case a("2A2TO").GuardPolicy.ABANDON:await this.throwIfNotEnoughSpace(e,t.length);break;case a("2A2TO").GuardPolicy.EVICT:i=await this.evictIfNotEnoughSpace(e,t.length);break;case a("2A2TO").GuardPolicy.IGNORE:await this.calculateHowManyEventsWeCanAdd(e,n)}let s=n.map(t=>(0,a("iYeWv").requestToPromise)(e.add(t)));return await Promise.all(s),await (0,a("iYeWv").commitTransaction)(e.transaction,this.logger),{items:n,numberOfEvictedItems:i}}async throwIfNotEnoughSpace(e,t){let r=await this.calculateFreeSpace(e);if(r<t)throw new(0,a("3pkX4").default)(`Not enough space in IndexedDb. Needed ${t} but only had ${r}`)}async evictIfNotEnoughSpace(e,t){let r=await this.calculateFreeSpace(e);if(r<t){let n=t-r;return await this.deleteOldestNEvents(e,n),n}return 0}async calculateHowManyEventsWeCanAdd(e,t){let r=await this.calculateFreeSpace(e);if(r<t.length){let e=t.length-r,n=t.length-e;t.splice(n,e)}}async calculateFreeSpace(e){let t=await this.getCountofEventsInObjectStore(e);return this.eventLimit-t}async getCountofEventsInObjectStore(e){let t=e.index(a("2A2TO").NAMESPACE_AND_TIME_ADDED_INDEX),r=IDBKeyRange.bound([this.namespace,0],[this.namespace,Date.now()]),n=t.count(r);return(await (0,a("iYeWv").requestToPromise)(n)).target.result}}}),o("iYeWv",function(r,n){e(r.exports,"convertToItemWrapper",()=>s),e(r.exports,"createOptionsWithDefaults",()=>o),e(r.exports,"requestToPromise",()=>l),e(r.exports,"commitTransaction",()=>u),e(r.exports,"monitorErrorsOnRequest",()=>d);var i=a("bXrHm");let s=(e,r,{id:n,retryAttempts:s,timeToProcessOffset:a})=>({item:e,id:n||t(i)(),retryAttempts:s||0,timeToBeProcessedAfter:Date.now()+(a||0),namespace:r,timeAdded:Date.now()}),o=e=>({logger:e.logger||console,useMemory:e.useMemory||!1,maxAttempts:e.maxAttempts||a("aUIZi").MAX_ATTEMPTS,maxEventLimit:e.maxEventLimit||a("aUIZi").EVENT_COUNT_LIMIT}),l=e=>new Promise((t,r)=>{e.onsuccess=e=>{t(e)},e.onerror=e=>{r(e)}}),c=e=>new Promise((t,r)=>{e.oncomplete=()=>{t()},e.onerror=e=>{r(e)},e.onabort=e=>{r(e)}}),u=(e,t)=>{try{"function"==typeof e.commit&&e.commit()}catch(e){throw t.error("Failed to force commit transaction:",e),e}return c(e)},d=(e,t)=>{e.onerror=e=>{t.warn("Error thrown from request:",e)}}}),o("lGyYf",function(t,r){e(t.exports,"default",()=>n);class n{constructor(e,t={}){this.namespace=e,this.memoryStore=[],this.options=(0,a("iYeWv").createOptionsWithDefaults)(t),this.globalEventLimitGuard=new(0,a("fb8pT").default)(this.options.maxEventLimit,{addItems:this.addItems.bind(this),getItemCount:this.getItemCount.bind(this),evictEventsIfNeeded:this.evictEventsIfNeeded.bind(this)})}async addItem(e,t={},r=a("2A2TO").GuardPolicy.ABANDON){if(r===a("2A2TO").GuardPolicy.IGNORE)throw new(0,a("3HwLa").default)(r,"IndexedDbConnector#addItem");let n=(0,a("iYeWv").convertToItemWrapper)(e,this.namespace,t),i=await this.globalEventLimitGuard.insertItemsToMemoryStore([n],r);return Promise.resolve({item:i.items[0],numberOfEvictedItems:i.numberOfEvictedItems})}bulkAddItem(e,t=a("2A2TO").GuardPolicy.ABANDON){let r=e.map(({item:e,...t})=>(0,a("iYeWv").convertToItemWrapper)(e,this.namespace,t));return this.bulkAddItemWrapperType(r,t)}bulkAddItemWrapperType(e,t=a("2A2TO").GuardPolicy.ABANDON){return Promise.resolve(this.globalEventLimitGuard.insertItemsToMemoryStore(e,t))}getItems(e=a("aUIZi").GET_ITEM_COUNT){return Promise.resolve(this.synchronousGetItems(e))}synchronousGetItems(e=a("aUIZi").GET_ITEM_COUNT){let t=e>0?e:a("aUIZi").GET_ITEM_COUNT,r=Date.now(),n=[],i=[];for(let e of this.memoryStore)if(e.timeToBeProcessedAfter<=r&&(n.push({...e}),e.timeToBeProcessedAfter+=a("aUIZi").VISIBILITY_TIMEOUT,e.retryAttempts+=1,e.retryAttempts>=this.options.maxAttempts&&i.push(e)),n.length>=t)break;return i.forEach(e=>{let t=this.memoryStore.indexOf(e);this.memoryStore.splice(t,1)}),{items:n,numberOfDeletedItems:i.length}}deleteItems(e){return this.memoryStore=this.memoryStore.filter(t=>!e.includes(t.id)),Promise.resolve(void 0)}getItemCount(){let e=Date.now();return Promise.resolve(this.memoryStore.filter(t=>t.timeToBeProcessedAfter<=e).length)}async processItems(e,t){let{items:r,...n}=this.synchronousGetItems(t),i=r.map(e=>e.id);try{let t=await e(r,n);return await this.deleteItems(i),t}catch(e){throw new(0,a("fKoyL").default)(e)}}storeType(){return a("2A2TO").StoreType.MEMORY}addItems(e){this.memoryStore.push(...e),this.memoryStore.sort(function(e,t){return e.timeAdded-t.timeAdded})}evictEventsIfNeeded(e){let t=this.memoryStore.length;if(t>e){let r=t-e;return this.memoryStore.splice(0,r),r}return 0}}}),o("fb8pT",function(t,r){e(t.exports,"default",()=>n);class n{constructor(e,t){if(this.insertItemsToMemoryStore=(e,t)=>{switch(t){case a("2A2TO").GuardPolicy.ABANDON:return this.handleAbandonIfLimitWillExceedPolicy(e);case a("2A2TO").GuardPolicy.EVICT:return Promise.resolve(this.handleEvictOldestIfLimitExceededPolicy(e));case a("2A2TO").GuardPolicy.IGNORE:return this.handleAddAsManyAsPossible(e)}},e>0)this.eventLimit=e;else throw Error("Event Limit has to be set higher than 1");this.memoryItemHandlers=t}async handleAbandonIfLimitWillExceedPolicy(e){if(await this.memoryItemHandlers.getItemCount()+e.length>this.eventLimit)throw new(0,a("3pkX4").default)(a("2A2TO").StoreType.MEMORY);return this.memoryItemHandlers.addItems(e),{items:e,numberOfEvictedItems:0}}handleEvictOldestIfLimitExceededPolicy(e){return this.memoryItemHandlers.addItems(e),{items:e,numberOfEvictedItems:this.memoryItemHandlers.evictEventsIfNeeded(this.eventLimit)}}async handleAddAsManyAsPossible(e){let t=this.eventLimit-await this.memoryItemHandlers.getItemCount(),r=t>e.length?e:e.slice(0,t);return this.memoryItemHandlers.addItems(r),{items:r,numberOfEvictedItems:0}}}}),o("6xafg",function(t,r){e(t.exports,"default",()=>s);class n{addToItemsDiscardedByRetryCounter(e=1){this.itemsDiscardedByRetry+=e}addToEventCount(){this.eventCount++}addToItemsDiscardedByOverflowCounter(e=1){this.itemsDiscardedByOverflow+=e}setResilienceMechanism(e){this.resilienceMechanism=e}addToReclaimMetrics(e){this.localstorageNumberOfFullReclaims+=e.fullReclaims,this.localstorageNumberOfPartialReclaims+=e.partialReclaims,this.localstorageNumberOfFailedReclaims+=e.failedReclaims}addToPurgedQueuesMetrics(e){this.localstorageNumberOfQueuesPurged+=e}subtractFromMetrics(e){this.itemsDiscardedByRetry=this.subtractFromCount(this.itemsDiscardedByRetry,e.itemsDiscardedByRetry),this.eventCount=this.subtractFromCount(this.eventCount,e.eventCount),this.itemsDiscardedByOverflow=this.subtractFromCount(this.itemsDiscardedByOverflow,e.itemsDiscardedByOverflow),this.localstorageNumberOfFullReclaims=this.subtractFromCount(this.localstorageNumberOfFullReclaims,e.fullReclaims),this.localstorageNumberOfPartialReclaims=this.subtractFromCount(this.localstorageNumberOfPartialReclaims,e.partialReclaims),this.localstorageNumberOfFailedReclaims=this.subtractFromCount(this.localstorageNumberOfFailedReclaims,e.failedReclaims),this.localstorageNumberOfQueuesPurged=this.subtractFromCount(this.localstorageNumberOfQueuesPurged,e.localstorageQueuesPurged)}subtractFromCount(e,t){return Math.max(e-(t||0),0)}getMetricsPayload(){return{itemsDiscardedByRetry:this.itemsDiscardedByRetry,eventCount:this.eventCount,itemsDiscardedByOverflow:this.itemsDiscardedByOverflow,resilienceMechanism:this.resilienceMechanism,localstorageQueuesPurged:this.localstorageNumberOfQueuesPurged,fullReclaims:this.localstorageNumberOfFullReclaims,partialReclaims:this.localstorageNumberOfPartialReclaims,failedReclaims:this.localstorageNumberOfFailedReclaims}}constructor(){this.itemsDiscardedByRetry=0,this.eventCount=0,this.itemsDiscardedByOverflow=0,this.resilienceMechanism=a("ePz85").ResilienceMechanism.INDEXEDDB,this.localstorageNumberOfQueuesPurged=0,this.localstorageNumberOfFullReclaims=0,this.localstorageNumberOfPartialReclaims=0,this.localstorageNumberOfFailedReclaims=0}}let i=null;var s=()=>(i||(i=new n),i)}),o("ePz85",function(t,r){e(t.exports,"ResilienceMechanism",()=>s),e(t.exports,"NetworkStatusEnum",()=>a);var n,i,s=((n={}).INDEXEDDB="indexeddb",n.MEMORY="memory",n),a=((i={})[i.ONLINE=0]="ONLINE",i[i.OFFLINE=1]="OFFLINE",i)}),o("1LZzU",function(t,r){e(t.exports,"default",()=>n);class n{constructor(e){this._networkChangeCallback=e,"undefined"!=typeof window&&(window.addEventListener("offline",()=>this._networkChangeCallback(a("ePz85").NetworkStatusEnum.OFFLINE)),window.addEventListener("online",()=>this._networkChangeCallback(a("ePz85").NetworkStatusEnum.ONLINE)))}removeListeners(){"undefined"!=typeof window&&(window.addEventListener("offline",()=>this._networkChangeCallback(a("ePz85").NetworkStatusEnum.OFFLINE)),window.addEventListener("online",()=>this._networkChangeCallback(a("ePz85").NetworkStatusEnum.ONLINE)))}getNetworkStatus(){return window.navigator.onLine?a("ePz85").NetworkStatusEnum.ONLINE:a("ePz85").NetworkStatusEnum.OFFLINE}}}),o("38r8F",function(t,r){var n;e(t.exports,"default",()=>s);let i={minRetryDelay:1e3,maxRetryDelay:3e4,backoffFactor:2,backoffJitterPercentage:0,waitInterval:500,callbackTimeoutPeriod:5e3};(n={})[n.NONE=0]="NONE",n[n.IMMEDIATE=1]="IMMEDIATE",n[n.WAIT=2]="WAIT";class s{constructor(e,t){this.schedule=({immediate:e}={})=>{"undefined"!=typeof window&&(this.operationInFlight?e?this.queuedSchedule=1:1!==this.queuedSchedule&&(this.queuedSchedule=2):(e||this.options.waitInterval<=0)&&0===this.failureCount?(this.clearTimeout(),this.run()):this.failureCount>0&&null===this.scheduledTimeout?this.scheduledTimeout=window.setTimeout(this.run,this.calculateBackoff()):null===this.scheduledTimeout&&(this.scheduledTimeout=window.setTimeout(this.run,this.options.waitInterval)))},this.stop=()=>{this.clearTimeout(),this.queuedSchedule=0},this.getFailureCount=()=>this.failureCount,this.getCallbackStatus=()=>this.callbackTimer.getCallbackStatus(),this.clearTimeout=()=>{"undefined"!=typeof window&&null!==this.scheduledTimeout&&(window.clearTimeout(this.scheduledTimeout),this.scheduledTimeout=null)},this.run=()=>{this.operationInFlight=!0,this.clearTimeout();try{this.callbackTimer.executeCallbackWithTimeout(this.callback,this.done,()=>this.done(a("aRK7K").DoneState.ERROR))}catch(e){this.done(e)}},this.done=e=>{this.operationInFlight=!1,e===a("aRK7K").DoneState.ERROR||this.callbackTimer.getCallbackStatus()===a("dL792").CallbackStatus.TIMED_OUT?(this.failureCount++,this.clearTimeout()):e===a("aRK7K").DoneState.SUCCESS&&(this.failureCount=0),this.processQueuedSchedule()},this.processQueuedSchedule=()=>{if(0!==this.queuedSchedule){let e=1===this.queuedSchedule;this.queuedSchedule=0,this.schedule({immediate:e})}else this.failureCount>0&&this.schedule()},this.calculateBackoff=()=>{let{minRetryDelay:e,maxRetryDelay:t,backoffFactor:r,backoffJitterPercentage:n}=this.options,i=e*r**this.failureCount;if(n){let e=Math.random(),t=Math.floor(e*n*i);5>Math.floor(10*e)?i-=t:i+=t}return Number(Math.min(i,t).toPrecision(1))},this.options={minRetryDelay:e.minRetryDelay||i.minRetryDelay,maxRetryDelay:e.maxRetryDelay||i.maxRetryDelay,backoffFactor:e.backoffFactor||i.backoffFactor,backoffJitterPercentage:e.backoffJitterPercentage||i.backoffJitterPercentage,waitInterval:void 0!==e.waitInterval?e.waitInterval:i.waitInterval,callbackTimeoutPeriod:e.callbackTimeoutPeriod||i.callbackTimeoutPeriod},this.scheduledTimeout=null,this.failureCount=0,this.callback=t,this.operationInFlight=!1,this.queuedSchedule=0,this.callbackTimer=new(0,a("dL792").CallbackWithTimeout)(this.options.callbackTimeoutPeriod)}}}),o("dL792",function(t,r){e(t.exports,"CallbackStatus",()=>s),e(t.exports,"CallbackWithTimeout",()=>a);var n,i,s=((n={}).IDLE="idle",n.RUNNING="running",n.COMPLETED="completed",n.TIMED_OUT="timedOut",n);(i={}).EXECUTE="execute",i.COMPLETE="complete",i.TIMEOUT="timeout";class a{constructor(e){if(this.timeoutHandle=void 0,this.callbackStatus="idle",e>0){this.timeoutPeriod=e;return}throw Error("CallbackWithTimeout requires timeout period higher than 0")}transitionCallbackStatus(e,t){switch(e){case"idle":case"timedOut":case"completed":"execute"===t&&(this.callbackStatus="running");break;case"running":switch(t){case"complete":this.callbackStatus="completed";break;case"timeout":this.callbackStatus="timedOut"}break;default:this.callbackStatus=e}}executeCallbackWithTimeout(e,t,r){"undefined"!=typeof window&&(this.transitionCallbackStatus(this.callbackStatus,"execute"),this.timeoutHandle=window.setTimeout(()=>{this.transitionCallbackStatus(this.callbackStatus,"timeout"),r()},this.timeoutPeriod),e(e=>{this.cancelTimeout(),"timedOut"!==this.getCallbackStatus()&&(this.transitionCallbackStatus(this.callbackStatus,"complete"),t(e))}))}getCallbackStatus(){return this.callbackStatus}cancelTimeout(){"undefined"!=typeof window&&this.timeoutPeriod>0&&this.timeoutHandle&&(window.clearTimeout(this.timeoutHandle),this.timeoutHandle=void 0)}}}),o("aRK7K",function(t,r){e(t.exports,"DoneState",()=>i);var n,i=((n={})[n.NOOP=0]="NOOP",n[n.SUCCESS=1]="SUCCESS",n[n.ERROR=2]="ERROR",n)}),o("kM7SS",function(t,r){e(t.exports,"attachXidToMultipleEvents",()=>n);async function n(e,t){try{let r=await t;return e.map(e=>(function(e,t){if(!(t&&t instanceof Function))return e;if(e.msg.type===a("gjgR4").SegmentEventTypes.PAGE||e.msg.type===a("gjgR4").SegmentEventTypes.TRACK){let r=t();r&&Array.isArray(r)&&(e.msg.properties={...e.msg.properties,xid:r})}else if(e.msg.traits&&e.msg.type===a("gjgR4").SegmentEventTypes.IDENTIFY){let r=t();r&&Array.isArray(r)&&(e.msg.traits={...e.msg.traits,xid:r})}return e})(e,r))}catch(t){return e}}}),o("gjgR4",function(t,r){e(t.exports,"LastError",()=>n),e(t.exports,"FetchError",()=>c),e(t.exports,"SegmentEventTypes",()=>o),e(t.exports,"MetadataResponse",()=>l),e(t.exports,"ALLOW_LISTED_FETCH_ERROR_NAMES",()=>u);class n{constructor(e,t){this.reason=e,this.message=t instanceof Error?t.message:null,this.statusCode=t instanceof c?t.statusCode:null}}var i,s,a,o=((i={}).IDENTIFY="identify",i.PAGE="page",i.TRACK="track",i);(s={}).XC="xc",s.UID="uid",(a={}).NEW="NEW",a.CHANGED="CHANGED",a.EXISTING="EXISTING",a.TIMEOUT="TIMEOUT",a.ERROR="ERROR",a.UNAVAILABLE="UNAVAILABLE",a.MALFORMED="MALFORMED",a.UNKNOWN="UNKNOWN";class l{constructor(e,t){this.props=e,this.url=t}static fromJson(e){let t,r="string"==typeof(t=e?.url)||t instanceof String?e.url.trim():"";return new l(e?.props||null,r.startsWith("http")?r:null)}}class c extends Error{constructor(e,t,r){super(e),this.statusCode=t,this.statusText=r}}let u=["FetchError","AbortError","TypeError"]}),o("57AWV",function(t,r){e(t.exports,"DEFAULT_REQUEST_TIMEOUT",()=>n),e(t.exports,"DEFAULT_METADATA_REQUEST_TIMEOUT",()=>i),e(t.exports,"DEFAULT_METADATA_REFRESH_INTERVAL",()=>s),e(t.exports,"DEFAULT_METADATA_PROPERTY_CHANGE_REFRESH_INTERVAL",()=>a);let n=1e4,i=6e4,s=6e5,a=10}),o("kG09p",function(t,r){e(t.exports,"HTTP_STATUS_CODE_MAP",()=>n);let n=new Map([[200,"OK"],[400,"Bad Request"],[401,"Unauthorized"],[402,"Payment Required"],[403,"Forbidden"],[404,"Not Found"],[405,"Method Not Allowed"],[406,"Not Acceptable"],[407,"Proxy Authentication Required"],[408,"Request Timeout"],[409,"Conflict"],[410,"Gone"],[411,"Length Required"],[412,"Precondition Failed"],[413,"Payload Too Large"],[414,"URI Too Long"],[415,"Unsupported Media Type"],[416,"Requested range not satisfiable"],[417,"Expectation Failed"],[418,"I'm a teapot"],[422,"Unprocessable Entity"],[423,"Locked"],[424,"Failed Dependency"],[425,"Too Early"],[426,"Upgrade Required"],[428,"Precondition Required"],[429,"Too Many Requests"],[431,"Request Header Fields Too Large"],[451,"Unavailable For Legal Reasons"],[500,"Internal Server Error"],[501,"Not Implemented"],[502,"Bad Gateway"],[503,"Service Unavailable"],[504,"Gateway Timeout"],[505,"HTTP Version not supported"],[506,"Variant Also Negotiates"],[507,"Insufficient Storage"],[508,"Loop Detected"],[509,"Bandwidth Limit Exceeded"],[510,"Not Extended"],[511,"Network Authentication Required"],[-1,"Unknown Status"]])}),o("cdwq4",function(t,r){e(t.exports,"sendEvents",()=>n);let n=async e=>{let t=i(e)?.signal,r=s(e.url),n=await fetch(e.url,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(e.batch),signal:t,...r});if(429===n.status||n.status>=500&&n.status<600)throw new(0,a("gjgR4").FetchError)(`HTTP Error ${n.status} (${n.statusText})`,n.status,n.statusText);return n},i=e=>{if(e.abortController)return e.abortController;if(e.timeout){let t=new AbortController;return setTimeout(()=>{t.abort()},e.timeout),t}},s=(0,a("8QpSo").default)(e=>new URL(e).origin===location.origin?{}:{mode:"cors",credentials:"include"})}),o("9Mu5e",function(r,n){e(r.exports,"default",()=>c);var i=a("bXrHm");let s="SAFE",o="UNSAFE",l="LOCAL_STORAGE";class c{constructor(e){this.store=new(0,a("KX1VQ").default)({useStoragePrefix:!1}),this.cookie=new(0,a("dITTJ").default)(e)}getUserId(){return this.userId||null}setUserId(e){this.userId=e}getAnonymousId(e){return this.getAnonymousIdFromLocalStorageAndUpdateCookieIfStale()||this.getAnonymousIdFromCookieAndUpdateLocalStorage()||this.generateNewAnonymousId(e)}setAnonymousId(e){let t=JSON.stringify(e);return this.cookie.set(a("hDpfo").AWCCookiesKeys.AJS_ANONYMOUS_ID,t),this.lastAnonymousIdCookieUpdate=Date.now(),this.store.setItem(a("hDpfo").AllAnalyticsCookies.AJS_ANONYMOUS_ID.getKey(),t)}getAnonymousIdFromStorage(e){let t=e===l?this.store.getItem(a("hDpfo").AllAnalyticsCookies.AJS_ANONYMOUS_ID.getKey()):this.cookie.get(a("hDpfo").AWCCookiesKeys.AJS_ANONYMOUS_ID);if(t){let e={type:o,anonymousId:t};try{let r=JSON.parse(t);if(r&&"string"==typeof r)return{type:s,anonymousId:r};return e}catch(t){return e}}return{type:"NOT_FOUND"}}getAnonymousIdFromLocalStorageAndUpdateCookieIfStale(){let e=this.getAnonymousIdFromStorage(l),t=!1;switch((!this.lastAnonymousIdCookieUpdate||(0,a("4mBKK").default)(new Date,new Date(this.lastAnonymousIdCookieUpdate))>=7)&&(t=!0),e.type){case s:return t&&this.setAnonymousId(e.anonymousId),e.anonymousId;case o:return e.anonymousId;default:return null}}getAnonymousIdFromCookieAndUpdateLocalStorage(){let e=this.getAnonymousIdFromStorage("COOKIE");switch(e.type){case s:case o:return this.store.setItem(a("hDpfo").AllAnalyticsCookies.AJS_ANONYMOUS_ID.getKey(),JSON.stringify(e.anonymousId)),e.anonymousId;default:return null}}generateNewAnonymousId(e=t(i)){let r=e();return this.setAnonymousId(r),r}}}),o("hDpfo",function(t,r){e(t.exports,"AWCCookiesKeys",()=>i),e(t.exports,"AllAnalyticsCookies",()=>o);var n,i=((n={}).AWC_TLD_TEST="AWC_TLD_TEST",n.AWC_ANALYTICS_DEBUG="AWC_ANALYTICS_DEBUG",n.AJS_ANONYMOUS_ID="AJS_ANONYMOUS_ID",n);class s{constructor(e,t){this.key=e,this.options=t}getAttributes(){return this.options}getKey(){return this.key}}let a=()=>{try{return window&&window.location&&"https:"===window.location.protocol}catch(e){return!1}},o={AWC_TLD_TEST:new s("__awc_tld_test__",{expires:365,secure:a(),path:"/"}),AWC_ANALYTICS_DEBUG:new s("atlassian_analytics_debug",{expires:365,secure:a(),path:"/"}),AJS_ANONYMOUS_ID:new s("ajs_anonymous_id",{expires:365,secure:a(),path:"/"})}}),o("dITTJ",function(r,n){e(r.exports,"default",()=>s);var i=a("eYli8");class s{constructor(e){this.cookieLike=(0,a("aXi7r").canUseCookie)(e)?t(i):new(0,a("axlw3").default)}set(e,t,r){return a("hDpfo").AllAnalyticsCookies[e]?this.cookieLike.set(a("hDpfo").AllAnalyticsCookies[e].getKey(),t,{...a("hDpfo").AllAnalyticsCookies[e].getAttributes(),domain:(0,a("aXi7r").getTld)(),...r}):void console.warn(`Unknown cookie key ${e} provided, not set.`)}get(e){return a("hDpfo").AllAnalyticsCookies[e]?this.cookieLike.get(a("hDpfo").AllAnalyticsCookies[e].getKey()):void console.warn(`Unknown cookie key ${e} provided, not fetched.`)}remove(e,t){if(!a("hDpfo").AllAnalyticsCookies[e])return void console.warn(`Unknown cookie key ${e} provided, not removed.`);this.cookieLike.remove(a("hDpfo").AllAnalyticsCookies[e].getKey(),{...t})}}}),o("axlw3",function(t,r){e(t.exports,"default",()=>n);class n{constructor(){this.safeStorage=new(0,a("KX1VQ").default)({useStoragePrefix:!1})}set(e,t){return this.safeStorage.setItem(e,t),t}get(e){return this.safeStorage.getItem(e)||void 0}remove(e){this.safeStorage.removeItem(e)}}}),o("KX1VQ",function(t,r){e(t.exports,"default",()=>n);class n extends a("5jnRh").default{constructor(e){let t;try{t=window.localStorage||a("8TsCv").default}catch(e){t=a("8TsCv").default}super(t,e)}}}),o("8TsCv",function(t,r){e(t.exports,"default",()=>n);var n=new class{constructor(){this._data={},this.length=0,this.setItem=(e,t)=>(this._data[e]=t,this.length=Object.keys(this._data).length,t),this.getItem=e=>e in this._data?this._data[e]:null,this.removeItem=e=>(e in this._data&&delete this._data[e],this.length=Object.keys(this._data).length,null),this.clear=()=>{this._data={},this.length=0},this.key=e=>Object.keys(this._data)[e]}}}),o("5jnRh",function(t,r){e(t.exports,"default",()=>s);let n="awcInMemoryStorageFallback";function i(e){let t="test_value";if(!e)return!1;try{let r="awc.storage.support";e.setItem(r,t);let n=e.getItem(r);return e.removeItem(r),n===t}catch(e){return!1}}class s{constructor(e,t={}){this.getStore=()=>this._store,this.getItem=e=>this._store.getItem(this.createKey(e)),this.removeItem=e=>this._store.removeItem(this.createKey(e)),this.setItem=(e,t)=>{try{this._store.setItem(this.createKey(e),t)}catch(r){(function(e){let t=!1;if(e.code)switch(e.code){case 22:t=!0;break;case 1014:"NS_ERROR_DOM_QUOTA_REACHED"===e.name&&(t=!0)}else -0x7ff8fff2===e.number&&(t=!0);return t})(r)&&(this.swapToInMemory(),this._store.setItem(this.createKey(e),t))}},this.swapToInMemory=()=>{let e;if(this._store===a("8TsCv").default||"undefined"==typeof window)return;let t=Object.keys(this._store||{});i(window[n])?e=window[n]:(e=a("8TsCv").default,window[n]||(window[n]=a("8TsCv").default)),t.forEach(t=>{if(0===t.indexOf(this.getPrefix())){let r=this._store.getItem(t);r&&e.setItem(t,r)}}),this._store=e},this.clear=()=>this._store.clear(),this.key=e=>this._store.key(e),this.getPrefix=()=>this._prefix,this.createKey=e=>this._prefix?`${this.getPrefix()}.${e}`:e,this.options=t;let r=[];(void 0===t.useStoragePrefix||t.useStoragePrefix)&&r.push("awc"),t.envPrefix&&t.envPrefix!==a("iZhen").envType.PROD&&r.push(t.envPrefix),this._prefix=r.join("-"),i(e)?this._store=e:this.swapToInMemory()}}}),o("aXi7r",function(r,n){e(r.exports,"canUseCookie",()=>s),e(r.exports,"getTld",()=>c);var i=a("eYli8");let s=(e=!1)=>!e&&"file:"!==location.protocol&&"chrome-extension:"!==location.protocol,o=a("hDpfo").AllAnalyticsCookies.AWC_TLD_TEST.getKey(),l="tld_test",c=(0,a("8QpSo").default)(()=>{if("undefined"==typeof location)return"";let{hostname:e}=location,r=e.split(".");for(let e=1;e<=r.length;e++){let n=r.slice(-1*e),s=`.${n.join(".")}`;if(t(i).set(o,l,{domain:s}),t(i).get(o)===l)return t(i).remove(o,{domain:s}),s}return e})}),o("1T3jD",function(r,n){e(r.exports,"buildContext",()=>s),e(r.exports,"prepareEventProperties",()=>o);var i=a("1m0iJ");let s=e=>({...e.context,userAgent:navigator.userAgent}),o=e=>{let r=l(e);return t(i)(r)},l=e=>{if(null===e||"object"!=typeof e)return e;let t={};return Object.keys(e).forEach(r=>{let n=c(e,r);void 0!==n&&(Array.isArray(n)?t[r]=n.map(e=>l(e)):"object"==typeof n&&null!==n?t[r]=l(n):t[r]=n)}),t},c=(e,t)=>e[t]}),o("3pTuY",function(t,r){e(t.exports,"MetadataClient",()=>n);class n{static{this.INITIAL_REFRESH_DELAY=1}static{this.Factory=(e,t,r)=>new n(e,t,r)}constructor(e,t,r){this._userInfo={anonymousId:""},this._tenantInfo={},this._url=`${e}://${t}/metadata`,this._product=r,this._metadataInfo=null,this._requestStatus="PENDING",this._lastFetchRequestCount=0,this._lastErrorReason=null,this._fetchAbortController=null,this._hasBeenStopped=!1,this._isEnabled=!1,this._propertyChangeRefreshTimeout=null;let n=(0,a("cT8IU").isStargateProxyPath)({apiHost:t});this._metadataHost=n?"PRODUCT_HOST":t,this._options=this.buildOptions({backoffFactor:2,backoffJitterPercentage:.2,batchFlushSize:7,flushBeforeUnload:!1,flushWaitMs:500,maxAttempts:10,maxItems:1e3,maxRetryDelay:3e4,minRetryDelay:1e3}),this._scheduler=new(0,a("38r8F").default)({...this._options,waitInterval:a("57AWV").DEFAULT_METADATA_REFRESH_INTERVAL},this.scheduleCallback.bind(this)),this._networkStatus=null}start(e){this._isEnabled||this._hasBeenStopped&&!e||(this._isEnabled=!0,this.startNetworkStatusMonitor(),setTimeout(()=>{this._scheduler.schedule({immediate:!0})},n.INITIAL_REFRESH_DELAY))}stop(){this._isEnabled&&(this._hasBeenStopped=!0,this._isEnabled=!1,this.stopNetworkStatusMonitor(),this._scheduler.stop(),this._fetchAbortController?.abort(),this.resetPropertyChangeRefresh())}startNetworkStatusMonitor(){this._networkStatus||(this._networkStatus=new(0,a("1LZzU").default)(e=>{e===a("ePz85").NetworkStatusEnum.OFFLINE?this._scheduler.stop():this._isEnabled&&this._scheduler.schedule({immediate:null===this._metadataInfo})}))}stopNetworkStatusMonitor(){this._networkStatus&&(this._networkStatus.removeListeners(),this._networkStatus=null)}async refreshMetadataAsync(){if(a("ztCik").TestSupport.areFetchCallsDisabled()||!this._isEnabled)return Promise.resolve();this._fetchAbortController?.abort(),this._fetchAbortController=new AbortController;let e=this._fetchAbortController.signal;this._lastFetchRequestCount=this._scheduler.getFailureCount(),await (0,a("ebE7i").fetchMetadata)(this._url,{product:this._product,userInfo:this._userInfo,tenantInfo:this._tenantInfo},a("57AWV").DEFAULT_METADATA_REQUEST_TIMEOUT,e).then(async e=>{let t=await e.json();this._metadataInfo=a("gjgR4").MetadataResponse.fromJson(t),this._lastFetchRequestCount++,this._requestStatus="FETCHED",this._lastErrorReason=null}).catch(t=>{if(!e.aborted)throw this._requestStatus="FAILED",t instanceof a("gjgR4").FetchError&&[429,503].includes(t.statusCode)?this._lastErrorReason="ServerBusyError":this._lastErrorReason=t instanceof Error&&a("gjgR4").ALLOW_LISTED_FETCH_ERROR_NAMES.includes(t.name)?t.name:"Unknown",t})}getMetadataAsync(){return Promise.resolve(this._metadataInfo)}get status(){return this._requestStatus}get lastErrorReason(){return this._lastErrorReason}get lastFetchRequestCount(){return this._lastFetchRequestCount}get userInfo(){return this._userInfo}set userInfo(e){(this._userInfo?.userId!==e?.userId||this._userInfo?.userIdType!==e?.userIdType)&&(this._userInfo=e,this.schedulePropertyChangeRefresh())}get tenantInfo(){return this._tenantInfo}set tenantInfo(e){(this._tenantInfo?.tenantId!==e?.tenantId||this._tenantInfo?.tenantIdType!==e?.tenantIdType)&&(this._tenantInfo=e,this.schedulePropertyChangeRefresh())}get metrics(){return{host:this._metadataHost,status:this.status,lastErrorReason:this.lastErrorReason,lastRefreshRequestCount:this.lastFetchRequestCount}}async scheduleCallback(e){if(this._networkStatus?.getNetworkStatus()===a("ePz85").NetworkStatusEnum.OFFLINE)return void e(a("aRK7K").DoneState.NOOP);try{await this.refreshMetadataAsync(),e(a("aRK7K").DoneState.SUCCESS),this._scheduler.schedule()}catch(t){e(a("aRK7K").DoneState.ERROR)}}schedulePropertyChangeRefresh(){this._isEnabled&&(this.resetPropertyChangeRefresh(),this._propertyChangeRefreshTimeout=setTimeout(()=>{this.resetPropertyChangeRefresh(),this._scheduler.schedule({immediate:!0})},a("57AWV").DEFAULT_METADATA_PROPERTY_CHANGE_REFRESH_INTERVAL))}resetPropertyChangeRefresh(){this._propertyChangeRefreshTimeout&&(clearTimeout(this._propertyChangeRefreshTimeout),this._propertyChangeRefreshTimeout=null)}buildOptions(e){return{backoffFactor:e?.backoffFactor||a("jChFm").DEFAULT_POLLING_OPTIONS.backoffFactor,backoffJitterPercentage:e?.backoffJitterPercentage!==void 0?e.backoffJitterPercentage:a("jChFm").DEFAULT_POLLING_OPTIONS.backoffJitterPercentage,batchFlushSize:e?.batchFlushSize||a("jChFm").DEFAULT_POLLING_OPTIONS.batchFlushSize,flushBeforeUnload:e?.flushBeforeUnload||a("jChFm").DEFAULT_POLLING_OPTIONS.flushBeforeUnload,flushWaitMs:e?.flushWaitMs||a("jChFm").DEFAULT_POLLING_OPTIONS.flushWaitMs,maxItems:e?.maxItems||a("jChFm").DEFAULT_POLLING_OPTIONS.maxItems,maxAttempts:e?.maxAttempts||a("jChFm").DEFAULT_POLLING_OPTIONS.maxAttempts,maxRetryDelay:e?.maxRetryDelay||a("jChFm").DEFAULT_POLLING_OPTIONS.maxRetryDelay,minRetryDelay:e?.minRetryDelay||a("jChFm").DEFAULT_POLLING_OPTIONS.minRetryDelay}}}}),o("cT8IU",function(t,r){e(t.exports,"selectHost",()=>o),e(t.exports,"isStargateProxyPath",()=>l);let n="/gateway/api/gasv3/api/v1",i=({useStargate:e,env:t,useLegacyUrl:r,envOverride:i})=>{if(t===a("iZhen").envType.LOCAL||t===a("iZhen").envType.DEV)throw Error("No LOCAL or DEV environments for FedRAMP.");if(t===a("iZhen").envType.PROD&&i)throw Error("Cannot override to FedRAMP Sandbox for Prod.");return e?r?t===a("iZhen").envType.PROD?"api.atlassian-us-gov-mod.com/gasv3/api/v1":"api.stg.atlassian-us-gov-mod.com/gasv3/api/v1":window.location.host+n:t===a("iZhen").envType.PROD?"as.atlassian-us-gov-mod.com/api/v1":"as.staging.atl-paas-us-gov-mod.net/api/v1"},s=({useStargate:e,env:t,useLegacyUrl:r})=>e?r?t===a("iZhen").envType.PROD?"api-private.atlassian.com/gasv3/api/v1":"api-private.stg.atlassian.com/gasv3/api/v1":window.location.host+n:t===a("iZhen").envType.PROD?"as.atlassian.com/api/v1":"as.staging.atl-paas.net/api/v1";function o({useStargate:e,env:t,useLegacyUrl:r,perimeter:n,ic:o,envOverride:l}){if(o){if(r)throw Error("IC is set but useLegacyUrl is true.");throw Error("IC is set but no apiHost provided.")}return n===a("iZhen").perimeterType.FEDRAMP_MODERATE?i({useStargate:e,env:t,useLegacyUrl:r,envOverride:l}):s({useStargate:e,env:t,useLegacyUrl:r})}function l({apiHost:e}){return e===window.location.host+n}}),o("ztCik",function(t,n){e(t.exports,"TestSupport",()=>i);class i{static{this.DISABLE_METADATA_CALLS_PROPERTY="__awc_disable_metadata_calls__"}static{this.DISABLE_EVENT_CALLS_PROPERTY="__awc_disable_event_calls__"}static{this.DISABLE_FETCH_CALLS_PROPERTY="__awc_disable_fetch_calls__"}static isGeminiVREnvironment(){try{for(let e in r)if(e.startsWith("__gemini_")&&e.endsWith("__"))return!0}catch(e){}return!1}static areMetadataCallsDisabled(){return this.areFetchCallsDisabled()||this.getGlobalBooleanProperty(i.DISABLE_METADATA_CALLS_PROPERTY)}static areEventCallsDisabled(){return this.areFetchCallsDisabled()||this.getGlobalBooleanProperty(i.DISABLE_EVENT_CALLS_PROPERTY)}static areFetchCallsDisabled(){return this.getGlobalBooleanProperty(i.DISABLE_FETCH_CALLS_PROPERTY)}static getGlobalBooleanProperty(e){return!!(r&&r.hasOwnProperty(e))&&!0===r[e]}}}),o("ebE7i",function(t,r){e(t.exports,"fetchMetadata",()=>n);let n=async(e,t,r,n)=>{let o=i(r,n),l=s(e),c=e+"?"+new URLSearchParams({product:`${t.product}`,userId:`${t.userInfo?.userId||""}`,userIdType:`${t.userInfo?.userIdType||""}`,tenantId:`${t.tenantInfo?.tenantId||""}`,tenantIdType:`${t.tenantInfo?.tenantIdType||""}`}).toString(),u=await fetch(c,{method:"GET",signal:o.signal,...l});if(200!==u.status)throw new(0,a("gjgR4").FetchError)(`Metadata: HTTP Error ${u.status} (${u.statusText})`,u.status,u.statusText);return u},i=(e,t)=>{let r=new AbortController;return setTimeout(()=>{r.abort()},e||3e4),t?.addEventListener("abort",()=>{r.abort()}),r},s=(0,a("8QpSo").default)(e=>new URL(e).origin===location.origin?{}:{mode:"cors",credentials:"include"})}),o("cxufL",function(t,r){e(t.exports,"default",()=>n);class n{constructor(){this.handleOriginParameters=(e,t)=>{let r=Object.keys(e);if(!(r.length>0))throw Error("Empty parameter mapping provided");let n=r.filter(e=>0>Object.values(a("iZhen").originTracingType).indexOf(e));if(n.length>0)throw Error(`Invalid Origin Tracing Parameter(s) supplied: ${n.join()}!`);let i=(0,a("d7bc1").default)((e,t)=>r.indexOf(t)>=0,t);return Object.keys(i).map(t=>{let r=e[t](i[t]);return{[t]:r}}).reduce((e,t)=>Object.assign(e,t),{})},this._originStore={}}}}),o("d7bc1",function(t,r){e(t.exports,"defaultHistoryReplaceFn",()=>i),e(t.exports,"default",()=>s);var n=a("dFA29");let i=e=>window.history.replaceState({},"",e);var s=(e,t=i)=>{let r=window.location.href,s=window.location.hash,o=""!==s?r.replace(s,""):r,{url:l,query:c}=(0,n.parseUrl)(o),u=(0,a("gYqa8").pickBy)(c,e);if(Object.keys(u).length>0){let r=(0,a("gYqa8").omitBy)(c,e);t(Object.keys(r).length>0?`${l}?${(0,n.stringify)(r)}${s}`:`${l}${s}`)}return u}}),o("dFA29",function(t,r){e(t.exports,"stringify",()=>n,e=>n=e),e(t.exports,"parseUrl",()=>i,e=>i=e);var n,i,s,o=a("hlggt"),l=a("aCrRe"),c=a("gjKya"),u=a("cNVkY");let d=e=>null==e,h=Symbol("encodeFragmentIdentifier");function p(e){if("string"!=typeof e||1!==e.length)throw TypeError("arrayFormatSeparator must be single character string")}function f(e,t){return t.encode?t.strict?o(e):encodeURIComponent(e):e}function g(e,t){return t.decode?l(e):e}function m(e){let t=e.indexOf("#");return -1!==t&&(e=e.slice(0,t)),e}function v(e){let t=(e=m(e)).indexOf("?");return -1===t?"":e.slice(t+1)}function y(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):t.parseBooleans&&null!==e&&("true"===e.toLowerCase()||"false"===e.toLowerCase())&&(e="true"===e.toLowerCase()),e}function E(e,t){p((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);let r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{if(t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),!t){n[e]=r;return}void 0===n[e]&&(n[e]={}),n[e][t[1]]=r};case"bracket":return(e,r,n)=>{if(t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),!t){n[e]=r;return}if(void 0===n[e]){n[e]=[r];return}n[e]=[].concat(n[e],r)};case"colon-list-separator":return(e,r,n)=>{if(t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),!t){n[e]=r;return}if(void 0===n[e]){n[e]=[r];return}n[e]=[].concat(n[e],r)};case"comma":case"separator":return(t,r,n)=>{let i="string"==typeof r&&r.includes(e.arrayFormatSeparator),s="string"==typeof r&&!i&&g(r,e).includes(e.arrayFormatSeparator);r=s?g(r,e):r;let a=i||s?r.split(e.arrayFormatSeparator).map(t=>g(t,e)):null===r?r:g(r,e);n[t]=a};case"bracket-separator":return(t,r,n)=>{let i=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!i){n[t]=r?g(r,e):r;return}let s=null===r?[]:r.split(e.arrayFormatSeparator).map(t=>g(t,e));if(void 0===n[t]){n[t]=s;return}n[t]=[].concat(n[t],s)};default:return(e,t,r)=>{if(void 0===r[e]){r[e]=t;return}r[e]=[].concat(r[e],t)}}}(t),n=Object.create(null);if("string"!=typeof e||!(e=e.trim().replace(/^[?#&]/,"")))return n;for(let i of e.split("&")){if(""===i)continue;let[e,s]=c(t.decode?i.replace(/\+/g," "):i,"=");s=void 0===s?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?s:g(s,t),r(g(e,t),s,n)}for(let e of Object.keys(n)){let r=n[e];if("object"==typeof r&&null!==r)for(let e of Object.keys(r))r[e]=y(r[e],t);else n[e]=y(r,t)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((e,t)=>{let r=n[t];return r&&"object"==typeof r&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(r):e[t]=r,e},Object.create(null))}n=(e,t)=>{if(!e)return"";p((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);let r=r=>t.skipNull&&d(e[r])||t.skipEmptyString&&""===e[r],n=function(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{let i=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[f(t,e),"[",i,"]"].join("")]:[...r,[f(t,e),"[",f(i,e),"]=",f(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[f(t,e),"[]"].join("")]:[...r,[f(t,e),"[]=",f(n,e)].join("")];case"colon-list-separator":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[f(t,e),":list="].join("")]:[...r,[f(t,e),":list=",f(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{let t="bracket-separator"===e.arrayFormat?"[]=":"=";return r=>(n,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?n:(i=null===i?"":i,0===n.length)?[[f(r,e),t,f(i,e)].join("")]:[[n,f(i,e)].join(e.arrayFormatSeparator)]}default:return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,f(t,e)]:[...r,[f(t,e),"=",f(n,e)].join("")]}}(t),i={};for(let t of Object.keys(e))r(t)||(i[t]=e[t]);let s=Object.keys(i);return!1!==t.sort&&s.sort(t.sort),s.map(r=>{let i=e[r];return void 0===i?"":null===i?f(r,t):Array.isArray(i)?0===i.length&&"bracket-separator"===t.arrayFormat?f(r,t)+"[]":i.reduce(n(r),[]).join("&"):f(r,t)+"="+f(i,t)}).filter(e=>e.length>0).join("&")},i=(e,t)=>{t=Object.assign({decode:!0},t);let[r,n]=c(e,"#");return Object.assign({url:r.split("?")[0]||"",query:E(v(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:g(n,t)}:{})},s=(e,t)=>{t=Object.assign({encode:!0,strict:!0,[h]:!0},t);let r=m(e.url).split("?")[0]||"",i=Object.assign(E(v(e.url),{sort:!1}),e.query),s=n(i,t);s&&(s=`?${s}`);let a=function(e){let t="",r=e.indexOf("#");return -1!==r&&(t=e.slice(r)),t}(e.url);return e.fragmentIdentifier&&(a=`#${t[h]?f(e.fragmentIdentifier,t):e.fragmentIdentifier}`),`${r}${s}${a}`},(e,t,r)=>{r=Object.assign({parseFragmentIdentifier:!0,[h]:!1},r);let{url:n,query:a,fragmentIdentifier:o}=i(e,r);return s({url:n,query:u(a,t),fragmentIdentifier:o},r)}}),o("4NslB",function(t,r){e(t.exports,"default",()=>l);let n="session.id",i="session.expiry",s=/^\d+$/,o=()=>{};class l{constructor(e={}){this._generateNewSessionId=()=>{let e=Date.now().toString();return this._safeLocalStorage.setItem(n,e),this._onNewSessionStarted&&this._onNewSessionStarted(),e},this._updateSessionExpiry=()=>{let e=Date.now()+this._sessionExpiryTime;return this._safeLocalStorage.setItem(i,e.toString()),e},this._debouncedUpdateSessionExpiry=e=>{let{_updateSessionExpiry:t}=this;if(e<Date.now()+this._sessionExpiryDebounceThresholdPercentage*this._sessionExpiryTime)return t();this._sessionExpiryDebounceTimer&&clearTimeout(this._sessionExpiryDebounceTimer),this._sessionExpiryDebounceTimer=setTimeout(()=>{t()},this._sessionExpiryDebounce)},this._sessionExpiryTime=e.sessionExpiryTime||18e5,this._sessionExpiryDebounce=e.sessionExpiryDebounce||5e3,this._sessionExpiryDebounceThresholdPercentage=e.sessionExpiryDebounceThresholdPercentage||.9,this._onNewSessionStarted=e.onNewSessionStarted?e.onNewSessionStarted:o,this._safeLocalStorage=new(0,a("KX1VQ").default)}getCurrentSessionId(){let e=this._safeLocalStorage.getItem(n),t=parseInt(this._safeLocalStorage.getItem(i)||"0",10)||0;return(this._debouncedUpdateSessionExpiry(t),!e||t<=Date.now()||Number.isNaN(t)||!s.test(e))?this._generateNewSessionId():e}}}),o("lbyTT",function(t,r){e(t.exports,"default",()=>n);class n extends a("5jnRh").default{constructor(e){let t;try{t=window.sessionStorage||a("8TsCv").default}catch(e){t=a("8TsCv").default}super(t,e)}}}),o("5cwz8",function(r,n){e(r.exports,"default",()=>o);var i=a("bXrHm");let s="tab.id";class o{constructor(){this._generateNewTabId=()=>{let e=t(i)();return this._safeSessionStorage.setItem(s,e),e},this._safeSessionStorage=new(0,a("lbyTT").default)}getCurrentTabId(){let e=this._safeSessionStorage.getItem(s);return e||(e=this._generateNewTabId()),e}}}),o("3ErS8",function(r,n){e(r.exports,"default",()=>u);var i=a("dFA29"),s=a("bXrHm");let o="taskSessions",l="taskSessionsInit",c="awc.";class u{constructor(){this._taskSessionsNotRecentlyInitialised=e=>null===this._safeSessionStorage.getItem(o)||null===this._safeSessionStorage.getItem(l)||parseInt(this._safeSessionStorage.getItem(l)||"0",10)<e-3e3,this._removeTaskSessionPrefix=(e,t)=>t.split(c)[1],this._isTaskSessionQueryParam=(e,t)=>t.startsWith(c),this.getAllTaskSessions=()=>{try{return JSON.parse(this._safeSessionStorage.getItem(o)||"")}catch(e){return{}}},this._writeToSessionStorage=e=>{try{this._safeSessionStorage.setItem(o,JSON.stringify(e))}catch(e){}},this._appendTaskSessions=e=>{let t=this.getAllTaskSessions(),r=null===t?e:Object.assign(t,e);this._writeToSessionStorage(r)},this._safelyRemoveKey=(e,t)=>null===e?{}:(delete e[t],e),this.createTaskSession=e=>{let r=t(s)(),n={};return n[e]=r,this._appendTaskSessions(n),r},this.createTaskSessionWithProvidedId=(e,t)=>{if("string"!=typeof t)throw TypeError("invalid taskSessionId, must be string");let r={};r[e]=t,this._appendTaskSessions(r)},this.completeTaskSession=e=>{let t=this.getAllTaskSessions(),r=this._safelyRemoveKey(t,e);this._writeToSessionStorage(r)},this.formatTaskSessionQueryString=({uri:e,includedTaskSessions:t})=>{let{url:r,query:n}=(0,i.parseUrl)(e),s=this.getAllTaskSessions(),o=t?(0,a("gYqa8").pick)(s,t):(0,a("gYqa8").omit)(s,Object.values(a("iZhen").originTracingType));if(0===Object.keys(o).length)return e;let l={...(0,a("gYqa8").mapKeys)(o,(e,t)=>c+t),...n};return`${r}?${(0,i.stringify)(l)}`},this.stripQueryParameters=()=>{let e=(0,a("gYqa8").mapKeys)((0,a("d7bc1").default)(this._isTaskSessionQueryParam),this._removeTaskSessionPrefix);this._appendTaskSessions(e)};let e=Date.now();this._safeSessionStorage=new(0,a("lbyTT").default);try{this._taskSessionsNotRecentlyInitialised(e)&&(this._writeToSessionStorage({}),this._safeSessionStorage.setItem(l,e.toString()))}catch(e){}}}}),o("fOR5Q",function(r,n){e(r.exports,"default",()=>c);var i=a("eYli8");let s=a("hDpfo").AllAnalyticsCookies.AWC_ANALYTICS_DEBUG.getKey(),o="synthetic",l=()=>{try{return JSON.parse(t(i).get(s)||"false")}catch(e){t(i).remove(s)}return!1};var c=class{constructor(){this._bind=()=>{"undefined"==typeof window||window.testAnalytics||(window.testAnalytics={eventCache:[],events:()=>window.testAnalytics.eventCache,clear:()=>{window.testAnalytics.eventCache=[];try{localStorage.removeItem("awc.ui.viewed.last.sent"),localStorage.removeItem("awc-staging.ui.viewed.last.sent"),localStorage.removeItem("awc-dev.ui.viewed.last.sent"),localStorage.removeItem("awc-local.ui.viewed.last.sent")}catch(e){}}})},this._cache=e=>{"undefined"!=typeof window&&(window.testAnalytics.eventCache.length>=100&&(window.testAnalytics.eventCache=window.testAnalytics.eventCache.slice(1,window.testAnalytics.eventCache.length)),window.testAnalytics.eventCache.push(e))},this._shouldCacheEvent=()=>this._isDebugCookieEnabled,this.saveEvent=e=>{e&&this._shouldCacheEvent()&&(window.testAnalytics||this._bind(),e.tags instanceof Array?e.tags.push(o):e.tags=[o],this._cache(e))},this._isDebugCookieEnabled=l(),this._isDebugCookieEnabled&&this._bind()}}}),o("edTAR",function(t,r){e(t.exports,"default",()=>n);class n{constructor(e,t,r,n={}){if(this.start=()=>{this._startInterval(),this._bindEventListeners()},this.stop=()=>{this._stopInterval(),this._unbindEventListeners()},this.resetTimers=()=>{this._intervalId&&(this.stop(),this.start())},this._bindEventListeners=()=>{"undefined"!=typeof window&&(window.addEventListener("focus",this._focusListener),window.addEventListener("blur",this._blurListener))},this._unbindEventListeners=()=>{"undefined"!=typeof window&&(window.removeEventListener("focus",this._focusListener),window.removeEventListener("blur",this._blurListener))},this._startInterval=()=>{clearInterval(this._intervalId),this._intervalId=setInterval(this._handleInterval,this._delay)},this._stopInterval=()=>{this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null)},this._getProductKey=(e,t)=>{let r=e;return t&&(r+=`-${t}`),r},this._getLastSentTimestamp=(e,t,r)=>(((this._parseLocalStorageData(this._storageKey)||{})[r]||{})[t]||{})[e]||null,this._parseLocalStorageData=e=>{let t=this._safeLocalStorage.getItem(e);try{return JSON.parse(t||"")}catch(t){return this._safeLocalStorage.removeItem(e),null}},this._getMalformedLastSentTimestamp=(e,t,r)=>(((this._parseLocalStorageData(this._malformedEventStorageKey)||{})[r||"NOT_SET"]||{})[t||"NOT_SET"]||{})[e]||null,this._setLastSentTimestamp=(e,t,r)=>{let n=this._parseLocalStorageData(this._storageKey)||{},i=n[r]||{},s=i[t]||{};s[e]=Date.now(),i[t]=s,n[r]=i,this._safeLocalStorage.setItem(this._storageKey,JSON.stringify(n))},this._setMalformedLastSentTimestamp=(e,t,r)=>{let n=this._parseLocalStorageData(this._malformedEventStorageKey)||{},i=r||"NOT_SET",s=t||"NOT_SET",a=n[i]||{},o=a[s]||{};o[e]=Date.now(),a[s]=o,n[i]=a,this._safeLocalStorage.setItem(this._malformedEventStorageKey,JSON.stringify(n))},this._shouldSendEvent=(e,t,r,n)=>{let i=(0,a("1WgZp").getDocument)();if(i&&!i.hasFocus())return"FocusLost";if(t!==a("iZhen").tenantType.NONE&&!r||!n){let t=Date.now()-this._getMalformedLastSentTimestamp(e,r,n);return null===t||t>this._throttle?"UserOrTenantIncomplete":"MalformedUiViewedRateLimited"}let s=Date.now()-this._getLastSentTimestamp(e,r,n);return null===s||s>this._throttle?"EligibleToSend":"UiViewedRateLimited"},this._handleInterval=()=>{let{embeddedProduct:e,...t}=this._getContext();this._sendEvent(this._product,t),e&&this._sendEvent(e,t,!0)},this._sendEvent=(e,t,r=!1)=>{let{subproduct:n,tenantIdType:i,tenantId:s,userId:a,lastScreenEvent:o,attributes:l}=t,c=this._getProductKey(e,n);switch(this._shouldSendEvent(c,i,s,a)){case"EligibleToSend":this._setLastSentTimestamp(c,s,a),this._onEvent(this._createEvent(e,n,r,o,l,"ui","viewed"));break;case"UserOrTenantIncomplete":this._setMalformedLastSentTimestamp(c,s,a),this._onEvent(this._createEvent(e,n,r,o,l,"malformed","uiviewed"))}},this._createEvent=(e,t,r,n,i,s,a)=>{let o={product:e,source:"ui",action:a,actionSubject:s,attributes:i};return r&&(o.subproduct=null,o.version=null,o.attributes={...o.attributes,embeddedInEnv:this._productInfo.env,embeddedInProduct:this._productInfo.product,embeddedInSubproduct:t,embeddedInVersion:this._productInfo.version,embeddedInOrigin:this._productInfo.origin,embeddedInPlatform:this._productInfo.platform}),n&&(o.attributes={...o.attributes,lastScreenEvent:{name:n.name,attributes:n.attributes}}),o},!e)throw Error("Missing productInfo");if(!e.product)throw Error("Missing productInfo.product");if(!t)throw Error("Missing getContext callback");if("function"!=typeof t)throw Error("Invalid getContext, must be function");if(!r)throw Error("Missing onEvent callback");if("function"!=typeof r)throw Error("Invalid onEvent, must be function");this._productInfo=e,this._product=e.product,this._getContext=t,this._onEvent=r,this._delay=n.delay||2e3,this._throttle=n.throttle||36e5,this._storageKey=n.storageKey||"ui.viewed.last.sent",this._malformedEventStorageKey=n.malformedStorageKey||"malformed.uiviewed.last.sent",this._safeLocalStorage=new(0,a("KX1VQ").default)({envPrefix:this._productInfo.env}),this._focusListener=()=>{this._startInterval()},this._blurListener=()=>{this._stopInterval()}}}}),o("1WgZp",function(t,r){e(t.exports,"getDocument",()=>n);let n=()=>"undefined"!=typeof document?document:null}),o("j7FCN",function(t,r){e(t.exports,"default",()=>n);function n(e,t){return e&&"function"==typeof e?()=>{e(t)}:null}}),o("iNSWY",function(t,r){e(t.exports,"XIDPromise",()=>n);let n=(e,t)=>{if(e&&t&&"function"==typeof t)return Promise.race([t().catch(()=>()=>(0,a("4LmqD").createUnknownXid)()),new Promise(e=>{setTimeout(()=>e(()=>(0,a("4LmqD").createTimeoutXid)()),a("4LmqD").XID_TIMEOUT)})])}}),o("4LmqD",function(t,r){e(t.exports,"XID_TIMEOUT",()=>n),e(t.exports,"createTimeoutXid",()=>i),e(t.exports,"createUnknownXid",()=>s);let n=5e3,i=()=>[{type:a("cLbOk").XIDItemType.XC,state:"TIMEOUT"},{type:a("cLbOk").XIDItemType.UID,state:"TIMEOUT"}],s=()=>[{type:a("cLbOk").XIDItemType.XC,state:"UNKNOWN"},{type:a("cLbOk").XIDItemType.UID,state:"UNKNOWN"}]}),o("cLbOk",function(t,r){e(t.exports,"XIDItemType",()=>s);var n,i,s=((n={}).XC="xc",n.UID="uid",n);(i={}).NEW="NEW",i.CHANGED="CHANGED",i.EXISTING="EXISTING",i.TIMEOUT="TIMEOUT",i.ERROR="ERROR",i.UNAVAILABLE="UNAVAILABLE",i.MALFORMED="MALFORMED",i.UNKNOWN="UNKNOWN"}),o("cm6fz",function(t,r){e(t.exports,"canCompress",()=>n),e(t.exports,"buildCompressionFunction",()=>a);let n=e=>"feature"===e.actionSubject&&"exposed"===e.action&&"operational"===e.eventType&&e.attributes&&e.tags&&e.tags.includes("measurement")&&!e.tags.includes("hasCustomAttributes"),i=(e,t=50)=>{if(!e||e.length<=0)return[];if(t<=0)throw Error("Batch size must be greater than 0");return s(e.map(e=>{let{flagKey:t,value:r,reason:n,ruleId:i,errorKind:s}=e.attributes;return{key:t,value:r,...n&&{reason:n},...i&&{ruleId:i},...s&&{errorKind:s}}}),t)},s=(e,t)=>{let r=[];for(let n=0;n<e.length;n+=t){let i=e.slice(n,n+t);r.push({actionSubject:"features",action:"exposed",eventType:"operational",attributes:{evaluations:i},tags:["measurement"],source:"@atlassian/exposure-events-compressor"})}return r},a=e=>t=>i(t,e)}),o("5bWbX",function(t,r){e(t.exports,"default",()=>s);var n=a("2OMIu");a("5uXOq");let i=(0,a("cb25w").default)()(a("5pZVQ").EngagementProvider);var s=(0,a("f1t8h").default)(e=>(0,n.jsx)(i,{...e,store:(0,a("4qJHz").default)(e.config)}))}),o("f1t8h",function(r,n){e(r.exports,"default",()=>o);var i=a("2OMIu"),s=a("5uXOq");function o(e){let r=t(s).createContext(!1);return function(t){return(0,i.jsx)(r.Consumer,{children:n=>n?t.children:(0,i.jsx)(r.Provider,{value:!0,children:(0,i.jsx)(e,{...t})})})}}}),o("4qJHz",function(r,n){e(r.exports,"store",()=>c),e(r.exports,"default",()=>u);var i=a("ajpes"),s=a("3f2cs");let o={messageMapping:new Map,current:null,initialized:!1,initializing:!1,config:{cloudId:"",aaid:"",locale:"",product:"",stargateUrl:"",orgId:"",workspaceId:""}},l=(0,a("9JnaK").createCancellationToken)(),c=(0,s.createStore)((e=o,r)=>{switch(r.type){case a("kjEZw").SET_MESSAGE_MAPPING:return{...e,initialized:!0,initializing:!1,messageMapping:r.messageMapping};case a("kjEZw").SET_INITIALIZING:return{...e,config:r.config,initializing:!0};case a("kjEZw").SET_CURRENT:{let{eventMapping:n}=r,{message:s,component:a}=n,o=function(e,r){let n=new Map;return e.forEach((e,s)=>{t(i)(e.component,r)||n.set(s,e)}),n}(e.messageMapping,a);return{...e,current:{messageId:s.messageId,variationId:s.variationId,...a},messageMapping:o}}case a("kjEZw").CLEAR_CURRENT:return{...e,current:null};case a("kjEZw").RESET_STORE:return o;default:return e}});var u=e=>{let t=c.getState();if(t.initializing||t.initialized){if(t.config.cloudId===e.cloudId)return c;l.isCancelled=!0,l=(0,a("9JnaK").createCancellationToken)(),c.dispatch((0,a("kjEZw").resetStore)())}let r={...e};return r.locale=r.locale.replace("_","-"),c.dispatch((0,a("kjEZw").initialize)(r)),(0,a("7CfdH").isMessagingEnabled)()&&(0,a("aS5YT").processMessages)(c,r,l),c}}),o("9JnaK",function(t,r){e(t.exports,"createCancellationToken",()=>n);function n(e=!1){return{isCancelled:e}}}),o("7CfdH",function(t,r){e(t.exports,"isMessagingEnabled",()=>n);function n(){return!(0,a("c04PQ").isFedRamp)()}}),o("kjEZw",function(t,r){e(t.exports,"SET_MESSAGE_MAPPING",()=>n),e(t.exports,"SET_INITIALIZING",()=>i),e(t.exports,"RESET_STORE",()=>s),e(t.exports,"CLEAR_CURRENT",()=>a),e(t.exports,"SET_CURRENT",()=>o),e(t.exports,"resetStore",()=>l),e(t.exports,"initialize",()=>c),e(t.exports,"setMessageMapping",()=>u),e(t.exports,"setCurrent",()=>d),e(t.exports,"clearCurrent",()=>h);let n="SET_MESSAGE_MAPPING",i="SET_INITIALIZING",s="RESET_STORE",a="CLEAR_CURRENT",o="SET_CURRENT",l=()=>({type:s}),c=e=>({type:i,config:e}),u=e=>({type:n,messageMapping:e});function d(e){return{type:o,eventMapping:e}}function h(){return{type:a}}}),o("aS5YT",function(t,r){e(t.exports,"processMessages",()=>i);let n=e=>{let t=new Map;return e.forEach(e=>{let r=e.components;r.forEach((n,i)=>{n.triggers.forEach(s=>{t.set(s,{message:e,component:{componentId:i,isLast:i===r.length-1,...n}})})})}),t};async function i(e,t,r){let s,o;if(r.isCancelled)return;let l=a("4qJHz").store.getState(),{cloudId:c,stargateUrl:u,product:d,locale:h}=t;try{let e=await (0,a("1gxex").getMessages)(c,u,d,h);if(r.isCancelled)return;s=e.messages,o=e.interval}catch(e){return}if(null===l.current){let t=n(s);e.dispatch((0,a("kjEZw").setMessageMapping)(t))}0!==o&&setTimeout(()=>{i(e,t,r)},1e3*o)}}),o("1gxex",function(r,n){let i;e(r.exports,"getMessages",()=>c),e(r.exports,"startMessage",()=>g),e(r.exports,"stopMessage",()=>m),e(r.exports,"sendUserResponse",()=>I),e(r.exports,"markAsSeenAndFatigued",()=>x);var s,o=a("M4Zg0");let l=t(o).parse("/engage-targeting/api/v2/user/{cloudId}/in-product-messages{?product,schema,locale}");async function c(e,t,r,n){return(0,a("5Xk79").stargateFetch)(`${t}${l.expand({cloudId:e,product:r,schema:"2",locale:n})}`).then(a("5Xk79").errorIfNotOk).then(e=>e.json().then(t=>({messages:t,interval:Number.parseFloat(e.headers.get("POLL-INTERVAL")||"0")})))}function u(e){return e.status===h}let d=t(o).parse("/engage-targeting/api/v2/user/messages/{messageId}/start"),p=t(o).parse("/engage-targeting/api/v2/user/messages/{messageId}/start/{variationId}"),f=t(o).parse("/engage-targeting/api/v2/user/messages/{messageId}/stop");async function g(e,t){return t?.enableChoreographer?v(e,t):E(e)}async function m(e,t){return t?.enableChoreographer?y(e,t):b(e)}async function v(e,t){return i||(i=new(0,a("k8luc").EngagekitChoreographerPlugin)(t.envType??"local")),i.startMessageWithPlugin(e.messageId,()=>E(e,!0),t.additionalData)}async function y(e,t){return i||(i=new(0,a("k8luc").EngagekitChoreographerPlugin)(t.envType??"local")),i.stopMessageWithPlugin(e.messageId,()=>b(e,!0),t.additionalData)}async function E(e,t=!1){let r={cloudId:e.cloudId,orgId:e.orgId,workspaceId:e.workspaceId,choreographerEnabled:t};return(0,a("5Xk79").stargateFetch)(e.variationId?`${e.stargateUrl}${p.expand({messageId:e.messageId,variationId:e.variationId})}`:`${e.stargateUrl}${d.expand({messageId:e.messageId})}`,{method:"post",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then(a("5Xk79").pullResponseTextIfNotOk).then(u)}async function b(e,t=!1){let r={cloudId:e.cloudId,orgId:e.orgId,workspaceId:e.workspaceId,choreographerEnabled:t};return(0,a("5Xk79").stargateFetch)(`${e.stargateUrl}${f.expand({messageId:e.messageId})}`,{method:"post",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then(a("5Xk79").pullResponseTextIfNotOk).then(u)}(s={}).LOCAL="local",s.DEV="dev",s.STAGING="staging",s.PROD="prod";let _=t(o).parse("/engage-targeting/api/v2/user/{cloudId}/messages/{messageId}/response");async function I(e,t,r,n){return(0,a("5Xk79").stargateFetch)(`${t}${_.expand({cloudId:e,messageId:r})}`,{method:"post",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then(a("5Xk79").pullResponseTextIfNotOk).then(()=>Promise.resolve())}let w=t(o).parse("/engage-targeting/api/v2/user/messages/{messageId}/seen");async function x(e){let t={cloudId:e.cloudId,orgId:e.orgId,workspaceId:e.workspaceId};return(0,a("5Xk79").stargateFetch)(`${e.stargateUrl}${w.expand({messageId:e.messageId})}`,{method:"post",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(a("5Xk79").pullResponseTextIfNotOk).then(()=>Promise.resolve())}}),o("k8luc",function(t,r){e(t.exports,"EngagekitChoreographerPlugin",()=>n);class n extends a("4YUjU").ChoreographerPlugin{constructor(e,t={}){super(a("TTRxY").ProductIds.ENGAGEKIT,e,t)}shouldLogEvent(e){return e.actionSubject!==a("TTRxY").MessageAction.START||e.action!==a("TTRxY").MessageDeliveryStatus.BLOCKED}isValidDuplicateStartRequest(e){let t=a("9ACoj").Choreographer.getInstance().getCurrentMessage()??a("9ACoj").Choreographer.getInstance().getCurrentPendingMessage();return!!(t&&t.productId===this.state.productId&&t.messageId===e&&Date.now()-t.timestamp<3e5)}async startMessageWithPlugin(e,t,r={}){let n=new(0,a("labik").DebugLogger)(this.state.productId,e),i=a("TTRxY").MessageAction.START;if(n.trace({verbose:"EngagekitChoreographerPlugin::startMessageWithPlugin"}),this.isValidDuplicateStartRequest(e)){let s=new(0,a("7cTYp").Logger)(i,e,{...this.state.metaMetricsData,...r},this.analyticsClient),o=!!await t();return o&&(s.started(),n.log({verbose:{phase:i,plugin:this.constructor.name,disposition:a("TTRxY").MessageDeliveryStatus.STARTED,timestamp:performance.now()}})),o}return this.onStart(e,t),await this.startMessage(e,r)===a("TTRxY").MessageDeliveryStatus.STARTED}async stopMessageWithPlugin(e,t,r={}){return new(0,a("labik").DebugLogger)(this.state.productId,e).trace({verbose:"EngagekitChoreographerPlugin::stopMessageWithPlugin"}),this.onStop(e,t),await this.stopMessage(e,r)===a("TTRxY").MessageDeliveryStatus.STOPPED}}}),o("9ACoj",function(t,r){let n;e(t.exports,"Choreographer",()=>i);class i{static getInstance(){return n||(n=new this),n}constructor(){this.state={currentMessage:null,isDisabled:!1,messages:new Map,messageQueue:[],messageTtl:null,plugins:new Map,queueingBehindMessage:null,shouldQueueMessages:!1}}stopCurrentMessage(){this.state.currentMessage&&this.stopMessageInternal(this.state.currentMessage.productId,this.state.currentMessage.messageId,this.state.currentMessage.analyticsClient,this.state.currentMessage.metricsData,this.state.currentMessage.plugin,!0).then(()=>{this.clearMessageTtl(),this.enablePlugins()})}queueMessages(e,t){this.state.shouldQueueMessages=!0,this.state.queueingBehindMessage={productId:e,messageId:t,timestamp:Date.now()}}queueMessage(e,t,r,n,i){return new Promise(s=>{this.state.messageQueue.push({productId:e,messageId:t,analyticsClient:r,metricsData:n,plugin:i,resolve:s})})}processQueuedMessage(){let e=this.state.messageQueue.shift();this.state.shouldQueueMessages=!1,this.state.queueingBehindMessage=null,e&&e.resolve(this.startMessage(e.productId,e.messageId,e.analyticsClient,e.metricsData,e.plugin))}destroyMessageQueue(e){for(this.state.shouldQueueMessages=!1,this.state.queueingBehindMessage=null;this.state.messageQueue.length>0;){let{analyticsClient:t,messageId:r,metricsData:n,productId:i,resolve:s}=this.state.messageQueue.shift(),o={...n,productId:i,messageId:r},l=a("TTRxY").MessageAction.START,c=new(0,a("7cTYp").Logger)(l,r,o,t,e),u=new(0,a("labik").DebugLogger)(i,r);c.blocked({blockedByProductId:this.state.currentMessage?.productId,blockedByMessageId:this.state.currentMessage?.messageId}),u.log({verbose:{phase:l,disposition:a("TTRxY").MessageDeliveryStatus.BLOCKED,blockedByProductId:this.state.currentMessage?.productId,blockedByMessageId:this.state.currentMessage?.messageId}}),s(a("TTRxY").MessageDeliveryStatus.BLOCKED)}}setMessageTtl(e,t,r,n,i){this.state.currentMessage={productId:e,messageId:t,analyticsClient:r,metricsData:n,plugin:i,timestamp:Date.now()},this.state.messageTtl=setTimeout(()=>{this.isCurrentMessage(e,t)&&this.stopCurrentMessage()},3e5)}isCurrentMessage(e,t){return!!(this.state.currentMessage&&this.state.currentMessage.productId===e&&this.state.currentMessage.messageId===t)}getCurrentMessage(){return this.state.currentMessage}getCurrentPendingMessage(){return this.state.queueingBehindMessage}clearMessageTtl(){this.state.currentMessage=null,this.state.messageTtl&&clearTimeout(this.state.messageTtl)}disablePlugins(e){this.state.isDisabled=!0,[...this.state.plugins.values()].forEach(t=>{t!==e&&t.disable()})}enablePlugins(){[...this.state.plugins.values()].forEach(e=>e.enable()),this.state.isDisabled=!1}unregisterPlugin(e){this.state.currentMessage?.productId===e&&this.stopCurrentMessage(),this.state.messages.delete(e),this.state.plugins.delete(e)}isDisplayingMessage(){return!!(this.state.currentMessage||[...this.state.plugins.values()].reduce((e,t)=>e||t.isDisplayingMessage(),!1))}getMessages(e){return this.state.messages.get(e)??new Map}async startMessage(e,t,r,n={},i){if((0,a("8HM6e").isChoreographerSuppressed)()){if(this.hasMessageRecord(e,t)){let r=this.ensureMessageRecord(e,t);return await r.start?.()??!0?(r.onStart?.(),a("TTRxY").MessageDeliveryStatus.STARTED):a("TTRxY").MessageDeliveryStatus.CANCELED}return a("TTRxY").MessageDeliveryStatus.UNREGISTERED}let s=new(0,a("labik").DebugLogger)(e,t),o=a("TTRxY").MessageAction.START,l=performance.now();s.log({info:{phase:o,timestamp:l},verbose:{phase:o,timestamp:l}});let c={...n,productId:e,messageId:t},u=new(0,a("7cTYp").Logger)(o,t,c,r,i);try{if(!this.hasMessageRecord(e,t))return u.unregistered(),s.log({verbose:{phase:o,disposition:a("TTRxY").MessageDeliveryStatus.UNREGISTERED}}),a("TTRxY").MessageDeliveryStatus.UNREGISTERED;if(this.state.shouldQueueMessages)return s.log({verbose:{phase:o,disposition:`queued behind ${this.state.queueingBehindMessage?.productId} ${this.state.queueingBehindMessage?.messageId}`}}),this.queueMessage(e,t,r,n,i);if(this.state.isDisabled||this.isDisplayingMessage())return u.blocked({blockedByProductId:this.state.currentMessage?.productId,blockedByMessageId:this.state.currentMessage?.messageId}),s.log({verbose:{phase:o,disposition:a("TTRxY").MessageDeliveryStatus.BLOCKED,blockedByProductId:this.state.currentMessage?.productId,blockedByMessageId:this.state.currentMessage?.messageId}}),a("TTRxY").MessageDeliveryStatus.BLOCKED;let l=this.ensureMessageRecord(e,t);if(this.queueMessages(e,t),await l.start?.()??!0)return l.onStart?.(),u.started(),this.disablePlugins(i),this.setMessageTtl(e,t,r,n),this.destroyMessageQueue(i),s.log({verbose:{phase:o,disposition:a("TTRxY").MessageDeliveryStatus.STARTED}}),a("TTRxY").MessageDeliveryStatus.STARTED;return this.processQueuedMessage(),s.log({verbose:{phase:o,disposition:a("TTRxY").MessageDeliveryStatus.CANCELED}}),a("TTRxY").MessageDeliveryStatus.CANCELED}catch(e){return u.error({reason:e.message}),s.log({verbose:{phase:o,disposition:a("TTRxY").MessageDeliveryStatus.ERROR}}),a("TTRxY").MessageDeliveryStatus.ERROR}}async stopMessageInternal(e,t,r,n={},i,s=!1){if((0,a("8HM6e").isChoreographerSuppressed)()){if(this.hasMessageRecord(e,t)){let r=this.ensureMessageRecord(e,t);return await r.stop?.()??!0?(r.onStop?.(),a("TTRxY").MessageDeliveryStatus.STOPPED):a("TTRxY").MessageDeliveryStatus.CANCELED}return a("TTRxY").MessageDeliveryStatus.UNREGISTERED}let o=new(0,a("labik").DebugLogger)(e,t),l=a("TTRxY").MessageAction.STOP,c=performance.now();o.log({info:{phase:l,timestamp:c},verbose:{phase:l,timestamp:c}});let u={...n,productId:e,messageId:t},d=new(0,a("7cTYp").Logger)(l,t,u,r,i);try{if(!this.hasMessageRecord(e,t))return d.unregistered(),o.log({verbose:{phase:l,disposition:a("TTRxY").MessageDeliveryStatus.UNREGISTERED}}),a("TTRxY").MessageDeliveryStatus.UNREGISTERED;let r=this.ensureMessageRecord(e,t);this.isCurrentMessage(e,t)&&this.queueMessages(e,t);let n=await r.stop?.()??!0;if(n||s)return this.isCurrentMessage(e,t)&&(r.onStop?.(),d.stopped(s?{forceStop:s,didStop:n}:void 0),this.clearMessageTtl(),this.enablePlugins()),this.processQueuedMessage(),o.log({verbose:{phase:l,disposition:a("TTRxY").MessageDeliveryStatus.STOPPED}}),a("TTRxY").MessageDeliveryStatus.STOPPED;return this.destroyMessageQueue(i),o.log({verbose:{phase:l,disposition:a("TTRxY").MessageDeliveryStatus.CANCELED}}),a("TTRxY").MessageDeliveryStatus.CANCELED}catch(e){return d.error({reason:e.message}),o.log({verbose:{phase:l,disposition:a("TTRxY").MessageDeliveryStatus.ERROR}}),a("TTRxY").MessageDeliveryStatus.ERROR}}async stopMessage(e,t,r,n={},i){return this.stopMessageInternal(e,t,r,n,i)}registerPlugin(e,t){if(this.state.plugins.has(e))throw Error(`Choreographer plugin already registered for ${e}!`);return this.state.plugins=this.state.plugins.set(e,t),this.state.isDisabled&&t.disable(),()=>{this.unregisterPlugin(e)}}ensureMessageRecord(e,t){let r=this.state.messages.get(e);r||(r=new Map,this.state.messages.set(e,r));let n=r.get(t);return n||(n={},r.set(t,n)),n}hasMessageRecord(e,t){return!!this.state.messages.get(e)?.has?.(t)}on(e,t,r={},n={}){let i={...this.ensureMessageRecord(e,t),...r,...n};this.state.messages.get(e).set(t,i)}onStart(e,t,r,n){this.on(e,t,{start:r},n)}onStop(e,t,r,n={}){this.on(e,t,{stop:r},n)}off(e,t){this.state.messages.get(e)?.delete?.(t)}}}),o("TTRxY",function(t,r){e(t.exports,"MessageEventType",()=>n),e(t.exports,"MessageDeliveryStatus",()=>i),e(t.exports,"ProductIds",()=>a),e(t.exports,"IntegratedChoreographerMessageTypesEnum",()=>o),e(t.exports,"MessageAction",()=>l);let n={START:"start",STOP:"stop"},i={BLOCKED:"blocked",CANCELED:"canceled",ERROR:"error",STARTED:"started",STOPPED:"stopped",UNREGISTERED:"unregistered"};var s,a=((s={}).CONFLUENCE="confluence",s.ENGAGEKIT="Engagekit",s.INTERCOM="intercom",s.JIRA="jira",s.PENDO="pendo",s.CLOUDADMIN="cloudadmin",s.BITBUCKET="bitbucket",s.POST_OFFICE="post-office",s);let o=["engagement","marketing"],l={START:"messageStart",STOP:"messageStop"}}),o("labik",function(t,r){function n(){return window.choreographerLoggingLevel}e(t.exports,"DebugLogger",()=>i);class i{constructor(e,t){this.log=e=>{[...Object.keys(e)].forEach(t=>{var r;r={productId:this.state.productId,messageId:this.state.messageId,...e[t]??{},..."verbose"===t?{timestamp:performance.now()}:{}},n()===t&&console.table(r)})},this.trace=e=>{[...Object.keys(e)].forEach(t=>{var r,i,s;r=this.state.productId,i=this.state.messageId,s=`${e[t]}${"verbose"===t?` (${performance.now()})`:""}`,n()===t&&console.log(`CHOREOGRAPHER - ${r} - ${i} - ${s}`)})},this.state={productId:e,messageId:t}}}}),o("7cTYp",function(t,r){e(t.exports,"Logger",()=>n);class n{constructor(e,t,r,n,i){this.state={actionSubject:e,actionSubjectId:t,metricsData:r,analyticsClient:n,plugin:i}}sendOperationalEvent(e,t){let{analyticsClient:r,actionSubject:n,actionSubjectId:i,metricsData:s,plugin:a}=this.state,o={source:"choreographer",action:e,actionSubject:n,actionSubjectId:i,attributes:{...s??{},...t??{}},tags:["postOffice"]};(a?.shouldLogEvent?.(o)??!0)&&r.sendOperationalEvent(o)}blocked(e){this.sendOperationalEvent(a("TTRxY").MessageDeliveryStatus.BLOCKED,e)}error(e){this.sendOperationalEvent(a("TTRxY").MessageDeliveryStatus.ERROR,e)}unregistered(e){this.sendOperationalEvent(a("TTRxY").MessageDeliveryStatus.UNREGISTERED,e)}started(e){this.sendOperationalEvent(a("TTRxY").MessageDeliveryStatus.STARTED,e)}stopped(e){this.sendOperationalEvent(a("TTRxY").MessageDeliveryStatus.STOPPED,e)}}}),o("8HM6e",function(t,r){e(t.exports,"isChoreographerSuppressed",()=>n);function n(){return a("iEN9D").default.initializeCompleted()&&a("iEN9D").default.getExperimentValue("post-office_ipm_choreographer_new_tenants","supressChoreographer",!1)}}),o("4YUjU",function(t,r){e(t.exports,"ChoreographerPlugin",()=>n);class n{constructor(e,t,r={}){this.state={isDisabled:!1,isDisplayingMessage:!1,metaMetricsData:r,productId:e,unregisterPlugin:()=>{}},this.analyticsClient=this.createAnalyticsClient(t),this.finalizers={onStart:()=>this.blockDisplayState(),onStop:()=>this.clearDisplayState()},this.state.unregisterPlugin=this.registerPlugin(e)}destroy(){this.state.unregisterPlugin()}isDisplayingMessage(){return this.state.isDisplayingMessage}blockDisplayState(){this.state.isDisplayingMessage=!0}clearDisplayState(){this.state.isDisplayingMessage=!1}disable(){this.state.isDisabled=!0}enable(){this.state.isDisabled=!1}async startMessage(e,t={}){return a("9ACoj").Choreographer.getInstance().startMessage(this.state.productId,e,this.analyticsClient,{...this.state.metaMetricsData,...t},this)}async stopMessage(e,t={}){return a("9ACoj").Choreographer.getInstance().stopMessage(this.state.productId,e,this.analyticsClient,{...this.state.metaMetricsData,...t})}on(e,t={}){return a("9ACoj").Choreographer.getInstance().on(this.state.productId,e,t,this.finalizers)}onStart(e,t){return a("9ACoj").Choreographer.getInstance().onStart(this.state.productId,e,t,this.finalizers)}onStop(e,t){return a("9ACoj").Choreographer.getInstance().onStop(this.state.productId,e,t,this.finalizers)}off(e){return a("9ACoj").Choreographer.getInstance().off(this.state.productId,e)}registerPlugin(e){return a("9ACoj").Choreographer.getInstance().registerPlugin(e,this)}createAnalyticsClient(e){return new(0,a("buAWB").default)({env:e,product:"postOffice",origin:a("iZhen").originType.WEB})}}});const h=204;o("5Xk79",function(t,r){async function n(e){if(!e.ok)throw Error(`${e.status}: ${await e.text()}`);return e}async function i(e){return e.ok||await e.text(),e}function s(e,t){return function e({input:t,reqOptions:r,numRetries:n=0,maxRetries:i=0,waitTimeMs:s=0,backoffFn:l=o}){if(n>i)throw Error(`Failed to fetch ${t}: Max retries exceeded`);let c={...r,credentials:a("2qBHI").default.includes(location.host)?"include":"same-origin"},u=()=>new Promise(a=>{setTimeout(()=>{a(e({input:t,reqOptions:r,numRetries:n+1,maxRetries:i,waitTimeMs:l(s),backoffFn:l}))},s)});return fetch(t,c).then(e=>e.status>=500&&e.status<=599?u():e).catch(()=>u())}({input:e,reqOptions:t,numRetries:0,maxRetries:3,waitTimeMs:1e3,backoffFn:o})}function o(e){let t=2*e,r=.1*t*Math.random();return t+r}e(t.exports,"errorIfNotOk",()=>n),e(t.exports,"pullResponseTextIfNotOk",()=>i),e(t.exports,"stargateFetch",()=>s)}),o("2qBHI",function(t,r){e(t.exports,"default",()=>n);var n=["bitbucket-pipelines.dev.public.atl-paas.net","bitbucket-pipelines.staging.public.atl-paas.net","bitbucket-pipelines.prod.public.atl-paas.net"]}),o("5pZVQ",function(r,n){e(r.exports,"EngagementProvider",()=>p);var i=a("2OMIu"),s=a("5uXOq"),o=a("f8l56"),l=a("bxYf9"),c=a("dyczo");function u(e,t){let r=new(0,a("hDX9C").default)({payload:{action:"exposed",actionSubject:"feature",actionSubjectId:e.flagKey,source:"engagement-platform",attributes:e}});Promise.resolve(t).then(e=>{e.sendTrackEvent(r.payload)})}function d(e,t,r){return{reason:"RULE_MATCH",ruleId:"engagement.inproduct",flagKey:`engagement.inproduct.${e}`,value:t,...r}}async function h(e,t,r,n,i,s){let{locale:o}=t,{message:l,component:c}=e;if(l.holdout){await (0,a("1gxex").startMessage)({cloudId:t.cloudId,stargateUrl:t.stargateUrl,messageId:l.messageId,variationId:l.variationId,orgId:t.orgId,workspaceId:t.workspaceId},i),await (0,a("1gxex").stopMessage)({cloudId:t.cloudId,stargateUrl:t.stargateUrl,messageId:l.messageId,orgId:t.orgId,workspaceId:t.workspaceId},i),u(d(l.messageId,"holdout",{locale:o}),n);return}if(0===c.componentId){let c=await (0,a("1gxex").startMessage)({cloudId:t.cloudId,stargateUrl:t.stargateUrl,messageId:l.messageId,variationId:l.variationId,orgId:t.orgId,workspaceId:t.workspaceId},i);i?.enableChoreographer&&s?.onMessageDisposition&&s.onMessageDisposition(c?a("TTRxY").MessageDeliveryStatus.STARTED:a("TTRxY").MessageDeliveryStatus.BLOCKED),c&&(u(d(l.messageId,l.variationId,{locale:o}),n),r.dispatch((0,a("kjEZw").setCurrent)(e)))}else u(d(l.messageId,l.variationId,{locale:o}),n),r.dispatch((0,a("kjEZw").setCurrent)(e))}class p extends s.Component{static{this.componentConfig=new Map}static{this.childContextTypes={subscribeEngagementState:t(a("8rCP3")).func,setComponentConfig:t(a("8rCP3")).func}}static{this.defaultProps={eventTarget:t(c)}}static{this.hasInitializedAtLeastOneEngagementProvider=!1}constructor(e){super(e),this.onStoreChange=e=>{let{createAnalyticsEvent:t}=this.props,{locale:r}=this.getConfig();if(e.initialized){if(!p.hasInitializedAtLeastOneEngagementProvider){this.sendOperationalEventWithClient({action:"loaded",actionSubject:"messages",actionSubjectId:void 0,source:"engagekit",attributes:{locale:r}});let e=(0,a("kvwcw").getBrowserInfo)();this.onEvent(t({event:"engagement.inproduct.loaded",properties:{browser:e.name,browserVersion:e.version}})),p.hasInitializedAtLeastOneEngagementProvider=!0}this.analyticsEventQueue.flush(this.onEvent),this.unsubscribeFromStore&&this.unsubscribeFromStore()}},this.onEvent=e=>{let r,n=this.getState();if(!n.initialized){this.analyticsEventQueue.enqueue(e)||this.fireQueueOverflowEvent();return}let{eventTarget:i,store:s,analyticsClientInstance:l}=this.props,c=this.getConfig(),{current:u,messageMapping:d}=n,f=function(e){let t={...e.payload,context:{}};return Object.assign(t.context,...e.context),t}(e);if(i.dispatchEvent((0,a("1V1R5").default)({eventName:"ep.analyticEvent",canBubble:!1,cancellable:!1,detail:f})),!(0,a("7CfdH").isMessagingEnabled)()||u)return;let g=Array.from(d.keys()).find(e=>t(o)(f,e));if(!g)return;let m=d.get(g);if(m.component?.componentType){let e=this.getConfigId(m.component.componentType,m.component.target);r=p.componentConfig.get(e)}h(m,c,s,l,this.getComponentCoordinationOptions(r),r)},this.onEngagementEvent=e=>{let{action:t,clickType:r,ekMessageId:n,ekVariationId:i,ekComponentId:s,ekComponentType:a,ekIsLast:o}=e.payload,{locale:l}=this.getConfig(),c={messageId:n,variationId:i,componentIndex:s,locale:l};"click"===t?(this.handleClickEvent(n,i,s),c.buttonType=r,this.sendUIEventWithClient({action:"clicked",actionSubject:"button",actionSubjectId:`${r}Button`,source:`engagement_${a}`,attributes:c})):("shown"===t&&(c.componentType=a,this.sendScreenEventWithClient({name:`engagement_${a}`,attributes:c})),"hidden"===t&&(c.isLast=o,this.sendUIEventWithClient({action:"hid",actionSubject:"component",actionSubjectId:void 0,source:`engagement_${a}`,attributes:c}))),this.onEvent(e)},this.subscribeEngagementState=e=>{let{store:t}=this.props;return e(t.getState()),t.subscribe(()=>{e(t.getState())})},this.getComponentCoordinationOptions=e=>{let t=!!this.props.coordinationOptions?.enableChoreographer;return{...this.props.coordinationOptions,enableChoreographer:e?.messageType?(0,a("kmPbm").shouldBeChoreographed)(e,{enableChoreographer:!0}):t}},this.getConfigId=(e,t)=>t?`${e}-${t}`:e,this.setComponentConfig=(e,t,r)=>{let n=this.getConfigId(e,r);return p.componentConfig.set(n,t),()=>this.removeComponentConfig(n)},this.removeComponentConfig=e=>{p.componentConfig.has(e)&&p.componentConfig.delete(e)};let{analyticsClientInstance:r}=this.props;this.sendUIEventWithClient=a("6DQWS").sendUIEvent.bind(null,r),this.sendScreenEventWithClient=a("6DQWS").sendScreenEvent.bind(null,r),this.sendOperationalEventWithClient=a("6DQWS").sendOperationalEvent.bind(null,r),this.analyticsEventQueue=new(0,a("jch2y").default)(100),this.unsubscribeFromStore=this.subscribeEngagementState(this.onStoreChange),this.fireQueueOverflowEvent=t(l)(()=>{})}getConfig(){let{config:e}=this.getState();return e}getChildContext(){return{subscribeEngagementState:this.subscribeEngagementState,setComponentConfig:this.setComponentConfig}}getState(){return this.props.store.getState()}getActiveMessage(){return this.getState().current}async completeMessage(e,t){let r=this.getConfig(),n=this.getComponentCoordinationOptions(t),i=await (0,a("1gxex").stopMessage)({cloudId:r.cloudId,stargateUrl:r.stargateUrl,messageId:e,orgId:r.orgId,workspaceId:r.workspaceId},n);n.enableChoreographer&&t?.onMessageDisposition&&t.onMessageDisposition(i?a("TTRxY").MessageDeliveryStatus.STOPPED:a("TTRxY").MessageDeliveryStatus.CANCELED)}handleClickEvent(e,t,r){let n,i=this.getActiveMessage();if(i&&i.messageId===e&&i.variationId===t&&i.componentId===r){if(i.componentType){let e=this.getConfigId(i.componentType,i.target);n=p.componentConfig.get(e)}i.isLast&&this.completeMessage(e,n),this.props.store.dispatch((0,a("kjEZw").clearCurrent)())}}componentWillUnmount(){this.unsubscribeFromStore&&this.unsubscribeFromStore()}render(){return(0,i.jsx)(a("bvUB1").default,{channel:"*",onEvent:this.onEvent,children:(0,i.jsx)(a("bvUB1").default,{channel:"engagement",onEvent:this.onEngagementEvent,children:this.props.children})})}}}),o("kmPbm",function(t,r){e(t.exports,"shouldBeChoreographed",()=>s),e(t.exports,"wrapComponentForChoreographer",()=>o),e(t.exports,"wrapToggleableComponentForChoreographer",()=>l);var n=a("2OMIu"),i=a("5uXOq");let s=(e,t)=>!!t?.enableChoreographer&&e?.messageType!==void 0&&a("TTRxY").IntegratedChoreographerMessageTypesEnum.includes(e.messageType),o=e=>{function t({shouldBeChoreographed:t,withChoreographedRender:r,...s}){let a=(0,i.useMemo)(()=>r(e),[r]);if(t(s)){let{messageType:e,...t}=s;return(0,n.jsx)(a,{...t})}let{messageType:o,messageId:l,onMessageDisposition:c,...u}=s;return(0,n.jsx)(e,{...u})}return t.displayName=`ChoreographerWrapped${(e.displayName??e.name)||"Component"}`,t},l=(e,t)=>{function r({shouldBeChoreographed:r,withChoreographedToggle:s,...a}){let o=(0,i.useMemo)(()=>s(e,t),[s]);if(r(a)){let{messageType:e,...t}=a;return(0,n.jsx)(o,{...t})}let{messageType:l,messageId:c,onMessageDisposition:u,...d}=a;return(0,n.jsx)(e,{...d})}return r.displayName=`ChoreographerWrapped${(e.displayName??e.name)||"Component"}`,r}}),o("6DQWS",function(t,r){function n(e,t){Promise.resolve(e).then(e=>{e.sendScreenEvent(t)})}function i(e,t){Promise.resolve(e).then(e=>{e.sendUIEvent(t)})}function s(e,t){Promise.resolve(e).then(e=>{e.sendOperationalEvent(t)})}e(t.exports,"sendScreenEvent",()=>n),e(t.exports,"sendUIEvent",()=>i),e(t.exports,"sendOperationalEvent",()=>s)}),o("kvwcw",function(t,r){e(t.exports,"getBrowserInfo",()=>s);let n=[{name:"IE",pattern:/Trident\/.*; rv:([^;)]+)/},{name:"Chrome",pattern:/Chrome\/([^ )]+)/},{name:"Firefox",pattern:/Firefox\/([^ )]+)/}],i={name:"unknown",version:"unknown"};function s(e){if(!window.navigator)return i;for(let t of(e||(e=window.navigator.userAgent),n)){let r=e.match(t.pattern);if(r)return{name:t.name,version:r[1]}}return i}}),o("1V1R5",function(t,r){e(t.exports,"default",()=>n);var n=({eventName:e,canBubble:t,cancellable:r,detail:n})=>{let i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t,r,n),i}}),o("jch2y",function(t,r){e(t.exports,"default",()=>n);class n{constructor(e){this.queue=[],this.maxSize=e}enqueue(e){return this.queue.length!==this.maxSize&&(this.queue.push(e),!0)}flush(e){this.queue.forEach(e),this.queue=[]}getSize(){return this.queue.length}}}),o("j7rCb",function(t,r){e(t.exports,"setCurrent",()=>s),e(t.exports,"LazyPhaseContext",()=>o),e(t.exports,"useLazyPhase",()=>l);var n=a("5uXOq");let i=a("fVdZG").PHASE.PAINT,s=e=>{i=e,a("adSzG").LISTENERS.slice(0).forEach(t=>t(e))},o=(0,n.createContext)({subscribe:(0,a("cRRE7").createSubscribe)(a("adSzG").LISTENERS),currentValue:()=>i,api:{startNextPhase:()=>{s(a("fVdZG").PHASE.AFTER_PAINT)},resetPhase:()=>s(a("fVdZG").PHASE.PAINT)}}),l=()=>(0,n.useContext)(o).api}),o("fVdZG",function(t,r){e(t.exports,"PHASE",()=>n),e(t.exports,"COLLECTED",()=>i);let n={PAINT:0,AFTER_PAINT:1,LAZY:2},i=new Map}),o("adSzG",function(t,r){e(t.exports,"LISTENERS",()=>n);let n=[]}),o("cRRE7",function(t,r){e(t.exports,"createSubscribe",()=>n);let n=e=>t=>(e.push(t),()=>{let r=e.indexOf(t);-1!==r&&e.splice(r,1)})}),o("bCf8q",function(t,r){e(t.exports,"createLoaderError",()=>i),e(t.exports,"isLoaderError",()=>s);let n=Symbol.for("@atlassian/react-loosely-lazy/loader-error"),i=e=>"object"==typeof e?Object.assign(e,{[n]:!0}):e,s=e=>Object.getOwnPropertySymbols(e).includes(n)}),o("7hSN4",function(r,n){e(r.exports,"LazySuspense",()=>s);var i=a("5uXOq");class s extends i.Component{constructor(e){super(e),this.state={getIsBoundaryInitialized:()=>!!this.hydrationFallback,fallback:this.props.fallback,setFallback:e=>{this.hydrationFallback!==e&&(this.hydrationFallback=e,this.mounted&&!(0,a("ddkdN").getConfig)().react18&&this.forceUpdate())},name:this.props.name},this.hydrationFallback=null,this.mounted=!1,this.renderedSuspenseFallback=!1,this.DynamicFallback=({children:e,outsideSuspense:t})=>((0,i.useLayoutEffect)(()=>(!t&&(0,a("VSDnB").fg)("react-loosely-lazy_unmount_hydration_fallback")&&(this.renderedSuspenseFallback=!0),()=>{t||this.state.setFallback(null)}),[t]),e(t?this.hydrationFallback?this.hydrationFallback:null:this.hydrationFallback?null:this.props.fallback)),this.DynamicReact18Fallback=({children:e})=>e(((0,i.useLayoutEffect)(()=>((0,a("VSDnB").fg)("react-loosely-lazy_unmount_hydration_fallback")&&(this.renderedSuspenseFallback=!0),()=>{this.state.setFallback(null)}),[]),(0,a("ddkdN").getConfig)().mode===a("7Ewwd").MODE.HYDRATE)?this.props.fallback:this.hydrationFallback||this.props.fallback),this.DynamicFallback.displayName="DynamicFallback",this.DynamicReact18Fallback.displayName="DynamicFallback"}componentDidMount(){this.mounted=!0,!this.renderedSuspenseFallback&&(0,a("VSDnB").fg)("react-loosely-lazy_unmount_hydration_fallback")&&this.state.setFallback(null)}shouldComponentUpdate(){let{mode:e,react18:t}=(0,a("ddkdN").getConfig)();return!t||e!==a("7Ewwd").MODE.HYDRATE||!this.hydrationFallback}renderFallback(e){let{DynamicFallback:r}=this;return t(i).createElement(r,{outsideSuspense:e},e=>e)}renderReact18Fallback(){let{DynamicReact18Fallback:e}=this;return t(i).createElement(e,null,e=>e)}renderServer(){return t(i).createElement(a("7In2L").LazySuspenseContext.Provider,{value:this.state},this.props.children)}renderClient(){return t(i).createElement(a("7In2L").LazySuspenseContext.Provider,{value:this.state},t(i).createElement(i.Suspense,{fallback:this.renderFallback(!1)},this.props.children),(!this.mounted||this.hydrationFallback)&&this.renderFallback(!0))}render(){return(0,a("ddkdN").getConfig)().react18?t(i).createElement(a("7In2L").LazySuspenseContext.Provider,{value:this.state},t(i).createElement(i.Suspense,{fallback:this.renderReact18Fallback()},this.props.children)):(0,a("7AnOd").isNodeEnvironment)()?this.renderServer():this.renderClient()}}}),o("7AnOd",function(t,r){e(t.exports,"getExport",()=>n),e(t.exports,"displayNameFromId",()=>i),e(t.exports,"isNodeEnvironment",()=>s),e(t.exports,"attrToProp",()=>a);let n=e=>"default"in e?e.default:e,i=e=>e.split("/").slice(-3).join("/")||"Component",s=()=>"undefined"==typeof window||"nodejs"===window.name;function a(e,t){switch(t.name){case"style":break;case"class":e.className=t.value;break;case"crossorigin":e.crossOrigin=t.value;break;default:e[t.name]=t.value}return e}}),o("jJo8A",function(t,r){e(t.exports,"default",()=>n);function n(e){for(var t,r=e.length,n=r^r,i=0;r>=4;)t=(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))*0x5bd1e995+(((t>>>16)*0x5bd1e995&65535)<<16),t^=t>>>24,n=(65535&n)*0x5bd1e995+(((n>>>16)*0x5bd1e995&65535)<<16)^(t=(65535&t)*0x5bd1e995+(((t>>>16)*0x5bd1e995&65535)<<16)),r-=4,++i;switch(r){case 3:n^=(255&e.charCodeAt(i+2))<<16;case 2:n^=(255&e.charCodeAt(i+1))<<8;case 1:n^=255&e.charCodeAt(i),n=(65535&n)*0x5bd1e995+(((n>>>16)*0x5bd1e995&65535)<<16)}return n^=n>>>13,n=(65535&n)*0x5bd1e995+(((n>>>16)*0x5bd1e995&65535)<<16),((n^=n>>>15)>>>0).toString(36)}}),o("ddkdN",function(t,r){e(t.exports,"getConfig",()=>c),e(t.exports,"setConfig",()=>u),e(t.exports,"MODE",()=>a("7Ewwd").MODE);let n=void 0,i={publicPath:"/",assets:{}},s=a("7Ewwd").MODE.HYDRATE,o=()=>{},l={crossOrigin:n,manifest:i,mode:s,retry:2,react18:!1,onChunkRender:o,usePostTaskPhases:!1,trackDuplicateLazyIds:!1},c=()=>l,u=e=>{l.crossOrigin=e.crossOrigin??n,l.manifest=e.manifest??i,l.mode=e.mode??s,l.retry=e.retry??2,l.react18=e.react18??!1,l.onChunkRender=e.onChunkRender??o,l.usePostTaskPhases=e.usePostTaskPhases??!1,l.trackDuplicateLazyIds=e.trackDuplicateLazyIds??!1}}),o("7Ewwd",function(t,r){e(t.exports,"MODE",()=>n);let n={RENDER:"RENDER",HYDRATE:"HYDRATE"}}),o("7In2L",function(r,n){e(r.exports,"LazySuspenseContext",()=>s);var i=a("5uXOq");let s=(0,i.createContext)({getIsBoundaryInitialized:()=>!1,fallback:t(i).createElement(i.Fragment,null),setFallback:()=>{console.warn("Missing <LooselySuspense /> boundary")}})}),o("5poak",function(t,r){e(t.exports,"WaitContext",()=>n);let n=(0,a("5uXOq").createContext)({subscribe:()=>a("dwdrq").noopCleanup,currentValue:()=>1})}),o("dwdrq",function(t,r){e(t.exports,"noopCleanup",()=>n);let n=()=>{}}),o("kxZPA",function(t,r){function n(){}function i(e,{defer:t=a("fVdZG").PHASE.PAINT,moduleId:r="",ssr:s=!0}={}){let o=(0,a("7AnOd").isNodeEnvironment)(),l=(0,a("jJo8A").default)(r),c=o?(0,a("WOtQc").createComponentServer)({dataLazyId:l,defer:t,loader:e,moduleId:r,ssr:s}):(0,a("jdTx8").createComponentClient)({dataLazyId:l,defer:t,deferred:(0,a("atSTR").createDeferred)({loader:()=>{let{retry:r,usePostTaskPhases:i}=(0,a("ddkdN").getConfig)(),s=i?()=>(function(e){switch(e){case a("fVdZG").PHASE.PAINT:return(0,a("iyWSs").postTask)(n,{priority:"user-blocking"});case a("fVdZG").PHASE.AFTER_PAINT:return(0,a("iyWSs").postTask)(n,{priority:"user-visible"});case a("fVdZG").PHASE.LAZY:return(0,a("iyWSs").postTask)(n,{priority:"background"});default:return Promise.resolve()}})(t).then(()=>e()):e;return(0,a("aoIf8").retry)(s,{delay:a("fCMWS").RETRY_DELAY,factor:a("fCMWS").RETRY_FACTOR,maxAttempts:r})},preload:e}),moduleId:r});return c.displayName=`Lazy(${(0,a("7AnOd").displayNameFromId)(r)})`,Object.assign(c,{getAssetUrls:()=>{let{manifest:e}=(0,a("ddkdN").getConfig)();return(0,a("a6rDZ").getAssetUrlsFromId)(e,r)},preload:n=>{let i=n??(t===a("fVdZG").PHASE.PAINT?a("fCMWS").PRIORITY.HIGH:a("fCMWS").PRIORITY.LOW);return(0,a("qkBMj").preloadAsset)({loader:e,moduleId:r,priority:i})}})}e(t.exports,"lazyForPaint",()=>o),e(t.exports,"lazyAfterPaint",()=>l),e(t.exports,"lazy",()=>c);let s={lazyForPaint:{ssr:!0,defer:a("fVdZG").PHASE.PAINT},lazyAfterPaint:{ssr:!0,defer:a("fVdZG").PHASE.AFTER_PAINT},lazy:{ssr:!1,defer:a("fVdZG").PHASE.LAZY}};function o(e,t){return i(e,{...s.lazyForPaint,...t||{}})}function l(e,t){return i(e,{...s.lazyAfterPaint,...t||{}})}function c(e,t){return i(e,{...s.lazy,...t||{}})}}),o("a6rDZ",function(t,r){e(t.exports,"getAssetUrlsFromId",()=>n);let n=(e,t)=>{if(e.assets&&e.assets[t])return e.assets[t].map(t=>`${e.publicPath}${t}`)}}),o("iyWSs",function(t,r){async function n(e){return e()}function i(e){if("scheduler"in e&&"undefined"!==e.scheduler)return e.scheduler}function s(e,t){let r=i(globalThis);return r?r.postTask(e,t):"background"===t.priority?a("1mC3O").then(()=>i(globalThis).postTask(e,t)):n(e)}e(t.exports,"postTask",()=>s)}),o("1mC3O",function(e,t){e.exports=a("28QjX")(4)("h5DhB").then(()=>a("9wHM1"))}),o("28QjX",function(e,t){e.exports=e=>t=>import(a("kPuw4").shardUrl(a("dy9lH").resolve(t),e))}),o("kPuw4",function(t,r){var n;e(t.exports,"shardUrl",()=>n,e=>n=e);let i=/-\d+$/;function s(e){if(!i.test(e))return e;let t=e.lastIndexOf("-");return e.slice(0,t)}n=function(e,t){var r;let n,i,a,o;return globalThis.__ATLASPACK_ENABLE_DOMAIN_SHARDS?(r=function(e){let t=e.lastIndexOf("/");if(-1===t||t===e.length-1)throw Error("Expected an absolute URL with a file name, unable to apply sharding.");return e.slice(t+1)}((n=new URL(e)).pathname),i=t+1,(a=r.split("").reduce((e,t)=>{let r=(e<<i)-e+t.charCodeAt(0);return r&r},0)%i)<0&&(a+=i),o=a,n.hostname=function(e,t){let r=e.indexOf("."),n=0===t?"":`-${t-1}`;if(-1===r)return`${s(e)}${n}`;let i=s(e.slice(0,r));return`${i}${n}${e.slice(r)}`}(n.hostname,o),n.toString()):e}}),o("dy9lH",function(t,r){e(t.exports,"register",()=>n,e=>n=e),e(t.exports,"resolve",()=>i,e=>i=e);var n,i,s=new Map;n=function(e,t){for(var r=0;r<t.length-1;r+=2)s.set(t[r],{baseUrl:e,path:t[r+1]})},i=function(e){var t=s.get(e);if(null==t)throw Error("Could not resolve bundle with id "+e);return new URL(t.path,t.baseUrl).toString()}}),o("jdTx8",function(r,n){e(r.exports,"createComponentClient",()=>l);var i=a("5uXOq");a("1nF7O");var s=a("bajNy");let o=new Set;function l({defer:e,deferred:r,dataLazyId:n,moduleId:l}){let c=(0,i.lazy)(()=>r.promise);return u=>{let[d,h]=(0,i.useState)(()=>({noWait:void 0,phase:e!==a("fVdZG").PHASE.AFTER_PAINT,preloaded:e!==a("fVdZG").PHASE.AFTER_PAINT,started:!1})),{usePostTaskPhases:p,trackDuplicateLazyIds:f}=(0,a("ddkdN").getConfig)(),{setFallback:g,getIsBoundaryInitialized:m}=(0,i.useContext)(a("7In2L").LazySuspenseContext),v=(0,i.useContext)(a("cEm1b").ProfilerContext).current,y=()=>{let e;if(p){if(d.started)return}else if(d.started||!d.phase||!d.noWait)return;if(d.started=!0,v){let t={identifier:l};e=()=>{v.onLoadComplete(t)},v.onLoadStart(t)}let t=r.start().catch(e=>{h(()=>{throw(0,a("bCf8q").createLoaderError)(e)})});e&&t.then(e)};return p?(0,i.useMemo)(()=>{y()},[]):((0,a("lO9oD").useSubscription)({context:a("5poak").WaitContext,load:y,onValue:e=>d.noWait=1===e}),e===a("fVdZG").PHASE.AFTER_PAINT&&(0,a("lO9oD").useSubscription)({context:a("j7rCb").LazyPhaseContext,load:y,onValue:t=>d.phase=t>=e})),(0,i.useMemo)(()=>{if(p&&m())return;let e=a("fVdZG").COLLECTED.get(n)?.length||0,r=(a("fVdZG").COLLECTED.get(n)||[]).shift();r&&(f&&e>1&&!o.has(n)&&(o.add(n),(0,s.default)({error:Error(`Duplicate components for ${n} found, module name is ${l}, total count: ${o.size}`),meta:{id:"rll-duplicate-error",packageName:"reactLooselyLazy",teamName:"jfp-magma"},attributes:{moduleName:l}})),g((0,a("ddkdN").getConfig)().mode===a("7Ewwd").MODE.RENDER?t(i).createElement(a("oq2LV").PlaceholderFallbackRender,{id:n,content:r}):t(i).createElement(a("2IUgd").PlaceholderFallbackHydrate,{id:n,content:r})))},[g,m,p,f]),(0,i.useMemo)(()=>{let{mode:e,react18:r}=(0,a("ddkdN").getConfig)();e===a("7Ewwd").MODE.HYDRATE&&r&&g(t(i).createElement(t(i).Fragment,null))},[g]),t(i).createElement(c,u)}}}),o("1nF7O",function(t,r){e(t.exports,"fireErrorAnalytics",()=>a("bajNy").default),e(t.exports,"initialiseErrorAnalyticsClient",()=>a("bajNy").initialiseErrorAnalyticsClient),e(t.exports,"ReportErrors",()=>a("kRBfD").default),a("9ZBi7"),a("bajNy"),a("kRBfD")}),o("9ZBi7",function(t,r){e(t.exports,"captureException",()=>i);var n=a("e4JR5");let i=(e,t,r={})=>n.default.captureException(e,t,r)}),o("e4JR5",function(r,n){e(r.exports,"default",()=>u);var i=a("kGsr8");let s=e=>{let r=/(?:src\/entry|src|assets)\/([^,./]+)/g,n=[],s=r.exec(e);for(;s;)n.push(s[1]),s=r.exec(e);return t(i)(n)},o=(e,t)=>{if(!t)return e;let r=t.originalException||t.syntheticException;if(!r)return e;let n=r.stack;if(!n)return e;let i=s(n);return i.length?(e.tags={...e.tags,fragment:i[0]},i.length>1&&(e.extra={...e.extra,allRelevantFragments:i})):e.tags={...e.tags,fragment:"unknown"},e},l=e=>e.filter(({name:e})=>"Breadcrumbs"!==e),c=["packageName","teamName"];var u={installGlobalHandler:(e,t,r)=>{let n=a("3kk8J").getCurrentHub().getClient();if(!n||!n.getOptions().enabled){t.beforeSend=void 0,t.integrations=void 0,a("kFfmc").init({dsn:e,environment:"production",beforeSend:(e,r)=>{let n=(t.beforeSend||(()=>null))(e,r);return o(n,r)},integrations:e=>[...l(e),new(a("lt9kQ")).Dedupe,new(a("kBLvL")).ExtraErrorData,new(a("50FPh")).Transaction,new(a("ehYmi")).CaptureConsole({levels:["error"]}),...t.integrations&&t.integrations instanceof Array?t.integrations:[]],...t});try{a("7zHWg").setExtras(r())}catch(e){a("7zHWg").captureException(e)}}},captureException:(e,t,r)=>{a("7zHWg").configureScope(t=>{t.setTag("logger",e),r&&Object.keys(r).forEach(e=>{c.includes(e)?t.setTag(e,r[e]):t.setExtra(e,r[e])})}),a("7zHWg").captureException(t)}}}),o("kFfmc",function(t,r){e(t.exports,"init",()=>i),a("8KVVB");var n=[new(a("hK2IQ")).InboundFilters,new(a("hK2IQ")).FunctionToString,new(0,a("4EoaR").TryCatch),new(0,a("5Z1NC").Breadcrumbs),new(0,a("ijPmO").GlobalHandlers),new(0,a("5zMCv").LinkedErrors),new(0,a("ilDeH").Dedupe),new(0,a("lKe3d").UserAgent)];function i(e){if(void 0===e&&(e={}),void 0===e.defaultIntegrations&&(e.defaultIntegrations=n),void 0===e.release){var t=(0,a("35A7f").getGlobalObject)();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(e.release=t.SENTRY_RELEASE.id)}void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0),(0,a("DPuyZ").initAndBind)(a("3pmgQ").BrowserClient,e),e.autoSessionTracking&&function(){if(void 0===(0,a("35A7f").getGlobalObject)().document){a("l97zN").IS_DEBUG_BUILD&&a("4geCF").logger.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}var e=(0,a("3kk8J").getCurrentHub)();e.captureSession&&(s(e),(0,a("1sgxX").addInstrumentationHandler)("history",function(e){var t=e.from,r=e.to;void 0!==t&&t!==r&&s((0,a("3kk8J").getCurrentHub)())}))}()}function s(e){e.startSession({ignoreDuration:!0}),e.captureSession()}}),o("DPuyZ",function(t,r){function n(e,t){!0===t.debug&&(a("aEGcl").IS_DEBUG_BUILD?a("4geCF").logger.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));var r=(0,a("3kk8J").getCurrentHub)(),n=r.getScope();n&&n.update(t.initialScope);var i=new e(t);r.bindClient(i)}e(t.exports,"initAndBind",()=>n),a("8KVVB")}),o("8KVVB",function(t,r){e(t.exports,"forget",()=>a("dYkdu").forget),e(t.exports,"getLocationHref",()=>a("7yHR0").getLocationHref),e(t.exports,"htmlTreeAsString",()=>a("7yHR0").htmlTreeAsString),e(t.exports,"dsnToString",()=>a("gSiM6").dsnToString),e(t.exports,"makeDsn",()=>a("gSiM6").makeDsn),e(t.exports,"SentryError",()=>a("b17Q6").SentryError),e(t.exports,"getGlobalObject",()=>a("35A7f").getGlobalObject),e(t.exports,"addInstrumentationHandler",()=>a("1sgxX").addInstrumentationHandler),e(t.exports,"isDOMError",()=>a("gkmq5").isDOMError),e(t.exports,"isDOMException",()=>a("gkmq5").isDOMException),e(t.exports,"isError",()=>a("gkmq5").isError),e(t.exports,"isErrorEvent",()=>a("gkmq5").isErrorEvent),e(t.exports,"isEvent",()=>a("gkmq5").isEvent),e(t.exports,"isInstanceOf",()=>a("gkmq5").isInstanceOf),e(t.exports,"isPlainObject",()=>a("gkmq5").isPlainObject),e(t.exports,"isPrimitive",()=>a("gkmq5").isPrimitive),e(t.exports,"isString",()=>a("gkmq5").isString),e(t.exports,"isThenable",()=>a("gkmq5").isThenable),e(t.exports,"CONSOLE_LEVELS",()=>a("4geCF").CONSOLE_LEVELS),e(t.exports,"logger",()=>a("4geCF").logger),e(t.exports,"addExceptionMechanism",()=>a("jyUiA").addExceptionMechanism),e(t.exports,"addExceptionTypeValue",()=>a("jyUiA").addExceptionTypeValue),e(t.exports,"checkOrSetAlreadyCaught",()=>a("jyUiA").checkOrSetAlreadyCaught),e(t.exports,"getEventDescription",()=>a("jyUiA").getEventDescription),e(t.exports,"parseUrl",()=>a("jyUiA").parseUrl),e(t.exports,"uuid4",()=>a("jyUiA").uuid4),e(t.exports,"normalize",()=>a("2mY5H").normalize),e(t.exports,"normalizeToSize",()=>a("2mY5H").normalizeToSize),e(t.exports,"addNonEnumerableProperty",()=>a("1l3DN").addNonEnumerableProperty),e(t.exports,"extractExceptionKeysForMessage",()=>a("1l3DN").extractExceptionKeysForMessage),e(t.exports,"fill",()=>a("1l3DN").fill),e(t.exports,"getOriginalFunction",()=>a("1l3DN").getOriginalFunction),e(t.exports,"markFunctionWrapped",()=>a("1l3DN").markFunctionWrapped),e(t.exports,"urlEncode",()=>a("1l3DN").urlEncode),e(t.exports,"makePromiseBuffer",()=>a("9aaXP").makePromiseBuffer),e(t.exports,"severityFromString",()=>a("n3F4l").severityFromString),e(t.exports,"createStackParser",()=>a("aNkwr").createStackParser),e(t.exports,"getFunctionName",()=>a("aNkwr").getFunctionName),e(t.exports,"eventStatusFromHttpCode",()=>a("aGIlP").eventStatusFromHttpCode),e(t.exports,"isMatchingPattern",()=>a("jOwKr").isMatchingPattern),e(t.exports,"safeJoin",()=>a("jOwKr").safeJoin),e(t.exports,"truncate",()=>a("jOwKr").truncate),e(t.exports,"isNativeFetch",()=>a("ci1rH").isNativeFetch),e(t.exports,"supportsFetch",()=>a("ci1rH").supportsFetch),e(t.exports,"supportsReferrerPolicy",()=>a("ci1rH").supportsReferrerPolicy),e(t.exports,"rejectedSyncPromise",()=>a("3X7U8").rejectedSyncPromise),e(t.exports,"resolvedSyncPromise",()=>a("3X7U8").resolvedSyncPromise),e(t.exports,"SyncPromise",()=>a("3X7U8").SyncPromise),e(t.exports,"createEnvelope",()=>a("e1x9C").createEnvelope),e(t.exports,"getEnvelopeType",()=>a("e1x9C").getEnvelopeType),e(t.exports,"serializeEnvelope",()=>a("e1x9C").serializeEnvelope),e(t.exports,"createClientReportEnvelope",()=>a("jk0Xn").createClientReportEnvelope),e(t.exports,"disabledUntil",()=>a("2rF5w").disabledUntil),e(t.exports,"isRateLimited",()=>a("2rF5w").isRateLimited),e(t.exports,"updateRateLimits",()=>a("2rF5w").updateRateLimits),a("dYkdu"),a("7yHR0"),a("gSiM6"),a("b17Q6"),a("35A7f"),a("1sgxX"),a("gkmq5"),a("4geCF"),a("jyUiA"),a("2mY5H"),a("1l3DN"),a("9aaXP"),a("n3F4l"),a("aNkwr"),a("aGIlP"),a("jOwKr"),a("ci1rH"),a("3X7U8"),a("e1x9C"),a("jk0Xn"),a("2rF5w"),n(t.exports,a("9UV3v")),n(t.exports,a("eHWqV"))}),o("dYkdu",function(t,r){e(t.exports,"forget",()=>n);function n(e){e.then(null,function(e){console.error(e)})}}),o("7yHR0",function(t,r){function n(e,t){try{for(var r=e,n=[],i=0,s=0,o=void 0;r&&i++<5&&(o=function(e,t){var r,n,i,s,o,l=[];if(!e||!e.tagName)return"";l.push(e.tagName.toLowerCase());var c=t&&t.length?t.filter(function(t){return e.getAttribute(t)}).map(function(t){return[t,e.getAttribute(t)]}):null;if(c&&c.length)c.forEach(function(e){l.push("["+e[0]+'="'+e[1]+'"]')});else if(e.id&&l.push("#"+e.id),(r=e.className)&&(0,a("gkmq5").isString)(r))for(o=0,n=r.split(/\s+/);o<n.length;o++)l.push("."+n[o]);var u=["type","name","title","alt"];for(o=0;o<u.length;o++)i=u[o],(s=e.getAttribute(i))&&l.push("["+i+'="'+s+'"]');return l.join("")}(r,t),"html"!==o&&(!(i>1)||!(s+3*n.length+o.length>=80)));)n.push(o),s+=o.length,r=r.parentNode;return n.reverse().join(" > ")}catch(e){return"<unknown>"}}function i(){var e=(0,a("35A7f").getGlobalObject)();try{return e.document.location.href}catch(e){return""}}e(t.exports,"htmlTreeAsString",()=>n),e(t.exports,"getLocationHref",()=>i)}),o("35A7f",function(t,n){e(t.exports,"getGlobalObject",()=>s),e(t.exports,"getGlobalSingleton",()=>o);var i={};function s(){return(0,a("9UV3v").isNodeEnv)()?r:"undefined"!=typeof window?window:"undefined"!=typeof self?self:i}function o(e,t,r){var n=r||s(),i=n.__SENTRY__=n.__SENTRY__||{};return i[e]||(i[e]=t())}}),o("9UV3v",function(t,r){e(t.exports,"isNodeEnv",()=>i,e=>i=e),e(t.exports,"dynamicRequire",()=>s,e=>s=e);var n=a("6cAn5");function i(){return!(0,a("9gXpd").isBrowserBundle)()&&"[object process]"===Object.prototype.toString.call(void 0!==n?n:0)}function s(e,t){return e.require(t)}}),o("9gXpd",function(t,r){e(t.exports,"isBrowserBundle",()=>n);function n(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}}),o("gkmq5",function(t,r){e(t.exports,"isError",()=>i),e(t.exports,"isInstanceOf",()=>y),e(t.exports,"isErrorEvent",()=>a),e(t.exports,"isDOMError",()=>o),e(t.exports,"isDOMException",()=>l),e(t.exports,"isString",()=>c),e(t.exports,"isPrimitive",()=>u),e(t.exports,"isPlainObject",()=>d),e(t.exports,"isEvent",()=>h),e(t.exports,"isElement",()=>p),e(t.exports,"isRegExp",()=>f),e(t.exports,"isThenable",()=>g),e(t.exports,"isSyntheticEvent",()=>m),e(t.exports,"isNaN",()=>v);var n=Object.prototype.toString;function i(e){switch(n.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return y(e,Error)}}function s(e,t){return n.call(e)==="[object "+t+"]"}function a(e){return s(e,"ErrorEvent")}function o(e){return s(e,"DOMError")}function l(e){return s(e,"DOMException")}function c(e){return s(e,"String")}function u(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function d(e){return s(e,"Object")}function h(e){return"undefined"!=typeof Event&&y(e,Event)}function p(e){return"undefined"!=typeof Element&&y(e,Element)}function f(e){return s(e,"RegExp")}function g(e){return!!(e&&e.then&&"function"==typeof e.then)}function m(e){return d(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function v(e){return"number"==typeof e&&e!=e}function y(e,t){try{return e instanceof t}catch(e){return!1}}}),o("gSiM6",function(t,r){e(t.exports,"dsnToString",()=>i),e(t.exports,"makeDsn",()=>o);var n=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function i(e,t){void 0===t&&(t=!1);var r=e.host,n=e.path,i=e.pass,s=e.port,a=e.projectId;return e.protocol+"://"+e.publicKey+(t&&i?":"+i:"")+("@"+r+(s?":"+s:"")+"/")+(n?n+"/":n)+a}function s(e){return"user"in e&&!("publicKey"in e)&&(e.publicKey=e.user),{user:e.publicKey||"",protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function o(e){var t="string"==typeof e?function(e){var t=n.exec(e);if(!t)throw new(0,a("b17Q6").SentryError)("Invalid Sentry Dsn: "+e);var r=(0,a("3VFsf").__read)(t.slice(1),6),i=r[0],o=r[1],l=r[2],c=r[3],u=r[4],d=r[5],h="",p=d,f=p.split("/");if(f.length>1&&(h=f.slice(0,-1).join("/"),p=f.pop()),p){var g=p.match(/^\d+/);g&&(p=g[0])}return s({host:c,pass:void 0===l?"":l,path:h,projectId:p,port:void 0===u?"":u,protocol:i,publicKey:o})}(e):s(e);return!function(e){if(a("7zZth").IS_DEBUG_BUILD){var t=e.port,r=e.projectId,n=e.protocol;if(["protocol","publicKey","host","projectId"].forEach(function(t){if(!e[t])throw new(0,a("b17Q6").SentryError)("Invalid Sentry Dsn: "+t+" missing")}),!r.match(/^\d+$/))throw new(0,a("b17Q6").SentryError)("Invalid Sentry Dsn: Invalid projectId "+r);if("http"!==n&&"https"!==n)throw new(0,a("b17Q6").SentryError)("Invalid Sentry Dsn: Invalid protocol "+n);if(t&&isNaN(parseInt(t,10)))throw new(0,a("b17Q6").SentryError)("Invalid Sentry Dsn: Invalid port "+t)}}(t),t}}),o("b17Q6",function(t,r){e(t.exports,"SentryError",()=>n);var n=function(e){function t(t){var r=this.constructor,n=e.call(this,t)||this;return n.message=t,n.name=r.prototype.constructor.name,(0,a("cQly6").setPrototypeOf)(n,r.prototype),n}return(0,a("3VFsf").__extends)(t,e),t}(Error)}),o("cQly6",function(t,r){e(t.exports,"setPrototypeOf",()=>n);var n=Object.setPrototypeOf||(({__proto__:[]})instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=t[r]);return e})}),o("7zZth",function(t,r){e(t.exports,"IS_DEBUG_BUILD",()=>n);var n="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__}),o("1sgxX",function(t,r){e(t.exports,"addInstrumentationHandler",()=>u);var n,i,s,o=(0,a("35A7f").getGlobalObject)(),l={},c={};function u(e,t){l[e]=l[e]||[],l[e].push(t),function(e){if(!c[e])switch(c[e]=!0,e){case"console":"console"in o&&a("4geCF").CONSOLE_LEVELS.forEach(function(e){e in o.console&&(0,a("1l3DN").fill)(o.console,e,function(t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];d("console",{args:r,level:e}),t&&t.apply(o.console,r)}})});break;case"dom":if("document"in o){var t=d.bind(null,"dom"),r=h(t,!0);o.document.addEventListener("click",r,!1),o.document.addEventListener("keypress",r,!1),["EventTarget","Node"].forEach(function(e){var r=o[e]&&o[e].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&((0,a("1l3DN").fill)(r,"addEventListener",function(e){return function(r,n,i){if("click"===r||"keypress"==r)try{var s=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},a=s[r]=s[r]||{refCount:0};if(!a.handler){var o=h(t);a.handler=o,e.call(this,r,o,i)}a.refCount+=1}catch(e){}return e.call(this,r,n,i)}}),(0,a("1l3DN").fill)(r,"removeEventListener",function(e){return function(t,r,n){if("click"===t||"keypress"==t)try{var i=this.__sentry_instrumentation_handlers__||{},s=i[t];s&&(s.refCount-=1,s.refCount<=0&&(e.call(this,t,s.handler,n),s.handler=void 0,delete i[t]),0===Object.keys(i).length&&delete this.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,r,n)}}))})}break;case"xhr":if("XMLHttpRequest"in o){var i=XMLHttpRequest.prototype;(0,a("1l3DN").fill)(i,"open",function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=this,i=t[1],s=n.__sentry_xhr__={method:(0,a("gkmq5").isString)(t[0])?t[0].toUpperCase():t[0],url:t[1]};(0,a("gkmq5").isString)(i)&&"POST"===s.method&&i.match(/sentry_key/)&&(n.__sentry_own_request__=!0);var o=function(){if(4===n.readyState){try{s.status_code=n.status}catch(e){}d("xhr",{args:t,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:n})}};return"onreadystatechange"in n&&"function"==typeof n.onreadystatechange?(0,a("1l3DN").fill)(n,"onreadystatechange",function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return o(),e.apply(n,t)}}):n.addEventListener("readystatechange",o),e.apply(n,t)}}),(0,a("1l3DN").fill)(i,"send",function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return this.__sentry_xhr__&&void 0!==t[0]&&(this.__sentry_xhr__.body=t[0]),d("xhr",{args:t,startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}})}break;case"fetch":(0,a("ci1rH").supportsNativeFetch)()&&(0,a("1l3DN").fill)(o,"fetch",function(e){return function(){for(var t,r,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s={args:n,fetchData:{method:(void 0===(t=n)&&(t=[]),"Request"in o&&(0,a("gkmq5").isInstanceOf)(t[0],Request)&&t[0].method)?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET",url:(void 0===(r=n)&&(r=[]),"string"==typeof r[0])?r[0]:"Request"in o&&(0,a("gkmq5").isInstanceOf)(r[0],Request)?r[0].url:String(r[0])},startTimestamp:Date.now()};return d("fetch",(0,a("3VFsf").__assign)({},s)),e.apply(o,n).then(function(e){return d("fetch",(0,a("3VFsf").__assign)((0,a("3VFsf").__assign)({},s),{endTimestamp:Date.now(),response:e})),e},function(e){throw d("fetch",(0,a("3VFsf").__assign)((0,a("3VFsf").__assign)({},s),{endTimestamp:Date.now(),error:e})),e})}});break;case"history":if((0,a("ci1rH").supportsHistory)()){var s=o.onpopstate;o.onpopstate=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=o.location.href,i=n;if(n=r,d("history",{from:i,to:r}),s)try{return s.apply(this,e)}catch(e){}},(0,a("1l3DN").fill)(o.history,"pushState",l),(0,a("1l3DN").fill)(o.history,"replaceState",l)}function l(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=t.length>2?t[2]:void 0;if(i){var s=n,a=String(i);n=a,d("history",{from:s,to:a})}return e.apply(this,t)}}break;case"error":p=o.onerror,o.onerror=function(e,t,r,n,i){return d("error",{column:n,error:i,line:r,msg:e,url:t}),!!p&&p.apply(this,arguments)};break;case"unhandledrejection":f=o.onunhandledrejection,o.onunhandledrejection=function(e){return d("unhandledrejection",e),!f||f.apply(this,arguments)};break;default:a("7zZth").IS_DEBUG_BUILD&&a("4geCF").logger.warn("unknown instrumentation type:",e);return}}(e)}function d(e,t){var r,n;if(e&&l[e])try{for(var i=(0,a("3VFsf").__values)(l[e]||[]),s=i.next();!s.done;s=i.next()){var o=s.value;try{o(t)}catch(t){a("7zZth").IS_DEBUG_BUILD&&a("4geCF").logger.error("Error while triggering instrumentation handler.\nType: "+e+"\nName: "+(0,a("aNkwr").getFunctionName)(o)+"\nError:",t)}}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}function h(e,t){return void 0===t&&(t=!1),function(r){if(r&&s!==r&&!function(e){if("keypress"!==e.type)return!1;try{var t=e.target;if(!t||!t.tagName)return!0;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return!1}catch(e){}return!0}(r)){var n="keypress"===r.type?"input":r.type;void 0===i?(e({event:r,name:n,global:t}),s=r):function(e,t){if(!e||e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(e){}return!1}(s,r)&&(e({event:r,name:n,global:t}),s=r),clearTimeout(i),i=o.setTimeout(function(){i=void 0},1e3)}}}var p=null,f=null}),o("4geCF",function(t,r){e(t.exports,"CONSOLE_LEVELS",()=>s),e(t.exports,"logger",()=>n);var n,i=(0,a("35A7f").getGlobalObject)(),s=["debug","info","warn","error","log","assert"];function o(){var e=!1,t={enable:function(){e=!0},disable:function(){e=!1}};return a("7zZth").IS_DEBUG_BUILD?s.forEach(function(r){t[r]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e&&function(e){var t=(0,a("35A7f").getGlobalObject)();if(!("console"in t))return e();var r=t.console,n={};s.forEach(function(e){var i=r[e]&&r[e].__sentry_original__;e in t.console&&i&&(n[e]=r[e],r[e]=i)});try{return e()}finally{Object.keys(n).forEach(function(e){r[e]=n[e]})}}(function(){var e;(e=i.console)[r].apply(e,(0,a("3VFsf").__spread)(["Sentry Logger ["+r+"]:"],t))})}}):s.forEach(function(e){t[e]=function(){}}),t}n=a("7zZth").IS_DEBUG_BUILD?(0,a("35A7f").getGlobalSingleton)("logger",o):o()}),o("1l3DN",function(t,r){function n(e,t,r){if(t in e){var n=e[t],i=r(n);if("function"==typeof i)try{s(i,n)}catch(e){}e[t]=i}}function i(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}function s(e,t){var r=t.prototype||{};e.prototype=t.prototype=r,i(e,"__sentry_original__",t)}function o(e){return e.__sentry_original__}function l(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}function c(e){var t=e;return(0,a("gkmq5").isError)(e)?t=(0,a("3VFsf").__assign)({message:e.message,name:e.name,stack:e.stack},d(e)):(0,a("gkmq5").isEvent)(e)&&(t=(0,a("3VFsf").__assign)({type:e.type,target:u(e.target),currentTarget:u(e.currentTarget)},d(e)),"undefined"!=typeof CustomEvent&&(0,a("gkmq5").isInstanceOf)(e,CustomEvent)&&(t.detail=e.detail)),t}function u(e){try{return(0,a("gkmq5").isElement)(e)?(0,a("7yHR0").htmlTreeAsString)(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function d(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}function h(e,t){void 0===t&&(t=40);var r=Object.keys(c(e));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=t)return(0,a("jOwKr").truncate)(r[0],t);for(var n=r.length;n>0;n--){var i=r.slice(0,n).join(", ");if(!(i.length>t)){if(n===r.length)return i;return(0,a("jOwKr").truncate)(i,t)}}return""}e(t.exports,"fill",()=>n),e(t.exports,"markFunctionWrapped",()=>s),e(t.exports,"addNonEnumerableProperty",()=>i),e(t.exports,"getOriginalFunction",()=>o),e(t.exports,"urlEncode",()=>l),e(t.exports,"convertToPlainObject",()=>c),e(t.exports,"extractExceptionKeysForMessage",()=>h)}),o("jOwKr",function(t,r){function n(e,t){return(void 0===t&&(t=0),"string"!=typeof e||0===t||e.length<=t)?e:e.substr(0,t)+"..."}function i(e,t){var r=e,n=r.length;if(n<=150)return r;t>n&&(t=n);var i=Math.max(t-60,0);i<5&&(i=0);var s=Math.min(i+140,n);return s>n-5&&(s=n),s===n&&(i=Math.max(s-140,0)),r=r.slice(i,s),i>0&&(r="'{snip} "+r),s<n&&(r+=" {snip}"),r}function s(e,t){if(!Array.isArray(e))return"";for(var r=[],n=0;n<e.length;n++){var i=e[n];try{r.push(String(i))}catch(e){r.push("[value cannot be serialized]")}}return r.join(t)}function o(e,t){return!!(0,a("gkmq5").isString)(e)&&((0,a("gkmq5").isRegExp)(t)?t.test(e):"string"==typeof t&&-1!==e.indexOf(t))}e(t.exports,"truncate",()=>n),e(t.exports,"snipLine",()=>i),e(t.exports,"safeJoin",()=>s),e(t.exports,"isMatchingPattern",()=>o)}),o("aNkwr",function(t,r){function n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.sort(function(e,t){return e[0]-t[0]}).map(function(e){return e[1]});return function(e,t){void 0===t&&(t=0);var n,i,s,o,l=[];try{for(var c=(0,a("3VFsf").__values)(e.split("\n").slice(t)),u=c.next();!u.done;u=c.next()){var d=u.value;try{for(var h=(s=void 0,(0,a("3VFsf").__values)(r)),p=h.next();!p.done;p=h.next()){var f=(0,p.value)(d);if(f){l.push(f);break}}}catch(e){s={error:e}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(s)throw s.error}}}}catch(e){n={error:e}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}var g=l;if(!g.length)return[];var m=g,v=m[0].function||"",y=m[m.length-1].function||"";return(-1!==v.indexOf("captureMessage")||-1!==v.indexOf("captureException"))&&(m=m.slice(1)),-1!==y.indexOf("sentryWrapped")&&(m=m.slice(0,-1)),m.slice(0,50).map(function(e){return(0,a("3VFsf").__assign)((0,a("3VFsf").__assign)({},e),{filename:e.filename||m[0].filename,function:e.function||"?"})}).reverse()}}e(t.exports,"createStackParser",()=>n),e(t.exports,"getFunctionName",()=>s);var i="<anonymous>";function s(e){try{if(!e||"function"!=typeof e)return i;return e.name||i}catch(e){return i}}}),o("ci1rH",function(t,r){function n(){if(!("fetch"in(0,a("35A7f").getGlobalObject)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function i(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function s(){if(!n())return!1;var e=(0,a("35A7f").getGlobalObject)();if(i(e.fetch))return!0;var t=!1,r=e.document;if(r&&"function"==typeof r.createElement)try{var s=r.createElement("iframe");s.hidden=!0,r.head.appendChild(s),s.contentWindow&&s.contentWindow.fetch&&(t=i(s.contentWindow.fetch)),r.head.removeChild(s)}catch(e){a("7zZth").IS_DEBUG_BUILD&&a("4geCF").logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return t}function o(){if(!n())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}}function l(){var e=(0,a("35A7f").getGlobalObject)(),t=e.chrome,r=t&&t.app&&t.app.runtime,n="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!r&&n}e(t.exports,"supportsFetch",()=>n),e(t.exports,"isNativeFetch",()=>i),e(t.exports,"supportsNativeFetch",()=>s),e(t.exports,"supportsReferrerPolicy",()=>o),e(t.exports,"supportsHistory",()=>l)}),o("jyUiA",function(t,r){function n(){var e=(0,a("35A7f").getGlobalObject)(),t=e.crypto||e.msCrypto;if(void 0!==t&&t.getRandomValues){var r=new Uint16Array(8);t.getRandomValues(r),r[3]=4095&r[3]|16384,r[4]=16383&r[4]|32768;var n=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return n(r[0])+n(r[1])+n(r[2])+n(r[3])+n(r[4])+n(r[5])+n(r[6])+n(r[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function i(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+r+n}}function s(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function o(e){var t=e.message,r=e.event_id;if(t)return t;var n=s(e);return n?n.type&&n.value?n.type+": "+n.value:n.type||n.value||r||"<unknown>":r||"<unknown>"}function l(e,t,r){var n=e.exception=e.exception||{},i=n.values=n.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type=r||"Error")}function c(e,t){var r=s(e);if(r){var n=r.mechanism;if(r.mechanism=(0,a("3VFsf").__assign)((0,a("3VFsf").__assign)((0,a("3VFsf").__assign)({},{type:"generic",handled:!0}),n),t),t&&"data"in t){var i=(0,a("3VFsf").__assign)((0,a("3VFsf").__assign)({},n&&n.data),t.data);r.mechanism.data=i}}}function u(e){if(e&&e.__sentry_captured__)return!0;try{(0,a("1l3DN").addNonEnumerableProperty)(e,"__sentry_captured__",!0)}catch(e){}return!1}e(t.exports,"uuid4",()=>n),e(t.exports,"parseUrl",()=>i),e(t.exports,"getEventDescription",()=>o),e(t.exports,"addExceptionTypeValue",()=>l),e(t.exports,"addExceptionMechanism",()=>c),e(t.exports,"checkOrSetAlreadyCaught",()=>u)}),o("2mY5H",function(t,n){function i(e,t,n){void 0===t&&(t=1/0),void 0===n&&(n=1/0);try{return function e(t,n,i,s,o){void 0===i&&(i=1/0),void 0===s&&(s=1/0),void 0===o&&(o=(0,a("377JV").memoBuilder)());var l=(0,a("3VFsf").__read)(o,2),c=l[0],u=l[1];if(n&&"function"==typeof n.toJSON)try{return n.toJSON()}catch(e){}if(null===n||["number","boolean","string"].includes(typeof n)&&!(0,a("gkmq5").isNaN)(n))return n;var d=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if(void 0!==r&&t===r)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if((0,a("gkmq5").isSyntheticEvent)(t))return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if(void 0===t)return"[undefined]";if("function"==typeof t)return"[Function: "+(0,a("aNkwr").getFunctionName)(t)+"]";if("symbol"==typeof t)return"["+String(t)+"]";if("bigint"==typeof t)return"[BigInt: "+String(t)+"]";return"[object "+Object.getPrototypeOf(t).constructor.name+"]"}catch(e){return"**non-serializable** ("+e+")"}}(t,n);if(!d.startsWith("[object "))return d;if(0===i)return d.replace("object ","");if(c(n))return"[Circular ~]";var h=Array.isArray(n)?[]:{},p=0,f=(0,a("gkmq5").isError)(n)||(0,a("gkmq5").isEvent)(n)?(0,a("1l3DN").convertToPlainObject)(n):n;for(var g in f)if(Object.prototype.hasOwnProperty.call(f,g)){if(p>=s){h[g]="[MaxProperties ~]";break}var m=f[g];h[g]=e(g,m,i-1,s,o),p+=1}return u(n),h}("",e,t,n)}catch(e){return{ERROR:"**non-serializable** ("+e+")"}}}e(t.exports,"normalize",()=>i),e(t.exports,"normalizeToSize",()=>function e(t,r,n){void 0===r&&(r=3),void 0===n&&(n=102400);var s=i(t,r);return~-encodeURI(JSON.stringify(s)).split(/%..|./).length>n?e(t,r-1,n):s})}),o("377JV",function(t,r){e(t.exports,"memoBuilder",()=>n);function n(){var e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(r){if(e)return!!t.has(r)||(t.add(r),!1);for(var n=0;n<t.length;n++)if(t[n]===r)return!0;return t.push(r),!1},function(r){if(e)t.delete(r);else for(var n=0;n<t.length;n++)if(t[n]===r){t.splice(n,1);break}}]}}),o("9aaXP",function(t,r){e(t.exports,"makePromiseBuffer",()=>n);function n(e){var t=[];function r(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(n){if(!(void 0===e||t.length<e))return(0,a("3X7U8").rejectedSyncPromise)(new(0,a("b17Q6").SentryError)("Not adding Promise due to buffer limit reached."));var i=n();return -1===t.indexOf(i)&&t.push(i),i.then(function(){return r(i)}).then(null,function(){return r(i).then(null,function(){})}),i},drain:function(e){return new(0,a("3X7U8").SyncPromise)(function(r,n){var i=t.length;if(!i)return r(!0);var s=setTimeout(function(){e&&e>0&&r(!1)},e);t.forEach(function(e){(0,a("3X7U8").resolvedSyncPromise)(e).then(function(){--i||(clearTimeout(s),r(!0))},n)})})}}}}),o("3X7U8",function(t,r){function n(e){return new s(function(t){t(e)})}function i(e){return new s(function(t,r){r(e)})}e(t.exports,"resolvedSyncPromise",()=>n),e(t.exports,"SyncPromise",()=>s),e(t.exports,"rejectedSyncPromise",()=>i);var s=function(){function e(e){var t=this;this._state=0,this._handlers=[],this._resolve=function(e){t._setResult(1,e)},this._reject=function(e){t._setResult(2,e)},this._setResult=function(e,r){if(0===t._state){if((0,a("gkmq5").isThenable)(r))return void r.then(t._resolve,t._reject);t._state=e,t._value=r,t._executeHandlers()}},this._executeHandlers=function(){if(0!==t._state){var e=t._handlers.slice();t._handlers=[],e.forEach(function(e){e[0]||(1===t._state&&e[1](t._value),2===t._state&&e[2](t._value),e[0]=!0)})}};try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}return e.prototype.then=function(t,r){var n=this;return new e(function(e,i){n._handlers.push([!1,function(r){if(t)try{e(t(r))}catch(e){i(e)}else e(r)},function(t){if(r)try{e(r(t))}catch(e){i(e)}else i(t)}]),n._executeHandlers()})},e.prototype.catch=function(e){return this.then(function(e){return e},e)},e.prototype.finally=function(t){var r=this;return new e(function(e,n){var i,s;return r.then(function(e){s=!1,i=e,t&&t()},function(e){s=!0,i=e,t&&t()}).then(function(){if(s)return void n(i);e(i)})})},e}()}),o("n3F4l",function(t,r){e(t.exports,"severityFromString",()=>n);function n(e){return"warn"===e?a("4aybe").Severity.Warning:-1!==a("7UEZR").SeverityLevels.indexOf(e)?e:a("4aybe").Severity.Log}}),o("4aybe",function(t,r){var n,i;e(t.exports,"Severity",()=>n),(i=n||(n={})).Fatal="fatal",i.Error="error",i.Warning="warning",i.Log="log",i.Info="info",i.Debug="debug",i.Critical="critical"}),o("7UEZR",function(t,r){e(t.exports,"SeverityLevels",()=>n);var n=["fatal","error","warning","log","info","debug","critical"]}),o("aGIlP",function(t,r){e(t.exports,"eventStatusFromHttpCode",()=>n);function n(e){return e>=200&&e<300?"success":429===e?"rate_limit":e>=400&&e<500?"invalid":e>=500?"failed":"unknown"}}),o("eHWqV",function(t,r){e(t.exports,"dateTimestampInSeconds",()=>o,e=>o=e);var n={nowSeconds:function(){return Date.now()/1e3}},i=(0,a("9UV3v").isNodeEnv)()?function(){try{return(0,a("9UV3v").dynamicRequire)(t,"perf_hooks").performance}catch(e){return}}():function(){var e=(0,a("35A7f").getGlobalObject)().performance;if(e&&e.now)return{now:function(){return e.now()},timeOrigin:Date.now()-e.now()}}(),s=void 0===i?n:{nowSeconds:function(){return(i.timeOrigin+i.now())/1e3}},o=n.nowSeconds.bind(n);s.nowSeconds.bind(s),function(){var e=(0,a("35A7f").getGlobalObject)().performance;if(e&&e.now){var t=e.now(),r=Date.now(),n=e.timeOrigin?Math.abs(e.timeOrigin+t-r):36e5,i=e.timing&&e.timing.navigationStart,s="number"==typeof i?Math.abs(i+t-r):36e5;(n<36e5||s<36e5)&&n<=s&&e.timeOrigin}}()}),o("e1x9C",function(t,r){function n(e,t){return void 0===t&&(t=[]),[e,t]}function i(e){var t=(0,a("3VFsf").__read)(e,2),r=(0,a("3VFsf").__read)(t[1],1);return(0,a("3VFsf").__read)(r[0],1)[0].type}function s(e){var t=(0,a("3VFsf").__read)(e,2),r=t[0],n=t[1],i=JSON.stringify(r);return n.reduce(function(e,t){var r=(0,a("3VFsf").__read)(t,2),n=r[0],i=r[1],s=(0,a("gkmq5").isPrimitive)(i)?String(i):JSON.stringify(i);return e+"\n"+JSON.stringify(n)+"\n"+s},i)}e(t.exports,"createEnvelope",()=>n),e(t.exports,"getEnvelopeType",()=>i),e(t.exports,"serializeEnvelope",()=>s)}),o("jk0Xn",function(t,r){e(t.exports,"createClientReportEnvelope",()=>n);function n(e,t,r){var n=[{type:"client_report"},{timestamp:r||(0,a("eHWqV").dateTimestampInSeconds)(),discarded_events:e}];return(0,a("e1x9C").createEnvelope)(t?{dsn:t}:{},[n])}}),o("2rF5w",function(t,r){function n(e,t){return e[t]||e.all||0}function i(e,t,r){return void 0===r&&(r=Date.now()),n(e,t)>r}function s(e,t,r){void 0===r&&(r=Date.now());var n,i,s,o,l=(0,a("3VFsf").__assign)({},e),c=t["x-sentry-rate-limits"],u=t["retry-after"];if(c)try{for(var d=(0,a("3VFsf").__values)(c.trim().split(",")),h=d.next();!h.done;h=d.next()){var p=h.value.split(":",2),f=parseInt(p[0],10),g=(isNaN(f)?60:f)*1e3;if(p[1])try{for(var m=(s=void 0,(0,a("3VFsf").__values)(p[1].split(";"))),v=m.next();!v.done;v=m.next())l[v.value]=r+g}catch(e){s={error:e}}finally{try{v&&!v.done&&(o=m.return)&&o.call(m)}finally{if(s)throw s.error}}else l.all=r+g}}catch(e){n={error:e}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}else u&&(l.all=r+function(e,t){void 0===t&&(t=Date.now());var r=parseInt(""+e,10);if(!isNaN(r))return 1e3*r;var n=Date.parse(""+e);return isNaN(n)?6e4:n-t}(u,r));return l}e(t.exports,"disabledUntil",()=>n),e(t.exports,"isRateLimited",()=>i),e(t.exports,"updateRateLimits",()=>s)}),o("aEGcl",function(t,r){e(t.exports,"IS_DEBUG_BUILD",()=>n);var n="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__}),o("hK2IQ",function(t,r){e(t.exports,"FunctionToString",()=>a("dRmVN").FunctionToString),e(t.exports,"InboundFilters",()=>a("7TVcb").InboundFilters)}),o("dRmVN",function(t,r){e(t.exports,"FunctionToString",()=>i),a("8KVVB");var n,i=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){n=Function.prototype.toString,Function.prototype.toString=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a("1l3DN").getOriginalFunction)(this)||this;return n.apply(r,e)}},e.id="FunctionToString",e}()}),o("7TVcb",function(t,r){e(t.exports,"InboundFilters",()=>i),a("8KVVB");var n=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],i=function(){function e(t){void 0===t&&(t={}),this._options=t,this.name=e.id}return e.prototype.setupOnce=function(t,r){t(function(t){var i=r();if(i){var s=i.getIntegration(e);if(s){var l,c,u,d,h,p,f=i.getClient(),g=f?f.getOptions():{};return(u=t,(d=(l=s._options,void 0===l&&(l={}),void 0===(c=g)&&(c={}),{allowUrls:(0,a("3VFsf").__spread)(l.whitelistUrls||[],l.allowUrls||[],c.whitelistUrls||[],c.allowUrls||[]),denyUrls:(0,a("3VFsf").__spread)(l.blacklistUrls||[],l.denyUrls||[],c.blacklistUrls||[],c.denyUrls||[]),ignoreErrors:(0,a("3VFsf").__spread)(l.ignoreErrors||[],c.ignoreErrors||[],n),ignoreInternal:void 0===l.ignoreInternal||l.ignoreInternal})).ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(u)?(a("aEGcl").IS_DEBUG_BUILD&&a("4geCF").logger.warn("Event dropped due to being internal Sentry Error.\nEvent: "+(0,a("jyUiA").getEventDescription)(u)),0):(h=u,(p=d.ignoreErrors)&&p.length&&(function(e){if(e.message)return[e.message];if(e.exception)try{var t=e.exception.values&&e.exception.values[0]||{},r=t.type,n=t.value,i=void 0===n?"":n;return[""+i,(void 0===r?"":r)+": "+i]}catch(t){a("aEGcl").IS_DEBUG_BUILD&&a("4geCF").logger.error("Cannot extract message for event "+(0,a("jyUiA").getEventDescription)(e))}return[]})(h).some(function(e){return p.some(function(t){return(0,a("jOwKr").isMatchingPattern)(e,t)})}))?(a("aEGcl").IS_DEBUG_BUILD&&a("4geCF").logger.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+(0,a("jyUiA").getEventDescription)(u)),0):!function(e,t){if(!t||!t.length)return!1;var r=o(e);return!!r&&t.some(function(e){return(0,a("jOwKr").isMatchingPattern)(r,e)})}(u,d.denyUrls)?function(e,t){if(!t||!t.length)return!0;var r=o(e);return!r||t.some(function(e){return(0,a("jOwKr").isMatchingPattern)(r,e)})}(u,d.allowUrls)||(a("aEGcl").IS_DEBUG_BUILD&&a("4geCF").logger.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+(0,a("jyUiA").getEventDescription)(u)+".\nUrl: "+o(u)),0):(a("aEGcl").IS_DEBUG_BUILD&&a("4geCF").logger.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+(0,a("jyUiA").getEventDescription)(u)+".\nUrl: "+o(u)),0))?t:null}}return t})},e.id="InboundFilters",e}();function s(e){void 0===e&&(e=[]);for(var t=e.length-1;t>=0;t--){var r=e[t];if(r&&"<anonymous>"!==r.filename&&"[native code]"!==r.filename)return r.filename||null}return null}function o(e){try{var t;if(e.stacktrace)return s(e.stacktrace.frames);try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?s(t):null}catch(t){return a("aEGcl").IS_DEBUG_BUILD&&a("4geCF").logger.error("Cannot extract url for event "+(0,a("jyUiA").getEventDescription)(e)),null}}}),o("3pmgQ",function(t,r){e(t.exports,"BrowserClient",()=>n),a("8KVVB");var n=function(e){function t(t){void 0===t&&(t={});var r=this;return t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:a("f1FVh").SDK_VERSION}],version:a("f1FVh").SDK_VERSION},e.call(this,a("7bB5K").BrowserBackend,t)||this}return(0,a("3VFsf").__extends)(t,e),t.prototype.showReportDialog=function(e){if(void 0===e&&(e={}),(0,a("35A7f").getGlobalObject)().document){if(!this._isEnabled()){a("l97zN").IS_DEBUG_BUILD&&a("4geCF").logger.error("Trying to call showReportDialog with Sentry Client disabled");return}(0,a("9aSEL").injectReportDialog)((0,a("3VFsf").__assign)((0,a("3VFsf").__assign)({},e),{dsn:e.dsn||this.getDsn()}))}},t.prototype._prepareEvent=function(t,r,n){return t.platform=t.platform||"javascript",e.prototype._prepareEvent.call(this,t,r,n)},t.prototype._sendEvent=function(t){var r=this.getIntegration(a("5Z1NC").Breadcrumbs);r&&r.addSentryBreadcrumb(t),e.prototype._sendEvent.call(this,t)},t}(a("4mR0v").BaseClient)}),o("4mR0v",function(t,r){e(t.exports,"BaseClient",()=>i),a("8KVVB");var n="Not capturing exception because it's already been captured.",i=function(){function e(e,t){this._integrations={},this._numProcessing=0,this._backend=new e(t),this._options=t,t.dsn&&(this._dsn=(0,a("gSiM6").makeDsn)(t.dsn))}return e.prototype.captureException=function(e,t,r){var i=this;if((0,a("jyUiA").checkOrSetAlreadyCaught)(e)){a("aEGcl").IS_DEBUG_BUILD&&a("4geCF").logger.log(n);return}var s=t&&t.event_id;return this._process(this._getBackend().eventFromException(e,t).then(function(e){return i._captureEvent(e,t,r)}).then(function(e){s=e})),s},e.prototype.captureMessage=function(e,t,r,n){var i=this,s=r&&r.event_id,o=(0,a("gkmq5").isPrimitive)(e)?this._getBackend().eventFromMessage(String(e),t,r):this._getBackend().eventFromException(e,r);return this._process(o.then(function(e){return i._captureEvent(e,r,n)}).then(function(e){s=e})),s},e.prototype.captureEvent=function(e,t,r){if(t&&t.originalException&&(0,a("jyUiA").checkOrSetAlreadyCaught)(t.originalException)){a("aEGcl").IS_DEBUG_BUILD&&a("4geCF").logger.log(n);return}var i=t&&t.event_id;return this._process(this._captureEvent(e,t,r).then(function(e){i=e})),i},e.prototype.captureSession=function(e){if(!this._isEnabled()){a("aEGcl").IS_DEBUG_BUILD&&a("4geCF").logger.warn("SDK not enabled, will not capture session.");return}"string"!=typeof e.release?a("aEGcl").IS_DEBUG_BUILD&&a("4geCF").logger.warn("Discarded session because of missing or non-string release"):(this._sendSession(e),e.update({init:!1}))},e.prototype.getDsn=function(){return this._dsn},e.prototype.getOptions=function(){return this._options},e.prototype.getTransport=function(){return this._getBackend().getTransport()},e.prototype.flush=function(e){var t=this;return this._isClientDoneProcessing(e).then(function(r){return t.getTransport().close(e).then(function(e){return r&&e})})},e.prototype.close=function(e){var t=this;return this.flush(e).then(function(e){return t.getOptions().enabled=!1,e})},e.prototype.setupIntegrations=function(){this._isEnabled()&&!this._integrations.initialized&&(this._integrations=(0,a("6WKyI").setupIntegrations)(this._options))},e.prototype.getIntegration=function(e){try{return this._integrations[e.id]||null}catch(t){return a("aEGcl").IS_DEBUG_BUILD&&a("4geCF").logger.warn("Cannot retrieve integration "+e.id+" from the current Client"),null}},e.prototype._updateSessionFromEvent=function(e,t){var r,n,i=!1,s=!1,o=t.exception&&t.exception.values;if(o){s=!0;try{for(var l=(0,a("3VFsf").__values)(o),c=l.next();!c.done;c=l.next()){var u=c.value.mechanism;if(u&&!1===u.handled){i=!0;break}}}catch(e){r={error:e}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}}var d="ok"===e.status;(d&&0===e.errors||d&&i)&&(e.update((0,a("3VFsf").__assign)((0,a("3VFsf").__assign)({},i&&{status:"crashed"}),{errors:e.errors||Number(s||i)})),this.captureSession(e))},e.prototype._sendSession=function(e){this._getBackend().sendSession(e)},e.prototype._isClientDoneProcessing=function(e){var t=this;return new(0,a("3X7U8").SyncPromise)(function(r){var n=0,i=setInterval(function(){0==t._numProcessing?(clearInterval(i),r(!0)):(n+=1,e&&n>=e&&(clearInterval(i),r(!1)))},1)})},e.prototype._getBackend=function(){return this._backend},e.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},e.prototype._prepareEvent=function(e,t,r){var n=this,i=this.getOptions(),s=i.normalizeDepth,o=void 0===s?3:s,l=i.normalizeMaxBreadth,c=void 0===l?1e3:l,u=(0,a("3VFsf").__assign)((0,a("3VFsf").__assign)({},e),{event_id:e.event_id||(r&&r.event_id?r.event_id:(0,a("jyUiA").uuid4)()),timestamp:e.timestamp||(0,a("eHWqV").dateTimestampInSeconds)()});this._applyClientOptions(u),this._applyIntegrationsMetadata(u);var d=t;r&&r.captureContext&&(d=a("gfYRq").Scope.clone(d).update(r.captureContext));var h=(0,a("3X7U8").resolvedSyncPromise)(u);return d&&(h=d.applyToEvent(u,r)),h.then(function(e){return(e&&(e.sdkProcessingMetadata=(0,a("3VFsf").__assign)((0,a("3VFsf").__assign)({},e.sdkProcessingMetadata),{normalizeDepth:(0,a("2mY5H").normalize)(o)+" ("+typeof o+")"})),"number"==typeof o&&o>0)?n._normalizeEvent(e,o,c):e})},e.prototype._normalizeEvent=function(e,t,r){if(!e)return null;var n=(0,a("3VFsf").__assign)((0,a("3VFsf").__assign)((0,a("3VFsf").__assign)((0,a("3VFsf").__assign)((0,a("3VFsf").__assign)({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(function(e){return(0,a("3VFsf").__assign)((0,a("3VFsf").__assign)({},e),e.data&&{data:(0,a("2mY5H").normalize)(e.data,t,r)})})}),e.user&&{user:(0,a("2mY5H").normalize)(e.user,t,r)}),e.contexts&&{contexts:(0,a("2mY5H").normalize)(e.contexts,t,r)}),e.extra&&{extra:(0,a("2mY5H").normalize)(e.extra,t,r)});return e.contexts&&e.contexts.trace&&(n.contexts.trace=e.contexts.trace),n.sdkProcessingMetadata=(0,a("3VFsf").__assign)((0,a("3VFsf").__assign)({},n.sdkProcessingMetadata),{baseClientNormalized:!0}),n},e.prototype._applyClientOptions=function(e){var t=this.getOptions(),r=t.environment,n=t.release,i=t.dist,s=t.maxValueLength,o=void 0===s?250:s;"environment"in e||(e.environment="environment"in t?r:"production"),void 0===e.release&&void 0!==n&&(e.release=n),void 0===e.dist&&void 0!==i&&(e.dist=i),e.message&&(e.message=(0,a("jOwKr").truncate)(e.message,o));var l=e.exception&&e.exception.values&&e.exception.values[0];l&&l.value&&(l.value=(0,a("jOwKr").truncate)(l.value,o));var c=e.request;c&&c.url&&(c.url=(0,a("jOwKr").truncate)(c.url,o))},e.prototype._applyIntegrationsMetadata=function(e){var t=Object.keys(this._integrations);t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=(0,a("3VFsf").__spread)(e.sdk.integrations||[],t))},e.prototype._sendEvent=function(e){this._getBackend().sendEvent(e)},e.prototype._captureEvent=function(e,t,r){return this._processEvent(e,t,r).then(function(e){return e.event_id},function(e){a("aEGcl").IS_DEBUG_BUILD&&a("4geCF").logger.error(e)})},e.prototype._processEvent=function(e,t,r){var n=this,i=this.getOptions(),s=i.beforeSend,o=i.sampleRate,l=this.getTransport();function c(e,t){l.recordLostEvent&&l.recordLostEvent(e,t)}if(!this._isEnabled())return(0,a("3X7U8").rejectedSyncPromise)(new(0,a("b17Q6").SentryError)("SDK not enabled, will not capture event."));var u="transaction"===e.type;return!u&&"number"==typeof o&&Math.random()>o?(c("sample_rate","event"),(0,a("3X7U8").rejectedSyncPromise)(new(0,a("b17Q6").SentryError)("Discarding event because it's not included in the random sample (sampling rate = "+o+")"))):this._prepareEvent(e,r,t).then(function(r){if(null===r)throw c("event_processor",e.type||"event"),new(0,a("b17Q6").SentryError)("An event processor returned null, will not send event.");return t&&t.data&&!0===t.data.__sentry__||u||!s?r:function(e){var t="`beforeSend` method has to return `null` or a valid event.";if((0,a("gkmq5").isThenable)(e))return e.then(function(e){if(!((0,a("gkmq5").isPlainObject)(e)||null===e))throw new(0,a("b17Q6").SentryError)(t);return e},function(e){throw new(0,a("b17Q6").SentryError)("beforeSend rejected with "+e)});if(!((0,a("gkmq5").isPlainObject)(e)||null===e))throw new(0,a("b17Q6").SentryError)(t);return e}(s(r,t))}).then(function(t){if(null===t)throw c("before_send",e.type||"event"),new(0,a("b17Q6").SentryError)("`beforeSend` returned `null`, will not send event.");var i=r&&r.getSession&&r.getSession();return!u&&i&&n._updateSessionFromEvent(i,t),n._sendEvent(t),t}).then(null,function(e){if(e instanceof a("b17Q6").SentryError)throw e;throw n.captureException(e,{data:{__sentry__:!0},originalException:e}),new(0,a("b17Q6").SentryError)("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+e)})},e.prototype._process=function(e){var t=this;this._numProcessing+=1,e.then(function(e){return t._numProcessing-=1,e},function(e){return t._numProcessing-=1,e})},e}()}),o("6WKyI",function(t,r){e(t.exports,"setupIntegrations",()=>s),a("8KVVB");var n=[];function i(e){return e.reduce(function(e,t){return e.every(function(e){return t.name!==e.name})&&e.push(t),e},[])}function s(e){var t,r,s,o,l,c={};return(t=e.defaultIntegrations&&(0,a("3VFsf").__spread)(e.defaultIntegrations)||[],r=e.integrations,s=(0,a("3VFsf").__spread)(i(t)),Array.isArray(r)?s=(0,a("3VFsf").__spread)(s.filter(function(e){return r.every(function(t){return t.name!==e.name})}),i(r)):"function"==typeof r&&(s=Array.isArray(s=r(s))?s:[s]),o=s.map(function(e){return e.name}),l="Debug",-1!==o.indexOf(l)&&s.push.apply(s,(0,a("3VFsf").__spread)(s.splice(o.indexOf(l),1))),s).forEach(function(e){c[e.name]=e,-1===n.indexOf(e.name)&&(e.setupOnce(a("gfYRq").addGlobalEventProcessor,a("3kk8J").getCurrentHub),n.push(e.name),a("aEGcl").IS_DEBUG_BUILD&&a("4geCF").logger.log("Integration installed: "+e.name))}),(0,a("1l3DN").addNonEnumerableProperty)(c,"initialized",!0),c}}),o("f1FVh",function(t,r){e(t.exports,"SDK_VERSION",()=>n);var n="6.19.7"}),o("7bB5K",function(t,r){e(t.exports,"BrowserBackend",()=>n),a("8KVVB");var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a("3VFsf").__extends)(t,e),t.prototype.eventFromException=function(e,t){return(0,a("j0O65").eventFromException)(e,t,this._options.attachStacktrace)},t.prototype.eventFromMessage=function(e,t,r){return void 0===t&&(t=a("4aybe").Severity.Info),(0,a("j0O65").eventFromMessage)(e,t,r,this._options.attachStacktrace)},t.prototype._setupTransport=function(){if(!this._options.dsn)return e.prototype._setupTransport.call(this);var t=(0,a("3VFsf").__assign)((0,a("3VFsf").__assign)({},this._options.transportOptions),{dsn:this._options.dsn,tunnel:this._options.tunnel,sendClientReports:this._options.sendClientReports,_metadata:this._options._metadata}),r=(0,a("eo4PV").initAPIDetails)(t.dsn,t._metadata,t.tunnel),n=(0,a("eo4PV").getEnvelopeEndpointWithUrlEncodedAuth)(r.dsn,r.tunnel);if(this._options.transport)return new this._options.transport(t);if((0,a("ci1rH").supportsFetch)()){var i=(0,a("3VFsf").__assign)({},t.fetchParameters);return this._newTransport=(0,a("j0yJv").makeNewFetchTransport)({requestOptions:i,url:n}),new(0,a("dPxoy").FetchTransport)(t)}return this._newTransport=(0,a("9FggM").makeNewXHRTransport)({url:n,headers:t.headers}),new(0,a("li9k9").XHRTransport)(t)},t}(a("hNPWg").BaseBackend)}),o("hNPWg",function(t,r){e(t.exports,"BaseBackend",()=>n),a("8KVVB");var n=function(){function e(e){this._options=e,!this._options.dsn&&a("aEGcl").IS_DEBUG_BUILD&&a("4geCF").logger.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return e.prototype.eventFromException=function(e,t){throw new(0,a("b17Q6").SentryError)("Backend has to implement `eventFromException` method")},e.prototype.eventFromMessage=function(e,t,r){throw new(0,a("b17Q6").SentryError)("Backend has to implement `eventFromMessage` method")},e.prototype.sendEvent=function(e){if(this._newTransport&&this._options.dsn&&this._options._experiments&&this._options._experiments.newTransport){var t=(0,a("eo4PV").initAPIDetails)(this._options.dsn,this._options._metadata,this._options.tunnel),r=(0,a("74I1Q").createEventEnvelope)(e,t);this._newTransport.send(r).then(null,function(e){a("aEGcl").IS_DEBUG_BUILD&&a("4geCF").logger.error("Error while sending event:",e)})}else this._transport.sendEvent(e).then(null,function(e){a("aEGcl").IS_DEBUG_BUILD&&a("4geCF").logger.error("Error while sending event:",e)})},e.prototype.sendSession=function(e){if(!this._transport.sendSession){a("aEGcl").IS_DEBUG_BUILD&&a("4geCF").logger.warn("Dropping session because custom transport doesn't implement sendSession");return}if(this._newTransport&&this._options.dsn&&this._options._experiments&&this._options._experiments.newTransport){var t=(0,a("eo4PV").initAPIDetails)(this._options.dsn,this._options._metadata,this._options.tunnel),r=(0,a("3VFsf").__read)((0,a("74I1Q").createSessionEnvelope)(e,t),1)[0];this._newTransport.send(r).then(null,function(e){a("aEGcl").IS_DEBUG_BUILD&&a("4geCF").logger.error("Error while sending session:",e)})}else this._transport.sendSession(e).then(null,function(e){a("aEGcl").IS_DEBUG_BUILD&&a("4geCF").logger.error("Error while sending session:",e)})},e.prototype.getTransport=function(){return this._transport},e.prototype._setupTransport=function(){return new(0,a("bp300").NoopTransport)},e}()}),o("eo4PV",function(t,r){function n(e,t,r){void 0===t&&(t={}),this.dsn=e,this._dsnObject=(0,a("gSiM6").makeDsn)(e),this.metadata=t,this._tunnel=r}function i(e,t,r){return{initDsn:e,metadata:t||{},dsn:(0,a("gSiM6").makeDsn)(e),tunnel:r}}function s(e){var t=e.protocol?e.protocol+":":"",r=e.port?":"+e.port:"";return t+"//"+e.host+r+(e.path?"/"+e.path:"")+"/api/"}function o(e,t){return""+s(e)+e.projectId+"/"+t+"/"}function l(e){return(0,a("1l3DN").urlEncode)({sentry_key:e.publicKey,sentry_version:"7"})}function c(e){return o(e,"store")}function u(e){return c(e)+"?"+l(e)}function d(e,t){return t||o(e,"envelope")+"?"+l(e)}function h(e,t){var r=(0,a("gSiM6").makeDsn)(e),n=s(r)+"embed/error-page/",i="dsn="+(0,a("gSiM6").dsnToString)(r);for(var o in t)if("dsn"!==o)if("user"===o){if(!t.user)continue;t.user.name&&(i+="&name="+encodeURIComponent(t.user.name)),t.user.email&&(i+="&email="+encodeURIComponent(t.user.email))}else i+="&"+encodeURIComponent(o)+"="+encodeURIComponent(t[o]);return n+"?"+i}e(t.exports,"getStoreEndpointWithUrlEncodedAuth",()=>u),e(t.exports,"getEnvelopeEndpointWithUrlEncodedAuth",()=>d),e(t.exports,"initAPIDetails",()=>i),e(t.exports,"getReportDialogEndpoint",()=>h),a("8KVVB"),n.prototype.getDsn=function(){return this._dsnObject},n.prototype.forceEnvelope=function(){return!!this._tunnel},n.prototype.getBaseApiEndpoint=function(){return s(this._dsnObject)},n.prototype.getStoreEndpoint=function(){return c(this._dsnObject)},n.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return u(this._dsnObject)},n.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return d(this._dsnObject,this._tunnel)}}),o("74I1Q",function(t,r){function n(e){if(e.metadata&&e.metadata.sdk){var t=e.metadata.sdk;return{name:t.name,version:t.version}}}function i(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=(0,a("3VFsf").__spread)(e.sdk.integrations||[],t.integrations||[]),e.sdk.packages=(0,a("3VFsf").__spread)(e.sdk.packages||[],t.packages||[])),e}function s(e,t){var r=n(t),i=(0,a("3VFsf").__assign)((0,a("3VFsf").__assign)({sent_at:new Date().toISOString()},r&&{sdk:r}),!!t.tunnel&&{dsn:(0,a("gSiM6").dsnToString)(t.dsn)}),s="aggregates"in e?"sessions":"session";return[(0,a("e1x9C").createEnvelope)(i,[[{type:s},e]]),s]}function o(e,t){var r=(0,a("3VFsf").__read)(s(e,t),2),n=r[0],i=r[1];return{body:(0,a("e1x9C").serializeEnvelope)(n),type:i,url:(0,a("eo4PV").getEnvelopeEndpointWithUrlEncodedAuth)(t.dsn,t.tunnel)}}function l(e,t){var r=n(t),s=e.type||"event",o=(e.sdkProcessingMetadata||{}).transactionSampling||{},l=o.method,c=o.rate;i(e,t.metadata.sdk),e.tags=e.tags||{},e.extra=e.extra||{},e.sdkProcessingMetadata&&e.sdkProcessingMetadata.baseClientNormalized||(e.tags.skippedNormalization=!0,e.extra.normalizeDepth=e.sdkProcessingMetadata?e.sdkProcessingMetadata.normalizeDepth:"unset"),delete e.sdkProcessingMetadata;var u=(0,a("3VFsf").__assign)((0,a("3VFsf").__assign)({event_id:e.event_id,sent_at:new Date().toISOString()},r&&{sdk:r}),!!t.tunnel&&{dsn:(0,a("gSiM6").dsnToString)(t.dsn)}),d=[{type:s,sample_rates:[{id:l,rate:c}]},e];return(0,a("e1x9C").createEnvelope)(u,[d])}function c(e,t){var r,s=n(t),o=e.type||"event",l="transaction"===o||!!t.tunnel,c=(e.sdkProcessingMetadata||{}).transactionSampling||{},u=c.method,d=c.rate;i(e,t.metadata.sdk),e.tags=e.tags||{},e.extra=e.extra||{},e.sdkProcessingMetadata&&e.sdkProcessingMetadata.baseClientNormalized||(e.tags.skippedNormalization=!0,e.extra.normalizeDepth=e.sdkProcessingMetadata?e.sdkProcessingMetadata.normalizeDepth:"unset"),delete e.sdkProcessingMetadata;try{r=JSON.stringify(e)}catch(t){e.tags.JSONStringifyError=!0,e.extra.JSONStringifyError=t;try{r=JSON.stringify((0,a("2mY5H").normalize)(e))}catch(e){r=JSON.stringify({message:"JSON.stringify error after renormalization",extra:{message:e.message,stack:e.stack}})}}var h={body:r,type:o,url:l?(0,a("eo4PV").getEnvelopeEndpointWithUrlEncodedAuth)(t.dsn,t.tunnel):(0,a("eo4PV").getStoreEndpointWithUrlEncodedAuth)(t.dsn)};if(l){var p=(0,a("3VFsf").__assign)((0,a("3VFsf").__assign)({event_id:e.event_id,sent_at:new Date().toISOString()},s&&{sdk:s}),!!t.tunnel&&{dsn:(0,a("gSiM6").dsnToString)(t.dsn)}),f=[{type:o,sample_rates:[{id:u,rate:d}]},h.body],g=(0,a("e1x9C").createEnvelope)(p,[f]);h.body=(0,a("e1x9C").serializeEnvelope)(g)}return h}e(t.exports,"createSessionEnvelope",()=>s),e(t.exports,"sessionToSentryRequest",()=>o),e(t.exports,"createEventEnvelope",()=>l),e(t.exports,"eventToSentryRequest",()=>c),a("8KVVB")}),o("bp300",function(t,r){e(t.exports,"NoopTransport",()=>n),a("8KVVB");var n=function(){function e(){}return e.prototype.sendEvent=function(e){return(0,a("3X7U8").resolvedSyncPromise)({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:"skipped"})},e.prototype.close=function(e){return(0,a("3X7U8").resolvedSyncPromise)(!0)},e}()}),o("j0O65",function(t,r){function n(e){var t,r,n=s(e),i={type:e&&e.name,value:(r=(t=e)&&t.message)?r.error&&"string"==typeof r.error.message?r.error.message:r:"No error message"};return n.length&&(i.stacktrace={frames:n}),void 0===i.type&&""===i.value&&(i.value="Unrecoverable error caught"),i}function i(e){return{exception:{values:[n(e)]}}}function s(e){var t=e.stacktrace||e.stack||"",r=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(o.test(e.message))return 1}return 0}(e);try{return(0,a("aNkwr").createStackParser)(a("kwRAs").opera10StackParser,a("kwRAs").opera11StackParser,a("kwRAs").chromeStackParser,a("kwRAs").winjsStackParser,a("kwRAs").geckoStackParser)(t,r)}catch(e){}return[]}e(t.exports,"exceptionFromError",()=>n),e(t.exports,"eventFromException",()=>l),e(t.exports,"eventFromUnknownInput",()=>u),e(t.exports,"eventFromMessage",()=>c),a("8KVVB");var o=/Minified React error #\d+;/i;function l(e,t,r){var n=u(e,t&&t.syntheticException||void 0,r);return(0,a("jyUiA").addExceptionMechanism)(n),n.level=a("4aybe").Severity.Error,t&&t.event_id&&(n.event_id=t.event_id),(0,a("3X7U8").resolvedSyncPromise)(n)}function c(e,t,r,n){void 0===t&&(t=a("4aybe").Severity.Info);var i=d(e,r&&r.syntheticException||void 0,n);return i.level=t,r&&r.event_id&&(i.event_id=r.event_id),(0,a("3X7U8").resolvedSyncPromise)(i)}function u(e,t,r,n){var o;if((0,a("gkmq5").isErrorEvent)(e)&&e.error)return i(e.error);if((0,a("gkmq5").isDOMError)(e)||(0,a("gkmq5").isDOMException)(e)){if("stack"in e)o=i(e);else{var l=e.name||((0,a("gkmq5").isDOMError)(e)?"DOMError":"DOMException"),c=e.message?l+": "+e.message:l;o=d(c,t,r),(0,a("jyUiA").addExceptionTypeValue)(o,c)}return"code"in e&&(o.tags=(0,a("3VFsf").__assign)((0,a("3VFsf").__assign)({},o.tags),{"DOMException.code":""+e.code})),o}return(0,a("gkmq5").isError)(e)?i(e):((0,a("gkmq5").isPlainObject)(e)||(0,a("gkmq5").isEvent)(e)?o=function(e,t,r){var n={exception:{values:[{type:(0,a("gkmq5").isEvent)(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:"Non-Error "+(r?"promise rejection":"exception")+" captured with keys: "+(0,a("1l3DN").extractExceptionKeysForMessage)(e)}]},extra:{__serialized__:(0,a("2mY5H").normalizeToSize)(e)}};if(t){var i=s(t);i.length&&(n.stacktrace={frames:i})}return n}(e,t,n):(o=d(e,t,r),(0,a("jyUiA").addExceptionTypeValue)(o,""+e,void 0)),(0,a("jyUiA").addExceptionMechanism)(o,{synthetic:!0}),o)}function d(e,t,r){var n={message:e};if(r&&t){var i=s(t);i.length&&(n.stacktrace={frames:i})}return n}}),o("kwRAs",function(t,r){function n(e,t,r,n){var i={filename:e,function:t,in_app:!0};return void 0!==r&&(i.lineno=r),void 0!==n&&(i.colno=n),i}e(t.exports,"chromeStackParser",()=>o),e(t.exports,"geckoStackParser",()=>u),e(t.exports,"winjsStackParser",()=>h),e(t.exports,"opera10StackParser",()=>f),e(t.exports,"opera11StackParser",()=>m);var i=/^\s*at (?:(.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,s=/\((\S*)(?::(\d+))(?::(\d+))\)/,o=[30,function(e){var t=i.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){var r=s.exec(t[2]);r&&(t[2]=r[1],t[3]=r[2],t[4]=r[3])}var o=(0,a("3VFsf").__read)(v(t[1]||"?",t[2]),2),l=o[0];return n(o[1],l,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],l=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,c=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,u=[50,function(e){var t,r=l.exec(e);if(r){if(r[3]&&r[3].indexOf(" > eval")>-1){var i=c.exec(r[3]);i&&(r[1]=r[1]||"eval",r[3]=i[1],r[4]=i[2],r[5]="")}var s=r[3],o=r[1]||"?";return o=(t=(0,a("3VFsf").__read)(v(o,s),2))[0],n(s=t[1],o,r[4]?+r[4]:void 0,r[5]?+r[5]:void 0)}}],d=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,h=[40,function(e){var t=d.exec(e);return t?n(t[2],t[1]||"?",+t[3],t[4]?+t[4]:void 0):void 0}],p=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,f=[10,function(e){var t=p.exec(e);return t?n(t[2],t[3]||"?",+t[1]):void 0}],g=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,m=[20,function(e){var t=g.exec(e);return t?n(t[5],t[3]||t[4]||"?",+t[1],+t[2]):void 0}],v=function(e,t){var r=-1!==e.indexOf("safari-extension"),n=-1!==e.indexOf("safari-web-extension");return r||n?[-1!==e.indexOf("@")?e.split("@")[0]:"?",r?"safari-extension:"+t:"safari-web-extension:"+t]:[e,t]}}),o("dPxoy",function(t,r){e(t.exports,"FetchTransport",()=>n),a("8KVVB");var n=function(e){function t(t,r){void 0===r&&(r=(0,a("4pdWf").getNativeFetchImplementation)());var n=e.call(this,t)||this;return n._fetch=r,n}return(0,a("3VFsf").__extends)(t,e),t.prototype._sendRequest=function(e,t){var r=this;if(this._isRateLimited(e.type))return this.recordLostEvent("ratelimit_backoff",e.type),Promise.reject({event:t,type:e.type,reason:"Transport for "+e.type+" requests locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429});var n={body:e.body,method:"POST",referrerPolicy:(0,a("ci1rH").supportsReferrerPolicy)()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(n,this.options.fetchParameters),void 0!==this.options.headers&&(n.headers=this.options.headers),this._buffer.add(function(){return new(0,a("3X7U8").SyncPromise)(function(t,i){r._fetch(e.url,n).then(function(n){var s={"x-sentry-rate-limits":n.headers.get("X-Sentry-Rate-Limits"),"retry-after":n.headers.get("Retry-After")};r._handleResponse({requestType:e.type,response:n,headers:s,resolve:t,reject:i})}).catch(i)})}).then(void 0,function(t){throw t instanceof a("b17Q6").SentryError?r.recordLostEvent("queue_overflow",e.type):r.recordLostEvent("network_error",e.type),t})},t}(a("hZuUW").BaseTransport)}),o("hZuUW",function(t,r){function n(e){return"event"===e?"error":e}e(t.exports,"BaseTransport",()=>s),a("8KVVB");var i=(0,a("35A7f").getGlobalObject)(),s=function(){function e(e){var t=this;this.options=e,this._buffer=(0,a("9aaXP").makePromiseBuffer)(30),this._rateLimits={},this._outcomes={},this._api=(0,a("eo4PV").initAPIDetails)(e.dsn,e._metadata,e.tunnel),this.url=(0,a("eo4PV").getStoreEndpointWithUrlEncodedAuth)(this._api.dsn),this.options.sendClientReports&&i.document&&i.document.addEventListener("visibilitychange",function(){"hidden"===i.document.visibilityState&&t._flushOutcomes()})}return e.prototype.sendEvent=function(e){return this._sendRequest((0,a("74I1Q").eventToSentryRequest)(e,this._api),e)},e.prototype.sendSession=function(e){return this._sendRequest((0,a("74I1Q").sessionToSentryRequest)(e,this._api),e)},e.prototype.close=function(e){return this._buffer.drain(e)},e.prototype.recordLostEvent=function(e,t){if(this.options.sendClientReports){var r,i=n(t)+":"+e;a("l97zN").IS_DEBUG_BUILD&&a("4geCF").logger.log("Adding outcome: "+i),this._outcomes[i]=(null!=(r=this._outcomes[i])?r:0)+1}},e.prototype._flushOutcomes=function(){if(this.options.sendClientReports){var e=this._outcomes;if(this._outcomes={},!Object.keys(e).length){a("l97zN").IS_DEBUG_BUILD&&a("4geCF").logger.log("No outcomes to flush");return}a("l97zN").IS_DEBUG_BUILD&&a("4geCF").logger.log("Flushing outcomes:\n"+JSON.stringify(e,null,2));var t=(0,a("eo4PV").getEnvelopeEndpointWithUrlEncodedAuth)(this._api.dsn,this._api.tunnel),r=Object.keys(e).map(function(t){var r=(0,a("3VFsf").__read)(t.split(":"),2),n=r[0];return{reason:r[1],category:n,quantity:e[t]}}),n=(0,a("jk0Xn").createClientReportEnvelope)(r,this._api.tunnel&&(0,a("gSiM6").dsnToString)(this._api.dsn));try{(0,a("4pdWf").sendReport)(t,(0,a("e1x9C").serializeEnvelope)(n))}catch(e){a("l97zN").IS_DEBUG_BUILD&&a("4geCF").logger.error(e)}}},e.prototype._handleResponse=function(e){var t=e.requestType,r=e.response,n=e.headers,i=e.resolve,s=e.reject,o=(0,a("aGIlP").eventStatusFromHttpCode)(r.status);if(this._rateLimits=(0,a("2rF5w").updateRateLimits)(this._rateLimits,n),this._isRateLimited(t)&&a("l97zN").IS_DEBUG_BUILD&&a("4geCF").logger.warn("Too many "+t+" requests, backing off until: "+this._disabledUntil(t)),"success"===o)return void i({status:o});s(r)},e.prototype._disabledUntil=function(e){var t=n(e);return new Date((0,a("2rF5w").disabledUntil)(this._rateLimits,t))},e.prototype._isRateLimited=function(e){var t=n(e);return(0,a("2rF5w").isRateLimited)(this._rateLimits,t)},e}()}),o("l97zN",function(t,r){e(t.exports,"IS_DEBUG_BUILD",()=>n);var n="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__}),o("4pdWf",function(t,r){e(t.exports,"getNativeFetchImplementation",()=>s),e(t.exports,"sendReport",()=>o),a("8KVVB");var n,i=(0,a("35A7f").getGlobalObject)();function s(){if(n)return n;if((0,a("ci1rH").isNativeFetch)(i.fetch))return n=i.fetch.bind(i);var e=i.document,t=i.fetch;if(e&&"function"==typeof e.createElement)try{var r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r);var s=r.contentWindow;s&&s.fetch&&(t=s.fetch),e.head.removeChild(r)}catch(e){a("l97zN").IS_DEBUG_BUILD&&a("4geCF").logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return n=t.bind(i)}function o(e,t){if("[object Navigator]"===Object.prototype.toString.call(i&&i.navigator)&&"function"==typeof i.navigator.sendBeacon)return i.navigator.sendBeacon.bind(i.navigator)(e,t);if((0,a("ci1rH").supportsFetch)()){var r=s();return(0,a("dYkdu").forget)(r(e,{body:t,method:"POST",credentials:"omit",keepalive:!0}))}}}),o("j0yJv",function(t,r){e(t.exports,"makeNewFetchTransport",()=>n);function n(e,t){return void 0===t&&(t=(0,a("4pdWf").getNativeFetchImplementation)()),(0,a("l15lu").createTransport)({bufferSize:e.bufferSize},function(r){var n=(0,a("3VFsf").__assign)({body:r.body,method:"POST",referrerPolicy:"origin"},e.requestOptions);return t(e.url,n).then(function(e){return e.text().then(function(t){return{body:t,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")},reason:e.statusText,statusCode:e.status}})})})}}),o("l15lu",function(t,r){function n(e,t,r){void 0===r&&(r=(0,a("9aaXP").makePromiseBuffer)(e.bufferSize||30));var n={};return{send:function(e){var s=(0,a("e1x9C").getEnvelopeType)(e),o="event"===s?"error":s,l={category:o,body:(0,a("e1x9C").serializeEnvelope)(e)};return(0,a("2rF5w").isRateLimited)(n,o)?(0,a("3X7U8").rejectedSyncPromise)({status:"rate_limit",reason:i(n,o)}):r.add(function(){return t(l).then(function(e){var t=e.body,r=e.headers,s=e.reason,l=e.statusCode,c=(0,a("aGIlP").eventStatusFromHttpCode)(l);return(r&&(n=(0,a("2rF5w").updateRateLimits)(n,r)),"success"===c)?(0,a("3X7U8").resolvedSyncPromise)({status:c,reason:s}):(0,a("3X7U8").rejectedSyncPromise)({status:c,reason:s||t||("rate_limit"===c?i(n,o):"Unknown transport error")})})})},flush:function(e){return r.drain(e)}}}function i(e,t){return"Too many "+t+" requests, backing off until: "+new Date((0,a("2rF5w").disabledUntil)(e,t)).toISOString()}e(t.exports,"createTransport",()=>n),a("8KVVB")}),o("9FggM",function(t,r){e(t.exports,"makeNewXHRTransport",()=>n),a("8KVVB");function n(e){return(0,a("l15lu").createTransport)({bufferSize:e.bufferSize},function(t){return new(0,a("3X7U8").SyncPromise)(function(r,n){var i=new XMLHttpRequest;for(var s in i.onreadystatechange=function(){4===i.readyState&&r({body:i.response,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")},reason:i.statusText,statusCode:i.status})},i.open("POST",e.url),e.headers)Object.prototype.hasOwnProperty.call(e.headers,s)&&i.setRequestHeader(s,e.headers[s]);i.send(t.body)})})}}),o("li9k9",function(t,r){e(t.exports,"XHRTransport",()=>n),a("8KVVB");var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a("3VFsf").__extends)(t,e),t.prototype._sendRequest=function(e,t){var r=this;return this._isRateLimited(e.type)?(this.recordLostEvent("ratelimit_backoff",e.type),Promise.reject({event:t,type:e.type,reason:"Transport for "+e.type+" requests locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429})):this._buffer.add(function(){return new(0,a("3X7U8").SyncPromise)(function(t,n){var i=new XMLHttpRequest;for(var s in i.onreadystatechange=function(){if(4===i.readyState){var s={"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")};r._handleResponse({requestType:e.type,response:i,headers:s,resolve:t,reject:n})}},i.open("POST",e.url),r.options.headers)Object.prototype.hasOwnProperty.call(r.options.headers,s)&&i.setRequestHeader(s,r.options.headers[s]);i.send(e.body)})}).then(void 0,function(t){throw t instanceof a("b17Q6").SentryError?r.recordLostEvent("queue_overflow",e.type):r.recordLostEvent("network_error",e.type),t})},t}(a("hZuUW").BaseTransport)}),o("9aSEL",function(t,r){e(t.exports,"shouldIgnoreOnError",()=>s),e(t.exports,"wrap",()=>function e(t,r,n){if(void 0===r&&(r={}),"function"!=typeof t)return t;try{var s=t.__sentry_wrapped__;if(s)return s;if((0,a("1l3DN").getOriginalFunction)(t))return t}catch(e){return t}var o=function(){var s=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);var o=s.map(function(t){return e(t,r)});return t.apply(this,o)}catch(e){throw i+=1,setTimeout(function(){i-=1}),(0,a("7zHWg").withScope)(function(t){t.addEventProcessor(function(e){return r.mechanism&&((0,a("jyUiA").addExceptionTypeValue)(e,void 0,void 0),(0,a("jyUiA").addExceptionMechanism)(e,r.mechanism)),e.extra=(0,a("3VFsf").__assign)((0,a("3VFsf").__assign)({},e.extra),{arguments:s}),e}),(0,a("7zHWg").captureException)(e)}),e}};try{for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(o[l]=t[l])}catch(e){}(0,a("1l3DN").markFunctionWrapped)(o,t),(0,a("1l3DN").addNonEnumerableProperty)(t,"__sentry_wrapped__",o);try{Object.getOwnPropertyDescriptor(o,"name").configurable&&Object.defineProperty(o,"name",{get:function(){return t.name}})}catch(e){}return o}),e(t.exports,"injectReportDialog",()=>o),a("8KVVB");var n=(0,a("35A7f").getGlobalObject)(),i=0;function s(){return i>0}function o(e){if(void 0===e&&(e={}),n.document){if(!e.eventId){a("l97zN").IS_DEBUG_BUILD&&a("4geCF").logger.error("Missing eventId option in showReportDialog call");return}if(!e.dsn){a("l97zN").IS_DEBUG_BUILD&&a("4geCF").logger.error("Missing dsn option in showReportDialog call");return}var t=n.document.createElement("script");t.async=!0,t.src=(0,a("eo4PV").getReportDialogEndpoint)(e.dsn,e),e.onLoad&&(t.onload=e.onLoad);var r=n.document.head||n.document.body;r&&r.appendChild(t)}}}),o("5Z1NC",function(t,r){e(t.exports,"Breadcrumbs",()=>n),a("8KVVB");var n=function(){function e(t){this.name=e.id,this._options=(0,a("3VFsf").__assign)({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}return e.prototype.addSentryBreadcrumb=function(e){this._options.sentry&&(0,a("3kk8J").getCurrentHub)().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:(0,a("jyUiA").getEventDescription)(e)},{event:e})},e.prototype.setupOnce=function(){var e;this._options.console&&(0,a("1sgxX").addInstrumentationHandler)("console",i),this._options.dom&&(0,a("1sgxX").addInstrumentationHandler)("dom",(e=this._options.dom,function(t){var r,n="object"==typeof e?e.serializeAttribute:void 0;"string"==typeof n&&(n=[n]);try{r=t.event.target?(0,a("7yHR0").htmlTreeAsString)(t.event.target,n):(0,a("7yHR0").htmlTreeAsString)(t.event,n)}catch(e){r="<unknown>"}0!==r.length&&(0,a("3kk8J").getCurrentHub)().addBreadcrumb({category:"ui."+t.name,message:r},{event:t.event,name:t.name,global:t.global})})),this._options.xhr&&(0,a("1sgxX").addInstrumentationHandler)("xhr",s),this._options.fetch&&(0,a("1sgxX").addInstrumentationHandler)("fetch",o),this._options.history&&(0,a("1sgxX").addInstrumentationHandler)("history",l)},e.id="Breadcrumbs",e}();function i(e){var t={category:"console",data:{arguments:e.args,logger:"console"},level:(0,a("n3F4l").severityFromString)(e.level),message:(0,a("jOwKr").safeJoin)(e.args," ")};if("assert"===e.level)if(!1!==e.args[0])return;else t.message="Assertion failed: "+((0,a("jOwKr").safeJoin)(e.args.slice(1)," ")||"console.assert"),t.data.arguments=e.args.slice(1);(0,a("3kk8J").getCurrentHub)().addBreadcrumb(t,{input:e.args,level:e.level})}function s(e){if(e.endTimestamp&&!e.xhr.__sentry_own_request__){var t=e.xhr.__sentry_xhr__||{},r=t.method,n=t.url,i=t.status_code,s=t.body;(0,a("3kk8J").getCurrentHub)().addBreadcrumb({category:"xhr",data:{method:r,url:n,status_code:i},type:"http"},{xhr:e.xhr,input:s});return}}function o(e){e.endTimestamp&&(e.fetchData.url.match(/sentry_key/)&&"POST"===e.fetchData.method||(e.error?(0,a("3kk8J").getCurrentHub)().addBreadcrumb({category:"fetch",data:e.fetchData,level:a("4aybe").Severity.Error,type:"http"},{data:e.error,input:e.args}):(0,a("3kk8J").getCurrentHub)().addBreadcrumb({category:"fetch",data:(0,a("3VFsf").__assign)((0,a("3VFsf").__assign)({},e.fetchData),{status_code:e.response.status}),type:"http"},{input:e.args,response:e.response})))}function l(e){var t=(0,a("35A7f").getGlobalObject)(),r=e.from,n=e.to,i=(0,a("jyUiA").parseUrl)(t.location.href),s=(0,a("jyUiA").parseUrl)(r),o=(0,a("jyUiA").parseUrl)(n);s.path||(s=i),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),i.protocol===s.protocol&&i.host===s.host&&(r=s.relative),(0,a("3kk8J").getCurrentHub)().addBreadcrumb({category:"navigation",data:{from:r,to:n}})}}),o("ilDeH",function(t,r){e(t.exports,"Dedupe",()=>n),a("8KVVB");var n=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(t,r){t(function(t){var n,l,c,u,d,h,p,f,g,m,v=r().getIntegration(e);if(v){try{if(n=t,(l=v._previousEvent)&&(c=n,u=l,d=c.message,h=u.message,(d||h)&&(!d||h)&&(d||!h)&&d===h&&s(c,u)&&i(c,u)&&1||(p=n,f=l,g=o(f),m=o(p),g&&m&&g.type===m.type&&g.value===m.value&&s(p,f)&&i(p,f))))return a("l97zN").IS_DEBUG_BUILD&&a("4geCF").logger.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return v._previousEvent=t}return t})},e.id="Dedupe",e}();function i(e,t){var r=l(e),n=l(t);if(!r&&!n)return!0;if(r&&!n||!r&&n||n.length!==r.length)return!1;for(var i=0;i<n.length;i++){var s=n[i],a=r[i];if(s.filename!==a.filename||s.lineno!==a.lineno||s.colno!==a.colno||s.function!==a.function)return!1}return!0}function s(e,t){var r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;try{return r.join("")===n.join("")}catch(e){return!1}}function o(e){return e.exception&&e.exception.values&&e.exception.values[0]}function l(e){var t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){}else if(e.stacktrace)return e.stacktrace.frames}}),o("ijPmO",function(t,r){e(t.exports,"GlobalHandlers",()=>n),a("8KVVB");var n=function(){function e(t){this.name=e.id,this._installFunc={onerror:i,onunhandledrejection:s},this._options=(0,a("3VFsf").__assign)({onerror:!0,onunhandledrejection:!0},t)}return e.prototype.setupOnce=function(){Error.stackTraceLimit=50;var e=this._options;for(var t in e){var r,n=this._installFunc[t];n&&e[t]&&(r=t,a("l97zN").IS_DEBUG_BUILD&&a("4geCF").logger.log("Global Handler attached: "+r),n(),this._installFunc[t]=void 0)}},e.id="GlobalHandlers",e}();function i(){(0,a("1sgxX").addInstrumentationHandler)("error",function(e){var t=(0,a("3VFsf").__read)(c(),2),r=t[0],i=t[1];if(r.getIntegration(n)){var s=e.msg,u=e.url,d=e.line,h=e.column,p=e.error;if(!(0,a("9aSEL").shouldIgnoreOnError)()&&(!p||!p.__sentry_own_request__)){var f,g,m,v,y,E,b,_=void 0===p&&(0,a("gkmq5").isString)(s)?(f=s,g=u,m=d,v=h,y=(0,a("gkmq5").isErrorEvent)(f)?f.message:f,E="Error",(b=y.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i))&&(E=b[1],y=b[2]),o({exception:{values:[{type:E,value:y}]}},g,m,v)):o((0,a("j0O65").eventFromUnknownInput)(p||s,void 0,i,!1),u,d,h);_.level=a("4aybe").Severity.Error,l(r,p,_,"onerror")}}})}function s(){(0,a("1sgxX").addInstrumentationHandler)("unhandledrejection",function(e){var t=(0,a("3VFsf").__read)(c(),2),r=t[0],i=t[1];if(r.getIntegration(n)){var s=e;try{"reason"in e?s=e.reason:"detail"in e&&"reason"in e.detail&&(s=e.detail.reason)}catch(e){}if((0,a("9aSEL").shouldIgnoreOnError)()||s&&s.__sentry_own_request__)return!0;var o=(0,a("gkmq5").isPrimitive)(s)?{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(s)}]}}:(0,a("j0O65").eventFromUnknownInput)(s,void 0,i,!0);o.level=a("4aybe").Severity.Error,l(r,s,o,"onunhandledrejection")}})}function o(e,t,r,n){var i=e.exception=e.exception||{},s=i.values=i.values||[],o=s[0]=s[0]||{},l=o.stacktrace=o.stacktrace||{},c=l.frames=l.frames||[],u=isNaN(parseInt(n,10))?void 0:n,d=isNaN(parseInt(r,10))?void 0:r,h=(0,a("gkmq5").isString)(t)&&t.length>0?t:(0,a("7yHR0").getLocationHref)();return 0===c.length&&c.push({colno:u,filename:h,function:"?",in_app:!0,lineno:d}),e}function l(e,t,r,n){(0,a("jyUiA").addExceptionMechanism)(r,{handled:!1,type:n}),e.captureEvent(r,{originalException:t})}function c(){var e=(0,a("3kk8J").getCurrentHub)(),t=e.getClient();return[e,t&&t.getOptions().attachStacktrace]}}),o("5zMCv",function(t,r){e(t.exports,"LinkedErrors",()=>n),a("8KVVB");var n=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._key=t.key||"cause",this._limit=t.limit||5}return e.prototype.setupOnce=function(){(0,a("gfYRq").addGlobalEventProcessor)(function(t,r){var n=(0,a("3kk8J").getCurrentHub)().getIntegration(e);return n?function(e,t,r,n){if(!r.exception||!r.exception.values||!n||!(0,a("gkmq5").isInstanceOf)(n.originalException,Error))return r;var i=function e(t,r,n,i){if(void 0===i&&(i=[]),!(0,a("gkmq5").isInstanceOf)(r[n],Error)||i.length+1>=t)return i;var s=(0,a("j0O65").exceptionFromError)(r[n]);return e(t,r[n],n,(0,a("3VFsf").__spread)([s],i))}(t,n.originalException,e);return r.exception.values=(0,a("3VFsf").__spread)(i,r.exception.values),r}(n._key,n._limit,t,r):t})},e.id="LinkedErrors",e}()}),o("4EoaR",function(t,r){e(t.exports,"TryCatch",()=>i),a("8KVVB");var n=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],i=function(){function e(t){this.name=e.id,this._options=(0,a("3VFsf").__assign)({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},t)}return e.prototype.setupOnce=function(){var e=(0,a("35A7f").getGlobalObject)();this._options.setTimeout&&(0,a("1l3DN").fill)(e,"setTimeout",s),this._options.setInterval&&(0,a("1l3DN").fill)(e,"setInterval",s),this._options.requestAnimationFrame&&(0,a("1l3DN").fill)(e,"requestAnimationFrame",o),this._options.XMLHttpRequest&&"XMLHttpRequest"in e&&(0,a("1l3DN").fill)(XMLHttpRequest.prototype,"send",l);var t=this._options.eventTarget;t&&(Array.isArray(t)?t:n).forEach(c)},e.id="TryCatch",e}();function s(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0];return t[0]=(0,a("9aSEL").wrap)(n,{mechanism:{data:{function:(0,a("aNkwr").getFunctionName)(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}}function o(e){return function(t){return e.apply(this,[(0,a("9aSEL").wrap)(t,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,a("aNkwr").getFunctionName)(e)},handled:!0,type:"instrument"}})])}}function l(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(function(e){e in n&&"function"==typeof n[e]&&(0,a("1l3DN").fill)(n,e,function(t){var r={mechanism:{data:{function:e,handler:(0,a("aNkwr").getFunctionName)(t)},handled:!0,type:"instrument"}},n=(0,a("1l3DN").getOriginalFunction)(t);return n&&(r.mechanism.data.handler=(0,a("aNkwr").getFunctionName)(n)),(0,a("9aSEL").wrap)(t,r)})}),e.apply(this,t)}}function c(e){var t=(0,a("35A7f").getGlobalObject)(),r=t[e]&&t[e].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&((0,a("1l3DN").fill)(r,"addEventListener",function(t){return function(r,n,i){try{"function"==typeof n.handleEvent&&(n.handleEvent=(0,a("9aSEL").wrap)(n.handleEvent.bind(n),{mechanism:{data:{function:"handleEvent",handler:(0,a("aNkwr").getFunctionName)(n),target:e},handled:!0,type:"instrument"}}))}catch(e){}return t.apply(this,[r,(0,a("9aSEL").wrap)(n,{mechanism:{data:{function:"addEventListener",handler:(0,a("aNkwr").getFunctionName)(n),target:e},handled:!0,type:"instrument"}}),i])}}),(0,a("1l3DN").fill)(r,"removeEventListener",function(e){return function(t,r,n){try{var i=r&&r.__sentry_wrapped__;i&&e.call(this,t,i,n)}catch(e){}return e.call(this,t,r,n)}}))}}),o("lKe3d",function(t,r){e(t.exports,"UserAgent",()=>i),a("8KVVB");var n=(0,a("35A7f").getGlobalObject)(),i=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){(0,a("gfYRq").addGlobalEventProcessor)(function(t){if((0,a("3kk8J").getCurrentHub)().getIntegration(e)){if(!n.navigator&&!n.location&&!n.document)return t;var r=t.request&&t.request.url||n.location&&n.location.href,i=(n.document||{}).referrer,s=(n.navigator||{}).userAgent,o=(0,a("3VFsf").__assign)((0,a("3VFsf").__assign)((0,a("3VFsf").__assign)({},t.request&&t.request.headers),i&&{Referer:i}),s&&{"User-Agent":s}),l=(0,a("3VFsf").__assign)((0,a("3VFsf").__assign)({},r&&{url:r}),{headers:o});return(0,a("3VFsf").__assign)((0,a("3VFsf").__assign)({},t),{request:l})}return t})},e.id="UserAgent",e}()}),o("ehYmi",function(t,r){e(t.exports,"CaptureConsole",()=>i),a("8KVVB");var n=(0,a("35A7f").getGlobalObject)(),i=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._levels=a("4geCF").CONSOLE_LEVELS,t.levels&&(this._levels=t.levels)}return e.prototype.setupOnce=function(t,r){"console"in n&&this._levels.forEach(function(t){t in n.console&&(0,a("1l3DN").fill)(n.console,t,function(i){return function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];var l=r();l.getIntegration(e)&&l.withScope(function(e){e.setLevel((0,a("n3F4l").severityFromString)(t)),e.setExtra("arguments",s),e.addEventProcessor(function(e){return e.logger="console",e});var r=(0,a("jOwKr").safeJoin)(s," ");"assert"===t?!1===s[0]&&(r="Assertion failed: "+((0,a("jOwKr").safeJoin)(s.slice(1)," ")||"console.assert"),e.setExtra("arguments",s.slice(1)),l.captureMessage(r)):"error"===t&&s[0]instanceof Error?l.captureException(s[0]):l.captureMessage(r)}),i&&i.apply(n.console,s)}})})},e.id="CaptureConsole",e}()}),o("lt9kQ",function(t,r){e(t.exports,"Dedupe",()=>n),a("8KVVB");var n=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(t,r){t(function(t){var n,l,c,u,d,h,p,f,g,m,v=r().getIntegration(e);if(v){try{if(n=t,(l=v._previousEvent)&&(c=n,u=l,d=c.message,h=u.message,(d||h)&&(!d||h)&&(d||!h)&&d===h&&s(c,u)&&i(c,u)&&1||(p=n,f=l,g=o(f),m=o(p),g&&m&&g.type===m.type&&g.value===m.value&&s(p,f)&&i(p,f))))return a("gVBdk").IS_DEBUG_BUILD&&a("4geCF").logger.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return v._previousEvent=t}return t})},e.id="Dedupe",e}();function i(e,t){var r=l(e),n=l(t);if(!r&&!n)return!0;if(r&&!n||!r&&n||n.length!==r.length)return!1;for(var i=0;i<n.length;i++){var s=n[i],a=r[i];if(s.filename!==a.filename||s.lineno!==a.lineno||s.colno!==a.colno||s.function!==a.function)return!1}return!0}function s(e,t){var r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;try{return r.join("")===n.join("")}catch(e){return!1}}function o(e){return e.exception&&e.exception.values&&e.exception.values[0]}function l(e){var t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){}else if(e.stacktrace)return e.stacktrace.frames}}),o("gVBdk",function(t,r){e(t.exports,"IS_DEBUG_BUILD",()=>n);var n="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__}),o("kBLvL",function(t,r){e(t.exports,"ExtraErrorData",()=>n),a("8KVVB");var n=function(){function e(t){this.name=e.id,this._options=(0,a("3VFsf").__assign)({depth:3},t)}return e.prototype.setupOnce=function(t,r){t(function(t,n){var i=r().getIntegration(e);return i?i.enhanceEventWithErrorData(t,n):t})},e.prototype.enhanceEventWithErrorData=function(e,t){if(!t||!t.originalException||!(0,a("gkmq5").isError)(t.originalException))return e;var r,n=t.originalException.name||t.originalException.constructor.name,i=this._extractErrorData(t.originalException);if(i){var s=(0,a("3VFsf").__assign)({},e.contexts),o=(0,a("2mY5H").normalize)(i,this._options.depth);return(0,a("gkmq5").isPlainObject)(o)&&(s=(0,a("3VFsf").__assign)((0,a("3VFsf").__assign)({},e.contexts),((r={})[n]=(0,a("3VFsf").__assign)({},o),r))),(0,a("3VFsf").__assign)((0,a("3VFsf").__assign)({},e),{contexts:s})}return e},e.prototype._extractErrorData=function(e){var t,r,n,i;try{var s=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],o={};try{for(var l=(0,a("3VFsf").__values)(Object.keys(e)),c=l.next();!c.done;c=l.next()){var u=c.value;if(-1===s.indexOf(u)){var d=e[u];o[u]=(0,a("gkmq5").isError)(d)?d.toString():d}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}if("function"==typeof e.toJSON){var h=e.toJSON();try{for(var p=(0,a("3VFsf").__values)(Object.keys(h)),f=p.next();!f.done;f=p.next()){var u=f.value,d=h[u];o[u]=(0,a("gkmq5").isError)(d)?d.toString():d}}catch(e){n={error:e}}finally{try{f&&!f.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}}return o}catch(e){a("gVBdk").IS_DEBUG_BUILD&&a("4geCF").logger.error("Unable to extract extra data from the Error object:",e)}return null},e.id="ExtraErrorData",e}()}),o("50FPh",function(t,r){e(t.exports,"Transaction",()=>n);var n=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(t,r){t(function(t){var n=r().getIntegration(e);return n?n.process(t):t})},e.prototype.process=function(e){for(var t=this._getFramesFromEvent(e),r=t.length-1;r>=0;r--){var n=t[r];if(!0===n.in_app){e.transaction=this._getTransaction(n);break}}return e},e.prototype._getFramesFromEvent=function(e){var t=e.exception&&e.exception.values&&e.exception.values[0];return t&&t.stacktrace&&t.stacktrace.frames||[]},e.prototype._getTransaction=function(e){return e.module||e.function?(e.module||"?")+"/"+(e.function||"?"):"<unknown>"},e.id="Transaction",e}()}),o("bajNy",function(r,n){let i;e(r.exports,"initialiseErrorAnalyticsClient",()=>c),e(r.exports,"default",()=>u);var s=a("gccSB"),o=a("9xWGk"),l=a("9ZBi7");let c=e=>{i=e};var u=({event:e,error:r,errorInfo:n,meta:c,attributes:u})=>{let{id:d,packageName:h,teamName:p}=c,f=`${h}.${d}`;if(r){let i=t(o)({...u,packageName:h,teamName:p,errorInfo:n},t(s));if(e&&e.context){let t=(0,a("kCVub").extractAWCDataFromEvent)(e);(0,l.captureException)(f,r,{...i,...t.payload})}else(0,l.captureException)(f,r,i)}if(e&&e.handlers&&e.handlers.length>0){let t=u||{};(0,a("h8yj2").fireOperationalAnalytics)(e,`${f} failed`,t)}else if(i&&i.sendOperationalEvent)i.sendOperationalEvent({action:"failed",actionSubject:f,source:"unknownErrorSource",attributes:u});else{let e=Error("Analytics client hasn't been initialised, unable to fire error operational event");(0,l.captureException)(f,e)}}}),o("kCVub",function(r,n){e(r.exports,"extractAWCDataFromEvent",()=>o);var i=a("cjFoH"),s=a("9xWGk");let o=e=>{let r=(0,a("8HgKr").getAnalyticsType)(e),n=(0,a("8HgKr").getAttributes)(e),o=(0,a("8HgKr").getSource)(e),l=(0,a("8HgKr").getActionSubject)(e);if(r===g)return{type:g,payload:{name:o,attributes:n}};switch(r){case p:case f:case m:{let c=(0,a("8HgKr").getAction)(e),u=(0,a("8HgKr").getActionSubjectId)(e),d=(0,a("8HgKr").getContainerId)(e),h=(0,a("8HgKr").getContainerType)(e),p=(0,a("8HgKr").getObjectId)(e),f=(0,a("8HgKr").getObjectType)(e),g=(0,a("8HgKr").getTags)(e);return{type:r,payload:t(s)({action:c,actionSubject:l,actionSubjectId:u,source:o,tags:g,containerType:h,containerId:d,objectType:f,objectId:p,attributes:n},t(i))}}default:return{payload:{source:o,actionSubject:l,attributes:n},type:void 0}}}});const p="UI",f="TRACK",g="SCREEN",m="OPERATIONAL";o("8HgKr",function(r,n){e(r.exports,"getAnalyticsType",()=>h),e(r.exports,"getAttributes",()=>p),e(r.exports,"getSource",()=>f),e(r.exports,"getActionSubject",()=>g),e(r.exports,"getAction",()=>m),e(r.exports,"getActionSubjectId",()=>v),e(r.exports,"getContainerId",()=>y),e(r.exports,"getContainerType",()=>E),e(r.exports,"getObjectId",()=>b),e(r.exports,"getObjectType",()=>_),e(r.exports,"getTags",()=>I);var i=a("183uB"),s=a("cjFoH"),o=a("hYfgW"),l=a("1UikQ"),c=a("9xWGk"),u=a("kGsr8");let d=(e,t)=>e.context.map(e=>e[t]),h=e=>e.payload.analyticsType,p=e=>{let r=d(e,"attributes"),n=e.payload.attributes,i=t(l)(r.reduce((e,r)=>t(l)(e,r),{}),n),a=d(e,"source").filter(Boolean).join(".");return t(c)({...i,namespaces:a},t(s))},f=e=>t(o)(d(e,"source").filter(Boolean)),g=e=>{let{actionSubject:r}=e.payload;return r||t(o)(d(e,"component").filter(Boolean))||t(o)(d(e,"componentName").filter(Boolean))},m=e=>e.payload.action,v=e=>e.payload.actionSubjectId,y=e=>t(o)(d(e,"containerId").filter(Boolean)),E=e=>t(o)(d(e,"containerType").filter(Boolean)),b=e=>t(o)(d(e,"objectId").filter(Boolean)),_=e=>t(o)(d(e,"objectType").filter(Boolean)),I=e=>{let r=t(u)(t(i)(d(e,"tags"))).filter(Boolean);return r.length?r:void 0}}),o("h8yj2",function(r,n){e(r.exports,"fireAnalytics",()=>s),e(r.exports,"fireUIAnalytics",()=>l),e(r.exports,"fireTrackAnalytics",()=>c),e(r.exports,"fireOperationalAnalytics",()=>u),e(r.exports,"fireScreenAnalytics",()=>d);var i=a("hYfgW");let s=(e,t,r)=>{let n=e.clone();if(!n)throw Error("Cannot clone an event after it's been fired.");n.update({...r,analyticsType:t}).fire("analyticsBridge")},o=e=>t(i)(e.context.map(e=>e.component||e.componentName).filter(Boolean)),l=(e,...t)=>{if(!e.clone)throw Error("There is no analytics event from Atlaskit in UI event");let{action:r,actionSubject:n,actionSubjectId:i,attributes:l}=(0,a("4zfLY").getImperativeAnalyticsDataFromArguments)(t),c=e.payload&&e.payload.action||r,u=e.payload&&e.payload.actionSubject||n||o(e);if(!c)throw Error('Mandatory "action" field is missing from UI event');if(!u)throw Error('Mandatory "actionSubject" field is missing from UI event');s(e,p,{action:c,actionSubject:u,actionSubjectId:i,attributes:l})},c=(e,...t)=>{if(!e.clone)throw Error("There is no analytics event from Atlaskit in Track event");let{action:r,actionSubject:n,actionSubjectId:i,attributes:o}=(0,a("4zfLY").getImperativeAnalyticsDataFromArguments)(t);if(!r)throw Error('Mandatory "action" field is missing from Track event');if(!n)throw Error('Mandatory "actionSubject" field is missing from Track event');s(e,f,{action:r,actionSubject:n,actionSubjectId:i,attributes:o})},u=(e,...t)=>{if(!e.clone)throw Error("There is no analytics event from Atlaskit in Operational event");let{action:r,actionSubject:n,actionSubjectId:i,attributes:o}=(0,a("4zfLY").getImperativeAnalyticsDataFromArguments)(t);if(!r)throw Error('Mandatory "action" field is missing from Operational event');if(!n)throw Error('Mandatory "actionSubject" field is missing from Operational event');s(e,m,{action:r,actionSubject:n,actionSubjectId:i,attributes:o})},d=(e,...t)=>{if(!e.clone)throw Error("There is no analytics event from Atlaskit in Screen event");let{attributes:r}=(0,a("4zfLY").getImperativeAnalyticsDataFromArguments)(t);s(e,g,{attributes:r})}}),o("4zfLY",function(t,r){e(t.exports,"getImperativeAnalyticsDataFromArguments",()=>o);let n=e=>{let t=e.split(" ");switch(t.length){case 1:return{actionSubject:void 0,action:void 0,actionSubjectId:t[0],attributes:void 0};case 2:return{actionSubject:t[0],action:t[1],actionSubjectId:void 0,attributes:void 0};default:throw Error("Event of this type is not supported")}},i=e=>{if("string"==typeof e)return n(e);if("object"==typeof e)return{actionSubject:void 0,action:void 0,actionSubjectId:void 0,attributes:e};throw Error("Event of this type is not supported")},s=(e,t)=>{if("string"==typeof e&&"string"==typeof t){let{action:r,actionSubject:i}=n(e);return{actionSubject:i,action:r,actionSubjectId:t,attributes:void 0}}if("string"==typeof e&&"object"==typeof t){let{action:r,actionSubject:i,actionSubjectId:s}=n(e);return{actionSubject:i,action:r,actionSubjectId:s,attributes:t}}throw Error("Event of this type is not supported")},a=(e,t,r)=>{if("string"==typeof e&&"string"==typeof t&&"object"==typeof r){let{action:i,actionSubject:s}=n(e);return{actionSubject:s,action:i,actionSubjectId:t,attributes:r}}throw Error("Event of this type is not supported")},o=e=>{switch(e.length){case 0:return{actionSubject:void 0,action:void 0,actionSubjectId:void 0,attributes:void 0};case 1:return i(e[0]);case 2:return s(e[0],e[1]);case 3:return a(e[0],e[1],e[2]);default:throw Error("Can not fire an empty event")}}}),o("kRBfD",function(t,r){e(t.exports,"default",()=>l);var n=a("2OMIu"),i=a("5uXOq"),s=a("bajNy");class o extends i.Component{componentDidCatch(e,t){let{packageName:r,id:n,attributes:i,createAnalyticsEvent:a}=this.props,o=a({action:"failed"});throw(0,s.default)({event:o,errorInfo:t,error:e,meta:{id:n,packageName:r},attributes:i}),e}render(){let{children:e}=this.props;return(0,n.jsx)(n.Fragment,{children:e})}}var l=(0,a("cb25w").default)()(o)}),o("cEm1b",function(t,r){e(t.exports,"GlobalReactLooselyLazyProfiler",()=>i),e(t.exports,"ProfilerContext",()=>s);var n=a("5uXOq");let i={current:null},s=(0,n.createContext)(i)}),o("2IUgd",function(r,n){e(r.exports,"PlaceholderFallbackHydrate",()=>s);var i=a("5uXOq");let s=({id:e,content:r})=>t(i).createElement(t(i).Fragment,null,t(i).createElement("input",{type:"hidden","data-lazy-begin":e}),r.map((e,t)=>{let{tagName:r="",childNodes:n=[],attributes:s=[]}=e,o=Array.from(s).reduce(a("7AnOd").attrToProp,{key:String(t)});return r?n.length?(0,i.createElement)(r.toLowerCase(),{...o,dangerouslySetInnerHTML:{__html:""},suppressHydrationWarning:!0}):(0,i.createElement)(r.toLowerCase(),o):(0,i.createElement)(i.Fragment,o,e.textContent)}),t(i).createElement("input",{type:"hidden","data-lazy-end":e}))}),o("oq2LV",function(r,n){e(r.exports,"PlaceholderFallbackRender",()=>o);var i=a("5uXOq");let s=(e,t)=>{let r=(0,i.useRef)(null),{current:n}=(0,i.useRef)(t||[]),s=(0,i.useContext)(a("cEm1b").ProfilerContext).current,o=(0,i.useContext)(a("5poak").WaitContext),l=(0,i.useContext)(a("7In2L").LazySuspenseContext);return(0,i.useLayoutEffect)(()=>{let t=r.current,{parentNode:i}=t||{};return s?.placeholderFallBackMounted(e,l.name,!o.currentValue()),i&&!i.contains(n[0])&&n.reverse().forEach(e=>{"LINK"===e.tagName&&"prefetch"===e.rel&&(e.rel=""),i.insertBefore(e,t.nextSibling)}),()=>{s?.placeholderFallBackUnmounted(e,l.name,!o.currentValue()),n.forEach(e=>e.parentNode?.removeChild(e))}},[]),r},o=({id:e,content:r})=>{let n=s(e,r);return t(i).createElement("input",{type:"hidden","data-lazy-begin":e,ref:n})}}),o("lO9oD",function(t,r){e(t.exports,"useSubscription",()=>i);var n=a("5uXOq");function i({context:e,load:t,onValue:r}){let{subscribe:i,currentValue:s}=(0,n.useContext)(e);(0,n.useMemo)(()=>{let e=null,n=()=>{let n=r(s());return n&&t(),n&&e&&e(),n};e=n()?null:i(n)},[])}}),o("WOtQc",function(r,n){e(r.exports,"createComponentServer",()=>s);var i=a("5uXOq");function s({dataLazyId:e,defer:r,loader:n,moduleId:s,ssr:o}){return l=>{let c=o?function(e,t){try{return(0,a("7AnOd").getExport)(t())}catch(e){throw(0,a("bCf8q").createLoaderError)(e)}}(0,n):null,{fallback:u}=(0,i.useContext)(a("7In2L").LazySuspenseContext),{crossOrigin:d,manifest:h,onChunkRender:p,mode:f,react18:g}=(0,a("ddkdN").getConfig)();if(p(s,r),f===a("7Ewwd").MODE.HYDRATE&&g){if(!c)throw Error(`RLL(${s}) not listed for SSR`);return t(i).createElement(c,l)}return t(i).createElement(t(i).Fragment,null,t(i).createElement("input",{type:"hidden","data-lazy-begin":e}),r!==a("fVdZG").PHASE.LAZY&&(0,a("a6rDZ").getAssetUrlsFromId)(h,s)?.map(e=>t(i).createElement("link",{key:e,rel:r===a("fVdZG").PHASE.PAINT?"preload":"prefetch",href:e,crossOrigin:d,as:"script"})),c?t(i).createElement(c,l):u,t(i).createElement("input",{type:"hidden","data-lazy-end":e}))}}}),o("fCMWS",function(t,r){e(t.exports,"PRIORITY",()=>n),e(t.exports,"RETRY_DELAY",()=>i),e(t.exports,"RETRY_FACTOR",()=>s);let n={HIGH:0,LOW:2},i=300,s=1}),o("atSTR",function(t,r){e(t.exports,"createDeferred",()=>n);let n=({loader:e,preload:t})=>{let r,n={promise:new Promise(e=>{r=t=>{let r;n.result=t,t.default||(r={default:t}),e(r||t)}}),result:void 0,preload:()=>{n.result||t().then(e=>{n.result=e}).catch(()=>{})},start:()=>n.result?(r(n.result),Promise.resolve()):e().then(r)};return n}}),o("qkBMj",function(t,r){function n({moduleId:e,rel:t}){let{manifest:r}=(0,a("ddkdN").getConfig)(),n=(0,a("a6rDZ").getAssetUrlsFromId)(r,e);if(!n)throw Error("Unsupported preload strategy");let i=n.map(e=>(0,a("5VuPF").insertLinkTag)(e,t));return()=>{for(let e of i)e()}}e(t.exports,"preloadAsset",()=>l);let i={then:()=>i,catch:()=>i,finally:()=>i};function s({loader:e,rel:t}){if("undefined"==typeof __webpack_require__||"undefined"==typeof __webpack_get_script_filename__)throw Error("Unsupported preload strategy");let r=__webpack_require__.e,n=[];__webpack_require__.e=function(e){let r=__webpack_get_script_filename__(e);return n.push((0,a("5VuPF").insertLinkTag)(r,t)),i};try{e()}catch(e){}return __webpack_require__.e=r,()=>{for(let e of n)e()}}function o({loader:e}){return e(),a("dwdrq").noopCleanup}function l({loader:e,moduleId:t,priority:r}){if((0,a("7AnOd").isNodeEnvironment)())return a("dwdrq").noopCleanup;a("cEm1b").GlobalReactLooselyLazyProfiler.current?.onPreload(t,r);let i=r===a("fCMWS").PRIORITY.HIGH?"preload":"prefetch";for(let r of[n,s,o])try{return r({loader:e,moduleId:t,rel:i})}catch(e){}return a("dwdrq").noopCleanup}}),o("5VuPF",function(t,r){e(t.exports,"insertLinkTag",()=>n);function n(e,t){if(document.querySelector(`link[href="${e}"]`)||document.querySelector(`script[src="${e}"]`))return a("dwdrq").noopCleanup;let{crossOrigin:r}=(0,a("ddkdN").getConfig)(),n=document.createElement("link");n.rel=t,n.as="script",r&&(n.crossOrigin=r),n.href=e;let i=a("cEm1b").GlobalReactLooselyLazyProfiler.current,s=null;if(i){let t={identifier:e},r=()=>{n.removeEventListener("onload",r),s=null,i.onLoadComplete(t)};n.addEventListener("onload",r),s=r,i.onLoadStart(t)}return document.head?.appendChild(n),()=>{n.parentNode===document.head&&document.head?.removeChild(n),s&&n.removeEventListener("onload",s)}}}),o("aoIf8",function(t,r){e(t.exports,"retry",()=>a);let n=(e,t)=>{let{attempt:r}=e,{delay:n,factor:i}=t,s=r-1;return 1===s||0===n?0:n+i*n*(s-2)},i=e=>new Promise(t=>setTimeout(t,e)),s=e=>({delay:Math.max(0,e.delay??0),factor:Math.max(0,e.factor??0),maxAttempts:Math.max(0,e.maxAttempts??0)});function a(e,t={}){let r=s(t),{maxAttempts:o}=r,l={attempt:1,attemptsRemaining:o},c=async t=>{if(0===l.attemptsRemaining)throw t;l.attempt+=1,l.attemptsRemaining-=1;let s=n(l,r);return s&&await i(s),e().catch(c)};return e().catch(c)}}),o("3xuhl",function(t,r){e(t.exports,"forget",()=>a("hZpZ3").forget),e(t.exports,"getLocationHref",()=>a("fB1v8").getLocationHref),e(t.exports,"htmlTreeAsString",()=>a("fB1v8").htmlTreeAsString),e(t.exports,"dsnToString",()=>a("ha3jm").dsnToString),e(t.exports,"makeDsn",()=>a("ha3jm").makeDsn),e(t.exports,"SentryError",()=>a("f7sqx").SentryError),e(t.exports,"getGlobalObject",()=>a("eUO5L").getGlobalObject),e(t.exports,"getGlobalSingleton",()=>a("eUO5L").getGlobalSingleton),e(t.exports,"addInstrumentationHandler",()=>a("iDqcL").addInstrumentationHandler),e(t.exports,"isDOMError",()=>a("okkfE").isDOMError),e(t.exports,"isDOMException",()=>a("okkfE").isDOMException),e(t.exports,"isError",()=>a("okkfE").isError),e(t.exports,"isErrorEvent",()=>a("okkfE").isErrorEvent),e(t.exports,"isEvent",()=>a("okkfE").isEvent),e(t.exports,"isInstanceOf",()=>a("okkfE").isInstanceOf),e(t.exports,"isPlainObject",()=>a("okkfE").isPlainObject),e(t.exports,"isPrimitive",()=>a("okkfE").isPrimitive),e(t.exports,"isString",()=>a("okkfE").isString),e(t.exports,"isThenable",()=>a("okkfE").isThenable),e(t.exports,"consoleSandbox",()=>a("aHQIJ").consoleSandbox),e(t.exports,"logger",()=>a("aHQIJ").logger),e(t.exports,"addExceptionMechanism",()=>a("1vYJz").addExceptionMechanism),e(t.exports,"addExceptionTypeValue",()=>a("1vYJz").addExceptionTypeValue),e(t.exports,"checkOrSetAlreadyCaught",()=>a("1vYJz").checkOrSetAlreadyCaught),e(t.exports,"getEventDescription",()=>a("1vYJz").getEventDescription),e(t.exports,"parseUrl",()=>a("1vYJz").parseUrl),e(t.exports,"uuid4",()=>a("1vYJz").uuid4),e(t.exports,"normalize",()=>a("gBQwe").normalize),e(t.exports,"normalizeToSize",()=>a("gBQwe").normalizeToSize),e(t.exports,"addNonEnumerableProperty",()=>a("59M0S").addNonEnumerableProperty),e(t.exports,"dropUndefinedKeys",()=>a("59M0S").dropUndefinedKeys),e(t.exports,"extractExceptionKeysForMessage",()=>a("59M0S").extractExceptionKeysForMessage),e(t.exports,"fill",()=>a("59M0S").fill),e(t.exports,"getOriginalFunction",()=>a("59M0S").getOriginalFunction),e(t.exports,"markFunctionWrapped",()=>a("59M0S").markFunctionWrapped),e(t.exports,"urlEncode",()=>a("59M0S").urlEncode),e(t.exports,"makePromiseBuffer",()=>a("6dKoA").makePromiseBuffer),e(t.exports,"severityFromString",()=>a("5L8AU").severityFromString),e(t.exports,"createStackParser",()=>a("1M66C").createStackParser),e(t.exports,"getFunctionName",()=>a("1M66C").getFunctionName),e(t.exports,"eventStatusFromHttpCode",()=>a("h2Oxu").eventStatusFromHttpCode),e(t.exports,"isMatchingPattern",()=>a("keOcA").isMatchingPattern),e(t.exports,"safeJoin",()=>a("keOcA").safeJoin),e(t.exports,"truncate",()=>a("keOcA").truncate),e(t.exports,"isNativeFetch",()=>a("9BO8q").isNativeFetch),e(t.exports,"supportsFetch",()=>a("9BO8q").supportsFetch),e(t.exports,"supportsReferrerPolicy",()=>a("9BO8q").supportsReferrerPolicy),e(t.exports,"rejectedSyncPromise",()=>a("4mVTs").rejectedSyncPromise),e(t.exports,"resolvedSyncPromise",()=>a("4mVTs").resolvedSyncPromise),e(t.exports,"SyncPromise",()=>a("4mVTs").SyncPromise),e(t.exports,"createEnvelope",()=>a("2cvr9").createEnvelope),e(t.exports,"getEnvelopeType",()=>a("2cvr9").getEnvelopeType),e(t.exports,"serializeEnvelope",()=>a("2cvr9").serializeEnvelope),e(t.exports,"createClientReportEnvelope",()=>a("fLq1q").createClientReportEnvelope),e(t.exports,"disabledUntil",()=>a("giEo2").disabledUntil),e(t.exports,"isRateLimited",()=>a("giEo2").isRateLimited),e(t.exports,"updateRateLimits",()=>a("giEo2").updateRateLimits),a("hZpZ3"),a("fB1v8"),a("ha3jm"),a("f7sqx"),a("eUO5L"),a("iDqcL"),a("okkfE"),a("aHQIJ"),a("1vYJz"),a("gBQwe"),a("59M0S"),a("6dKoA"),a("5L8AU"),a("1M66C"),a("h2Oxu"),a("keOcA"),a("9BO8q"),a("4mVTs"),a("2cvr9"),a("fLq1q"),a("giEo2"),n(t.exports,a("3kiq9")),n(t.exports,a("gI8Be"))}),o("hZpZ3",function(t,r){e(t.exports,"forget",()=>n);function n(e){e.then(null,function(e){console.error(e)})}}),o("fB1v8",function(t,r){function n(e,t){try{for(var r=e,n=[],i=0,s=0,o=void 0;r&&i++<5&&(o=function(e,t){var r,n,i,s,o,l=[];if(!e||!e.tagName)return"";l.push(e.tagName.toLowerCase());var c=t&&t.length?t.filter(function(t){return e.getAttribute(t)}).map(function(t){return[t,e.getAttribute(t)]}):null;if(c&&c.length)c.forEach(function(e){l.push("["+e[0]+'="'+e[1]+'"]')});else if(e.id&&l.push("#"+e.id),(r=e.className)&&(0,a("okkfE").isString)(r))for(o=0,n=r.split(/\s+/);o<n.length;o++)l.push("."+n[o]);var u=["type","name","title","alt"];for(o=0;o<u.length;o++)i=u[o],(s=e.getAttribute(i))&&l.push("["+i+'="'+s+'"]');return l.join("")}(r,t),"html"!==o&&(!(i>1)||!(s+3*n.length+o.length>=80)));)n.push(o),s+=o.length,r=r.parentNode;return n.reverse().join(" > ")}catch(e){return"<unknown>"}}function i(){var e=(0,a("eUO5L").getGlobalObject)();try{return e.document.location.href}catch(e){return""}}e(t.exports,"htmlTreeAsString",()=>n),e(t.exports,"getLocationHref",()=>i)}),o("eUO5L",function(t,n){e(t.exports,"getGlobalObject",()=>s),e(t.exports,"getGlobalSingleton",()=>o);var i={};function s(){return(0,a("3kiq9").isNodeEnv)()?r:"undefined"!=typeof window?window:"undefined"!=typeof self?self:i}function o(e,t,r){var n=r||s(),i=n.__SENTRY__=n.__SENTRY__||{};return i[e]||(i[e]=t())}}),o("3kiq9",function(t,r){e(t.exports,"isNodeEnv",()=>i,e=>i=e),e(t.exports,"dynamicRequire",()=>s,e=>s=e);var n=a("6cAn5");function i(){return!(0,a("diNsD").isBrowserBundle)()&&"[object process]"===Object.prototype.toString.call(void 0!==n?n:0)}function s(e,t){return e.require(t)}}),o("diNsD",function(t,r){e(t.exports,"isBrowserBundle",()=>n);function n(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}}),o("okkfE",function(t,r){e(t.exports,"isError",()=>i),e(t.exports,"isInstanceOf",()=>y),e(t.exports,"isErrorEvent",()=>a),e(t.exports,"isDOMError",()=>o),e(t.exports,"isDOMException",()=>l),e(t.exports,"isString",()=>c),e(t.exports,"isPrimitive",()=>u),e(t.exports,"isPlainObject",()=>d),e(t.exports,"isEvent",()=>h),e(t.exports,"isElement",()=>p),e(t.exports,"isRegExp",()=>f),e(t.exports,"isThenable",()=>g),e(t.exports,"isSyntheticEvent",()=>m),e(t.exports,"isNaN",()=>v);var n=Object.prototype.toString;function i(e){switch(n.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return y(e,Error)}}function s(e,t){return n.call(e)==="[object "+t+"]"}function a(e){return s(e,"ErrorEvent")}function o(e){return s(e,"DOMError")}function l(e){return s(e,"DOMException")}function c(e){return s(e,"String")}function u(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function d(e){return s(e,"Object")}function h(e){return"undefined"!=typeof Event&&y(e,Event)}function p(e){return"undefined"!=typeof Element&&y(e,Element)}function f(e){return s(e,"RegExp")}function g(e){return!!(e&&e.then&&"function"==typeof e.then)}function m(e){return d(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function v(e){return"number"==typeof e&&e!=e}function y(e,t){try{return e instanceof t}catch(e){return!1}}}),o("ha3jm",function(t,r){e(t.exports,"dsnToString",()=>i),e(t.exports,"makeDsn",()=>o);var n=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function i(e,t){void 0===t&&(t=!1);var r=e.host,n=e.path,i=e.pass,s=e.port,a=e.projectId;return e.protocol+"://"+e.publicKey+(t&&i?":"+i:"")+("@"+r+(s?":"+s:"")+"/")+(n?n+"/":n)+a}function s(e){return"user"in e&&!("publicKey"in e)&&(e.publicKey=e.user),{user:e.publicKey||"",protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function o(e){var t="string"==typeof e?function(e){var t=n.exec(e);if(!t)throw new(0,a("f7sqx").SentryError)("Invalid Sentry Dsn: "+e);var r=(0,a("3VFsf").__read)(t.slice(1),6),i=r[0],o=r[1],l=r[2],c=r[3],u=r[4],d=r[5],h="",p=d,f=p.split("/");if(f.length>1&&(h=f.slice(0,-1).join("/"),p=f.pop()),p){var g=p.match(/^\d+/);g&&(p=g[0])}return s({host:c,pass:void 0===l?"":l,path:h,projectId:p,port:void 0===u?"":u,protocol:i,publicKey:o})}(e):s(e);return!function(e){if(a("1pUkh").IS_DEBUG_BUILD){var t=e.port,r=e.projectId,n=e.protocol;if(["protocol","publicKey","host","projectId"].forEach(function(t){if(!e[t])throw new(0,a("f7sqx").SentryError)("Invalid Sentry Dsn: "+t+" missing")}),!r.match(/^\d+$/))throw new(0,a("f7sqx").SentryError)("Invalid Sentry Dsn: Invalid projectId "+r);if("http"!==n&&"https"!==n)throw new(0,a("f7sqx").SentryError)("Invalid Sentry Dsn: Invalid protocol "+n);if(t&&isNaN(parseInt(t,10)))throw new(0,a("f7sqx").SentryError)("Invalid Sentry Dsn: Invalid port "+t)}}(t),t}}),o("f7sqx",function(t,r){e(t.exports,"SentryError",()=>n);var n=function(e){function t(t){var r=this.constructor,n=e.call(this,t)||this;return n.message=t,n.name=r.prototype.constructor.name,(0,a("aKKyi").setPrototypeOf)(n,r.prototype),n}return(0,a("3VFsf").__extends)(t,e),t}(Error)}),o("aKKyi",function(t,r){e(t.exports,"setPrototypeOf",()=>n);var n=Object.setPrototypeOf||(({__proto__:[]})instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=t[r]);return e})}),o("1pUkh",function(t,r){e(t.exports,"IS_DEBUG_BUILD",()=>n);var n="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__}),o("iDqcL",function(t,r){e(t.exports,"addInstrumentationHandler",()=>u);var n,i,s,o=(0,a("eUO5L").getGlobalObject)(),l={},c={};function u(e,t){l[e]=l[e]||[],l[e].push(t),function(e){if(!c[e])switch(c[e]=!0,e){case"console":"console"in o&&a("aHQIJ").CONSOLE_LEVELS.forEach(function(e){e in o.console&&(0,a("59M0S").fill)(o.console,e,function(t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];d("console",{args:r,level:e}),t&&t.apply(o.console,r)}})});break;case"dom":if("document"in o){var t=d.bind(null,"dom"),r=h(t,!0);o.document.addEventListener("click",r,!1),o.document.addEventListener("keypress",r,!1),["EventTarget","Node"].forEach(function(e){var r=o[e]&&o[e].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&((0,a("59M0S").fill)(r,"addEventListener",function(e){return function(r,n,i){if("click"===r||"keypress"==r)try{var s=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},a=s[r]=s[r]||{refCount:0};if(!a.handler){var o=h(t);a.handler=o,e.call(this,r,o,i)}a.refCount+=1}catch(e){}return e.call(this,r,n,i)}}),(0,a("59M0S").fill)(r,"removeEventListener",function(e){return function(t,r,n){if("click"===t||"keypress"==t)try{var i=this.__sentry_instrumentation_handlers__||{},s=i[t];s&&(s.refCount-=1,s.refCount<=0&&(e.call(this,t,s.handler,n),s.handler=void 0,delete i[t]),0===Object.keys(i).length&&delete this.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,r,n)}}))})}break;case"xhr":if("XMLHttpRequest"in o){var i=XMLHttpRequest.prototype;(0,a("59M0S").fill)(i,"open",function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=this,i=t[1],s=n.__sentry_xhr__={method:(0,a("okkfE").isString)(t[0])?t[0].toUpperCase():t[0],url:t[1]};(0,a("okkfE").isString)(i)&&"POST"===s.method&&i.match(/sentry_key/)&&(n.__sentry_own_request__=!0);var o=function(){if(4===n.readyState){try{s.status_code=n.status}catch(e){}d("xhr",{args:t,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:n})}};return"onreadystatechange"in n&&"function"==typeof n.onreadystatechange?(0,a("59M0S").fill)(n,"onreadystatechange",function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return o(),e.apply(n,t)}}):n.addEventListener("readystatechange",o),e.apply(n,t)}}),(0,a("59M0S").fill)(i,"send",function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return this.__sentry_xhr__&&void 0!==t[0]&&(this.__sentry_xhr__.body=t[0]),d("xhr",{args:t,startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}})}break;case"fetch":(0,a("9BO8q").supportsNativeFetch)()&&(0,a("59M0S").fill)(o,"fetch",function(e){return function(){for(var t,r,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s={args:n,fetchData:{method:(void 0===(t=n)&&(t=[]),"Request"in o&&(0,a("okkfE").isInstanceOf)(t[0],Request)&&t[0].method)?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET",url:(void 0===(r=n)&&(r=[]),"string"==typeof r[0])?r[0]:"Request"in o&&(0,a("okkfE").isInstanceOf)(r[0],Request)?r[0].url:String(r[0])},startTimestamp:Date.now()};return d("fetch",(0,a("3VFsf").__assign)({},s)),e.apply(o,n).then(function(e){return d("fetch",(0,a("3VFsf").__assign)((0,a("3VFsf").__assign)({},s),{endTimestamp:Date.now(),response:e})),e},function(e){throw d("fetch",(0,a("3VFsf").__assign)((0,a("3VFsf").__assign)({},s),{endTimestamp:Date.now(),error:e})),e})}});break;case"history":if((0,a("9BO8q").supportsHistory)()){var s=o.onpopstate;o.onpopstate=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=o.location.href,i=n;if(n=r,d("history",{from:i,to:r}),s)try{return s.apply(this,e)}catch(e){}},(0,a("59M0S").fill)(o.history,"pushState",l),(0,a("59M0S").fill)(o.history,"replaceState",l)}function l(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=t.length>2?t[2]:void 0;if(i){var s=n,a=String(i);n=a,d("history",{from:s,to:a})}return e.apply(this,t)}}break;case"error":p=o.onerror,o.onerror=function(e,t,r,n,i){return d("error",{column:n,error:i,line:r,msg:e,url:t}),!!p&&p.apply(this,arguments)};break;case"unhandledrejection":f=o.onunhandledrejection,o.onunhandledrejection=function(e){return d("unhandledrejection",e),!f||f.apply(this,arguments)};break;default:a("1pUkh").IS_DEBUG_BUILD&&a("aHQIJ").logger.warn("unknown instrumentation type:",e);return}}(e)}function d(e,t){var r,n;if(e&&l[e])try{for(var i=(0,a("3VFsf").__values)(l[e]||[]),s=i.next();!s.done;s=i.next()){var o=s.value;try{o(t)}catch(t){a("1pUkh").IS_DEBUG_BUILD&&a("aHQIJ").logger.error("Error while triggering instrumentation handler.\nType: "+e+"\nName: "+(0,a("1M66C").getFunctionName)(o)+"\nError:",t)}}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}function h(e,t){return void 0===t&&(t=!1),function(r){if(r&&s!==r&&!function(e){if("keypress"!==e.type)return!1;try{var t=e.target;if(!t||!t.tagName)return!0;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return!1}catch(e){}return!0}(r)){var n="keypress"===r.type?"input":r.type;void 0===i?(e({event:r,name:n,global:t}),s=r):function(e,t){if(!e||e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(e){}return!1}(s,r)&&(e({event:r,name:n,global:t}),s=r),clearTimeout(i),i=o.setTimeout(function(){i=void 0},1e3)}}}var p=null,f=null}),o("aHQIJ",function(t,r){e(t.exports,"CONSOLE_LEVELS",()=>s),e(t.exports,"consoleSandbox",()=>o),e(t.exports,"logger",()=>n);var n,i=(0,a("eUO5L").getGlobalObject)(),s=["debug","info","warn","error","log","assert"];function o(e){var t=(0,a("eUO5L").getGlobalObject)();if(!("console"in t))return e();var r=t.console,n={};s.forEach(function(e){var i=r[e]&&r[e].__sentry_original__;e in t.console&&i&&(n[e]=r[e],r[e]=i)});try{return e()}finally{Object.keys(n).forEach(function(e){r[e]=n[e]})}}function l(){var e=!1,t={enable:function(){e=!0},disable:function(){e=!1}};return a("1pUkh").IS_DEBUG_BUILD?s.forEach(function(r){t[r]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e&&o(function(){var e;(e=i.console)[r].apply(e,(0,a("3VFsf").__spread)(["Sentry Logger ["+r+"]:"],t))})}}):s.forEach(function(e){t[e]=function(){}}),t}n=a("1pUkh").IS_DEBUG_BUILD?(0,a("eUO5L").getGlobalSingleton)("logger",l):l()}),o("59M0S",function(t,r){function n(e,t,r){if(t in e){var n=e[t],i=r(n);if("function"==typeof i)try{s(i,n)}catch(e){}e[t]=i}}function i(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}function s(e,t){var r=t.prototype||{};e.prototype=t.prototype=r,i(e,"__sentry_original__",t)}function o(e){return e.__sentry_original__}function l(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}function c(e){var t=e;return(0,a("okkfE").isError)(e)?t=(0,a("3VFsf").__assign)({message:e.message,name:e.name,stack:e.stack},d(e)):(0,a("okkfE").isEvent)(e)&&(t=(0,a("3VFsf").__assign)({type:e.type,target:u(e.target),currentTarget:u(e.currentTarget)},d(e)),"undefined"!=typeof CustomEvent&&(0,a("okkfE").isInstanceOf)(e,CustomEvent)&&(t.detail=e.detail)),t}function u(e){try{return(0,a("okkfE").isElement)(e)?(0,a("fB1v8").htmlTreeAsString)(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function d(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}function h(e,t){void 0===t&&(t=40);var r=Object.keys(c(e));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=t)return(0,a("keOcA").truncate)(r[0],t);for(var n=r.length;n>0;n--){var i=r.slice(0,n).join(", ");if(!(i.length>t)){if(n===r.length)return i;return(0,a("keOcA").truncate)(i,t)}}return""}e(t.exports,"fill",()=>n),e(t.exports,"markFunctionWrapped",()=>s),e(t.exports,"addNonEnumerableProperty",()=>i),e(t.exports,"getOriginalFunction",()=>o),e(t.exports,"urlEncode",()=>l),e(t.exports,"convertToPlainObject",()=>c),e(t.exports,"extractExceptionKeysForMessage",()=>h),e(t.exports,"dropUndefinedKeys",()=>function e(t){var r,n;if((0,a("okkfE").isPlainObject)(t)){var i={};try{for(var s=(0,a("3VFsf").__values)(Object.keys(t)),o=s.next();!o.done;o=s.next()){var l=o.value;void 0!==t[l]&&(i[l]=e(t[l]))}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i}return Array.isArray(t)?t.map(e):t})}),o("keOcA",function(t,r){function n(e,t){return(void 0===t&&(t=0),"string"!=typeof e||0===t||e.length<=t)?e:e.substr(0,t)+"..."}function i(e,t){var r=e,n=r.length;if(n<=150)return r;t>n&&(t=n);var i=Math.max(t-60,0);i<5&&(i=0);var s=Math.min(i+140,n);return s>n-5&&(s=n),s===n&&(i=Math.max(s-140,0)),r=r.slice(i,s),i>0&&(r="'{snip} "+r),s<n&&(r+=" {snip}"),r}function s(e,t){if(!Array.isArray(e))return"";for(var r=[],n=0;n<e.length;n++){var i=e[n];try{r.push(String(i))}catch(e){r.push("[value cannot be serialized]")}}return r.join(t)}function o(e,t){return!!(0,a("okkfE").isString)(e)&&((0,a("okkfE").isRegExp)(t)?t.test(e):"string"==typeof t&&-1!==e.indexOf(t))}e(t.exports,"truncate",()=>n),e(t.exports,"snipLine",()=>i),e(t.exports,"safeJoin",()=>s),e(t.exports,"isMatchingPattern",()=>o)}),o("1M66C",function(t,r){function n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.sort(function(e,t){return e[0]-t[0]}).map(function(e){return e[1]});return function(e,t){void 0===t&&(t=0);var n,i,s,o,l=[];try{for(var c=(0,a("3VFsf").__values)(e.split("\n").slice(t)),u=c.next();!u.done;u=c.next()){var d=u.value;try{for(var h=(s=void 0,(0,a("3VFsf").__values)(r)),p=h.next();!p.done;p=h.next()){var f=(0,p.value)(d);if(f){l.push(f);break}}}catch(e){s={error:e}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(s)throw s.error}}}}catch(e){n={error:e}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}var g=l;if(!g.length)return[];var m=g,v=m[0].function||"",y=m[m.length-1].function||"";return(-1!==v.indexOf("captureMessage")||-1!==v.indexOf("captureException"))&&(m=m.slice(1)),-1!==y.indexOf("sentryWrapped")&&(m=m.slice(0,-1)),m.slice(0,50).map(function(e){return(0,a("3VFsf").__assign)((0,a("3VFsf").__assign)({},e),{filename:e.filename||m[0].filename,function:e.function||"?"})}).reverse()}}e(t.exports,"createStackParser",()=>n),e(t.exports,"getFunctionName",()=>s);var i="<anonymous>";function s(e){try{if(!e||"function"!=typeof e)return i;return e.name||i}catch(e){return i}}}),o("9BO8q",function(t,r){function n(){if(!("fetch"in(0,a("eUO5L").getGlobalObject)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function i(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function s(){if(!n())return!1;var e=(0,a("eUO5L").getGlobalObject)();if(i(e.fetch))return!0;var t=!1,r=e.document;if(r&&"function"==typeof r.createElement)try{var s=r.createElement("iframe");s.hidden=!0,r.head.appendChild(s),s.contentWindow&&s.contentWindow.fetch&&(t=i(s.contentWindow.fetch)),r.head.removeChild(s)}catch(e){a("1pUkh").IS_DEBUG_BUILD&&a("aHQIJ").logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return t}function o(){if(!n())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}}function l(){var e=(0,a("eUO5L").getGlobalObject)(),t=e.chrome,r=t&&t.app&&t.app.runtime,n="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!r&&n}e(t.exports,"supportsFetch",()=>n),e(t.exports,"isNativeFetch",()=>i),e(t.exports,"supportsNativeFetch",()=>s),e(t.exports,"supportsReferrerPolicy",()=>o),e(t.exports,"supportsHistory",()=>l)}),o("1vYJz",function(t,r){function n(){var e=(0,a("eUO5L").getGlobalObject)(),t=e.crypto||e.msCrypto;if(void 0!==t&&t.getRandomValues){var r=new Uint16Array(8);t.getRandomValues(r),r[3]=4095&r[3]|16384,r[4]=16383&r[4]|32768;var n=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return n(r[0])+n(r[1])+n(r[2])+n(r[3])+n(r[4])+n(r[5])+n(r[6])+n(r[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function i(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+r+n}}function s(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function o(e){var t=e.message,r=e.event_id;if(t)return t;var n=s(e);return n?n.type&&n.value?n.type+": "+n.value:n.type||n.value||r||"<unknown>":r||"<unknown>"}function l(e,t,r){var n=e.exception=e.exception||{},i=n.values=n.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type=r||"Error")}function c(e,t){var r=s(e);if(r){var n=r.mechanism;if(r.mechanism=(0,a("3VFsf").__assign)((0,a("3VFsf").__assign)((0,a("3VFsf").__assign)({},{type:"generic",handled:!0}),n),t),t&&"data"in t){var i=(0,a("3VFsf").__assign)((0,a("3VFsf").__assign)({},n&&n.data),t.data);r.mechanism.data=i}}}function u(e){if(e&&e.__sentry_captured__)return!0;try{(0,a("59M0S").addNonEnumerableProperty)(e,"__sentry_captured__",!0)}catch(e){}return!1}e(t.exports,"uuid4",()=>n),e(t.exports,"parseUrl",()=>i),e(t.exports,"getEventDescription",()=>o),e(t.exports,"addExceptionTypeValue",()=>l),e(t.exports,"addExceptionMechanism",()=>c),e(t.exports,"checkOrSetAlreadyCaught",()=>u)}),o("gBQwe",function(t,n){function i(e,t,n){void 0===t&&(t=1/0),void 0===n&&(n=1/0);try{return function e(t,n,i,s,o){void 0===i&&(i=1/0),void 0===s&&(s=1/0),void 0===o&&(o=(0,a("kbQkj").memoBuilder)());var l=(0,a("3VFsf").__read)(o,2),c=l[0],u=l[1];if(n&&"function"==typeof n.toJSON)try{return n.toJSON()}catch(e){}if(null===n||["number","boolean","string"].includes(typeof n)&&!(0,a("okkfE").isNaN)(n))return n;var d=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if(void 0!==r&&t===r)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if((0,a("okkfE").isSyntheticEvent)(t))return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if(void 0===t)return"[undefined]";if("function"==typeof t)return"[Function: "+(0,a("1M66C").getFunctionName)(t)+"]";if("symbol"==typeof t)return"["+String(t)+"]";if("bigint"==typeof t)return"[BigInt: "+String(t)+"]";return"[object "+Object.getPrototypeOf(t).constructor.name+"]"}catch(e){return"**non-serializable** ("+e+")"}}(t,n);if(!d.startsWith("[object "))return d;if(0===i)return d.replace("object ","");if(c(n))return"[Circular ~]";var h=Array.isArray(n)?[]:{},p=0,f=(0,a("okkfE").isError)(n)||(0,a("okkfE").isEvent)(n)?(0,a("59M0S").convertToPlainObject)(n):n;for(var g in f)if(Object.prototype.hasOwnProperty.call(f,g)){if(p>=s){h[g]="[MaxProperties ~]";break}var m=f[g];h[g]=e(g,m,i-1,s,o),p+=1}return u(n),h}("",e,t,n)}catch(e){return{ERROR:"**non-serializable** ("+e+")"}}}e(t.exports,"normalize",()=>i),e(t.exports,"normalizeToSize",()=>function e(t,r,n){void 0===r&&(r=3),void 0===n&&(n=102400);var s=i(t,r);return~-encodeURI(JSON.stringify(s)).split(/%..|./).length>n?e(t,r-1,n):s})}),o("kbQkj",function(t,r){e(t.exports,"memoBuilder",()=>n);function n(){var e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(r){if(e)return!!t.has(r)||(t.add(r),!1);for(var n=0;n<t.length;n++)if(t[n]===r)return!0;return t.push(r),!1},function(r){if(e)t.delete(r);else for(var n=0;n<t.length;n++)if(t[n]===r){t.splice(n,1);break}}]}}),o("6dKoA",function(t,r){e(t.exports,"makePromiseBuffer",()=>n);function n(e){var t=[];function r(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(n){if(!(void 0===e||t.length<e))return(0,a("4mVTs").rejectedSyncPromise)(new(0,a("f7sqx").SentryError)("Not adding Promise due to buffer limit reached."));var i=n();return -1===t.indexOf(i)&&t.push(i),i.then(function(){return r(i)}).then(null,function(){return r(i).then(null,function(){})}),i},drain:function(e){return new(0,a("4mVTs").SyncPromise)(function(r,n){var i=t.length;if(!i)return r(!0);var s=setTimeout(function(){e&&e>0&&r(!1)},e);t.forEach(function(e){(0,a("4mVTs").resolvedSyncPromise)(e).then(function(){--i||(clearTimeout(s),r(!0))},n)})})}}}}),o("4mVTs",function(t,r){function n(e){return new s(function(t){t(e)})}function i(e){return new s(function(t,r){r(e)})}e(t.exports,"resolvedSyncPromise",()=>n),e(t.exports,"SyncPromise",()=>s),e(t.exports,"rejectedSyncPromise",()=>i);var s=function(){function e(e){var t=this;this._state=0,this._handlers=[],this._resolve=function(e){t._setResult(1,e)},this._reject=function(e){t._setResult(2,e)},this._setResult=function(e,r){if(0===t._state){if((0,a("okkfE").isThenable)(r))return void r.then(t._resolve,t._reject);t._state=e,t._value=r,t._executeHandlers()}},this._executeHandlers=function(){if(0!==t._state){var e=t._handlers.slice();t._handlers=[],e.forEach(function(e){e[0]||(1===t._state&&e[1](t._value),2===t._state&&e[2](t._value),e[0]=!0)})}};try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}return e.prototype.then=function(t,r){var n=this;return new e(function(e,i){n._handlers.push([!1,function(r){if(t)try{e(t(r))}catch(e){i(e)}else e(r)},function(t){if(r)try{e(r(t))}catch(e){i(e)}else i(t)}]),n._executeHandlers()})},e.prototype.catch=function(e){return this.then(function(e){return e},e)},e.prototype.finally=function(t){var r=this;return new e(function(e,n){var i,s;return r.then(function(e){s=!1,i=e,t&&t()},function(e){s=!0,i=e,t&&t()}).then(function(){if(s)return void n(i);e(i)})})},e}()}),o("5L8AU",function(t,r){e(t.exports,"severityFromString",()=>n);function n(e){return"warn"===e?a("8vvJk").Severity.Warning:-1!==a("c1CzK").SeverityLevels.indexOf(e)?e:a("8vvJk").Severity.Log}}),o("8vvJk",function(t,r){var n,i;e(t.exports,"Severity",()=>n),(i=n||(n={})).Fatal="fatal",i.Error="error",i.Warning="warning",i.Log="log",i.Info="info",i.Debug="debug",i.Critical="critical"}),o("c1CzK",function(t,r){e(t.exports,"SeverityLevels",()=>n);var n=["fatal","error","warning","log","info","debug","critical"]}),o("h2Oxu",function(t,r){e(t.exports,"eventStatusFromHttpCode",()=>n);function n(e){return e>=200&&e<300?"success":429===e?"rate_limit":e>=400&&e<500?"invalid":e>=500?"failed":"unknown"}}),o("gI8Be",function(t,r){e(t.exports,"dateTimestampInSeconds",()=>o,e=>o=e),e(t.exports,"timestampInSeconds",()=>l,e=>l=e);var n={nowSeconds:function(){return Date.now()/1e3}},i=(0,a("3kiq9").isNodeEnv)()?function(){try{return(0,a("3kiq9").dynamicRequire)(t,"perf_hooks").performance}catch(e){return}}():function(){var e=(0,a("eUO5L").getGlobalObject)().performance;if(e&&e.now)return{now:function(){return e.now()},timeOrigin:Date.now()-e.now()}}(),s=void 0===i?n:{nowSeconds:function(){return(i.timeOrigin+i.now())/1e3}},o=n.nowSeconds.bind(n),l=s.nowSeconds.bind(s);!function(){var e=(0,a("eUO5L").getGlobalObject)().performance;if(e&&e.now){var t=e.now(),r=Date.now(),n=e.timeOrigin?Math.abs(e.timeOrigin+t-r):36e5,i=e.timing&&e.timing.navigationStart,s="number"==typeof i?Math.abs(i+t-r):36e5;(n<36e5||s<36e5)&&n<=s&&e.timeOrigin}}()}),o("2cvr9",function(t,r){function n(e,t){return void 0===t&&(t=[]),[e,t]}function i(e){var t=(0,a("3VFsf").__read)(e,2),r=(0,a("3VFsf").__read)(t[1],1);return(0,a("3VFsf").__read)(r[0],1)[0].type}function s(e){var t=(0,a("3VFsf").__read)(e,2),r=t[0],n=t[1],i=JSON.stringify(r);return n.reduce(function(e,t){var r=(0,a("3VFsf").__read)(t,2),n=r[0],i=r[1],s=(0,a("okkfE").isPrimitive)(i)?String(i):JSON.stringify(i);return e+"\n"+JSON.stringify(n)+"\n"+s},i)}e(t.exports,"createEnvelope",()=>n),e(t.exports,"getEnvelopeType",()=>i),e(t.exports,"serializeEnvelope",()=>s)}),o("fLq1q",function(t,r){e(t.exports,"createClientReportEnvelope",()=>n);function n(e,t,r){var n=[{type:"client_report"},{timestamp:r||(0,a("gI8Be").dateTimestampInSeconds)(),discarded_events:e}];return(0,a("2cvr9").createEnvelope)(t?{dsn:t}:{},[n])}}),o("giEo2",function(t,r){function n(e,t){return e[t]||e.all||0}function i(e,t,r){return void 0===r&&(r=Date.now()),n(e,t)>r}function s(e,t,r){void 0===r&&(r=Date.now());var n,i,s,o,l=(0,a("3VFsf").__assign)({},e),c=t["x-sentry-rate-limits"],u=t["retry-after"];if(c)try{for(var d=(0,a("3VFsf").__values)(c.trim().split(",")),h=d.next();!h.done;h=d.next()){var p=h.value.split(":",2),f=parseInt(p[0],10),g=(isNaN(f)?60:f)*1e3;if(p[1])try{for(var m=(s=void 0,(0,a("3VFsf").__values)(p[1].split(";"))),v=m.next();!v.done;v=m.next())l[v.value]=r+g}catch(e){s={error:e}}finally{try{v&&!v.done&&(o=m.return)&&o.call(m)}finally{if(s)throw s.error}}else l.all=r+g}}catch(e){n={error:e}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}else u&&(l.all=r+function(e,t){void 0===t&&(t=Date.now());var r=parseInt(""+e,10);if(!isNaN(r))return 1e3*r;var n=Date.parse(""+e);return isNaN(n)?6e4:n-t}(u,r));return l}e(t.exports,"disabledUntil",()=>n),e(t.exports,"isRateLimited",()=>i),e(t.exports,"updateRateLimits",()=>s)}),o("2aljs",function(t,r){e(t.exports,"default",()=>n);var n=a("dmK6z").matchRoute}),o("dmK6z",function(t,r){e(t.exports,"matchRoute",()=>n);function n(e,t,r={},i=""){let s="string"==typeof r?(0,a("9Kn20").parseQuery)(r):r;if(0===e.length)return null;if(1===e.length)return(0,a("iMVWC").getRouteMatch)(e[0],t,s,i);let o=(0,a("djSaC").treeifyRoutes)(e),l=(0,a("gX0Cm").findRoute)(o,t,s,i)||o.fallbackRoute;return(0,a("iMVWC").getRouteMatch)(l,t,s,i)}}),o("gX0Cm",function(t,r){function n(e,t){t.segmentPattern.includes("(")&&t.segmentPattern.includes(")")?e.unshift(t):e.push(t)}function i(e,t){if(0===e.length)return null;let r=e.sort((e,t)=>{let r=e.query?.length||0,n=t.query?.length||0;return n===r?(e.__unsafeOrder||0)-(t.__unsafeOrder||0):n-r}).filter(e=>void 0===e.query||!!(0,a("4Gjcu").matchQuery)(e.query,t,{params:{},query:{},isExact:!1,path:"",url:""}));return r.length?r[0]:null}function s(e,t,r={},o){let l=t.replace(o,"").split("/");""===l[0]&&l.shift(),""===l[l.length-1]&&l.pop();let c=[e.root],u=0;for(;c.length>0&&u<2e3;){u+=1;let e=c.shift();if(!e)break;if(!(e instanceof a("djSaC").Node))return e;let{children:t,routes:s,level:o}=e,d=null,h=!0;if(0===Object.keys(t).length){if(!s.length)throw Error("It should have a route at the end of a branch.");(d=i(s,r))&&l.length>o&&d.exact&&(d=null)}else if(l.length===o)s.length&&(d=i(s,r));else if(l.length<o)h=!1,d=function e(t,r={}){let{segmentPattern:n,children:s,routes:a}=t;if(n.endsWith("?")){let t=i(a,r);if(t)return t;for(let t in s)if(Object.prototype.hasOwnProperty.call(s,t))return e(s[t])}}(e,r);else{let e=i(s,r);e&&!e.exact&&c.unshift(e)}if(d)return d;if(h){let t=function(e,t){let r=[],i=[],s=[],{children:o}=e,l=t[e.level]||"",c=t.length>e.level;for(let e in o)if(Object.prototype.hasOwnProperty.call(o,e)){let t=o[e];if(l===e)r.push(t);else if((0,a("2Vxk3").pathToRegexp)(e,[],{end:!0,strict:!0,sensitive:!1}).test(l)){let e=Object.keys(t.children).length>0;c&&e?n(i,t):c||e?n(s,t):n(i,t)}}return[...r,...i,...s]}(e,l);c.unshift(...t)}}return null}e(t.exports,"findRoute",()=>s)}),o("4Gjcu",function(t,r){e(t.exports,"matchQuery",()=>n);function n(e,t,r){let n={};return e.every(e=>{let[r,i]=e.split("="),s=!1;return e.includes("!=")&&(r=r.substring(0,r.length-1),s=!0),r.split("|").map(e=>{let r=!1;e.includes("?")&&(e=e.substring(0,e.length-1),r=!0);let a=Object.prototype.hasOwnProperty.call(t,e);return(a&&(n[e]=t[e]||""),i&&(!r||a))?(a=i.startsWith("(")?RegExp(`^${i}$`).test(t[e]||""):t[e]===i,s?!a:a):r||a}).includes(!0)})?{...r,query:n}:null}}),o("2Vxk3",function(t,r){function n(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function i(e){return e&&e.sensitive?"":"i"}e(t.exports,"pathToRegexp",()=>function e(t,r,s){if(t instanceof RegExp){if(!r)return t;let e=/\((?:\?<(.*?)>)?(?!\?)/g,n=0,i=e.exec(t.source);for(;i;)r.push({name:i[1]||n++,prefix:"",suffix:"",modifier:"",pattern:""}),i=e.exec(t.source);return t}if(Array.isArray(t)){let n=t.map(t=>e(t,r,s).source);return RegExp(`(?:${n.join("|")})`,i(s))}return function(e,t,r={}){let{strict:s=!1,start:a=!0,end:o=!0,encode:l=e=>e,delimiter:c="/#?",endsWith:u=""}=r,d=`[${n(u)}]|$`,h=`[${n(c)}]`,p=a?"^":"";for(let r of e)if("string"==typeof r)p+=n(l(r));else{let e=n(l(r.prefix)),i=n(l(r.suffix));if(r.pattern)if(t&&t.push(r),e||i)if("+"===r.modifier||"*"===r.modifier){let t="*"===r.modifier?"?":"";p+=`(?:${e}((?:${r.pattern})(?:${i}${e}(?:${r.pattern}))*)${i})${t}`}else p+=`(?:${e}(${r.pattern})${i})${r.modifier}`;else"+"===r.modifier||"*"===r.modifier?p+=`((?:${r.pattern})${r.modifier})`:p+=`(${r.pattern})${r.modifier}`;else p+=`(?:${e}${i})${r.modifier}`}if(o)s||(p+=`${h}?`),p+=r.endsWith?`(?=${d})`:"$";else{let t=e[e.length-1],r="string"==typeof t?h.indexOf(t[t.length-1])>-1:void 0===t;s||(p+=`(?:${h}(?=${d}))?`),r||(p+=`(?=${h}|${d})`)}return new RegExp(p,i(r))}(function(e,t={}){let r=function(e){let t=[],r=0;for(;r<e.length;){let n=e[r];if("*"===n||"+"===n||"?"===n){t.push({type:"MODIFIER",index:r,value:e[r++]});continue}if("\\"===n){t.push({type:"ESCAPED_CHAR",index:r++,value:e[r++]});continue}if("{"===n){t.push({type:"OPEN",index:r,value:e[r++]});continue}if("}"===n){t.push({type:"CLOSE",index:r,value:e[r++]});continue}if(":"===n){let n="",i=r+1;for(;i<e.length;){let t=e.charCodeAt(i);if(t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122||95===t){n+=e[i++];continue}break}if(!n)throw TypeError(`Missing parameter name at ${r}`);t.push({type:"NAME",index:r,value:n}),r=i;continue}if("("===n){let n=1,i="",s=r+1;if("?"===e[s])throw TypeError(`Pattern cannot start with "?" at ${s}`);for(;s<e.length;){if("\\"===e[s]){i+=e[s++]+e[s++];continue}if(")"===e[s]){if(0==--n){s++;break}}else if("("===e[s]&&(n++,"?"!==e[s+1]))throw TypeError(`Capturing groups are not allowed at ${s}`);i+=e[s++]}if(n)throw TypeError(`Unbalanced pattern at ${r}`);if(!i)throw TypeError(`Missing pattern at ${r}`);t.push({type:"PATTERN",index:r,value:i}),r=s;continue}t.push({type:"CHAR",index:r,value:e[r++]})}return t.push({type:"END",index:r,value:""}),t}(e),{prefixes:i="./"}=t,s=`[^${n(t.delimiter||"/#?")}]+?`,a=[],o=0,l=0,c="",u=e=>{if(l<r.length&&r[l].type===e)return r[l++].value},d=e=>{let t=u(e);if(void 0!==t)return t;let{type:n,index:i}=r[l];throw TypeError(`Unexpected ${n} at ${i}, expected ${e}`)},h=()=>{let e,t="";for(;e=u("CHAR")||u("ESCAPED_CHAR");)t+=e;return t};for(;l<r.length;){let e=u("CHAR"),t=u("NAME"),r=u("PATTERN");if(t||r){let n=e||"";-1===i.indexOf(n)&&(c+=n,n=""),c&&(a.push(c),c=""),a.push({name:t||o++,prefix:n,suffix:"",pattern:r||s,modifier:u("MODIFIER")||""});continue}let n=e||u("ESCAPED_CHAR");if(n){c+=n;continue}if(c&&(a.push(c),c=""),u("OPEN")){let e=h(),t=u("NAME")||"",r=u("PATTERN")||"",n=h();d("CLOSE"),a.push({name:t||(r?o++:""),pattern:t&&!r?s:r,prefix:e,suffix:n,modifier:u("MODIFIER")||""});continue}d("END")}return a}(t,s),r,s)})}),o("djSaC",function(t,r){e(t.exports,"Node",()=>n),e(t.exports,"treeifyRoutes",()=>c);class n{constructor(e,t){this.children={},this.routes=[],this.level=e,this.segmentPattern=t}}class i{constructor(){this.fallbackRoute=null,this.root=new n(0,"")}insert(e,t){let r=this.root;for(let t=0;t<e.length;t++){let i=e[t];r.children[i]||(r.children[i]=new n(t+1,i)),r=r.children[i]}r.routes.push(t)}}let s=e=>{""===e[0]&&e.shift(),""===e[e.length-1]&&e.pop()},o=e=>{let t=e.split("/");return s(t),t},l=(e,t)=>{if("string"!=typeof e.path||""===e.path||"/*"===e.path||"*"===e.path){if(t.fallbackRoute)throw Error("There should be only one route that mates everything.");return t.fallbackRoute=e,!0}return!1};function c(e){let t=new i;return(0,a("VSDnB").fg)("jira-update-match-route-treeify-routes")?e.forEach(e=>{if(l(e,t))return;let r=/(:[a-zA-Z]*)?\(([^()]*\/+[^()]*)\)/.exec(e.path);if(r){let n=r[0];r[2].split("|").forEach(r=>{let i=e.path.replace(n,r);t.insert(o(i),e)})}else t.insert(o(e.path),e)}):e.forEach(e=>{if(l(e,t))return;let r=/:projectType\(([a-z|]*software\/c[a-z|]*)\)/.exec(e.path);if(r){let n=r[0];r[1].split("|").forEach(r=>{let i=e.path.replace(n,r);t.insert(o(i),e)})}else t.insert(o(e.path),e)}),t}}),o("iMVWC",function(t,r){e(t.exports,"getRouteMatch",()=>i);let n=e=>({path:"/",url:"/",params:{},isExact:"/"===e,query:{}});function i(e,t,r,i){if(e){let s=function(e,t,r,i){let s=e.path?(0,a("1MIOq").matchPath)(t,{path:e.path,exact:e.exact,basePath:i}):n(t),o=s;return(s&&e.query?o=(0,a("4Gjcu").matchQuery)(e.query,r,s):s&&(o={...s,query:{}}),o)?{match:o,route:e}:null}(e,t,r,i);if(s)return s}return null}}),o("1MIOq",function(t,r){e(t.exports,"matchPath",()=>s);let n={},i=0;function s(e,t={}){("string"==typeof t||Array.isArray(t))&&(t={path:t});let{path:r,exact:o=!1,strict:l=!1,sensitive:c=!1,basePath:u=""}=t;return[].concat(u+r).reduce((t,r)=>{if(!r&&""!==r)return null;if(t)return t;let{regexp:s,keys:u}=function(e,t){let r=`${t.end}${t.strict}${t.sensitive}`,s=n[r]||(n[r]={});if(s[e])return s[e];let o=[],l={regexp:(0,a("2Vxk3").pathToRegexp)(e,o,t),keys:o};return i<1e4&&(s[e]=l,i++),l}(r,{end:o,strict:l,sensitive:c}),d=s.exec(e);if(!d)return null;let[h,...p]=d,f=e===h;return o&&!f?null:{path:r,url:"/"===r&&""===h?"/":h,isExact:f,params:u.reduce((e,t,r)=>(e[t.name]=p[r],e),{})}},null)}}),o("9Kn20",function(t,r){function n(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function i(e){let t,r=/([^=?#&]+)=?([^&]*)/g,i={};for(;t=r.exec(e);){var s=n(t[1]),a=n(t[2]);null===s||null===a||s in i||(i[s]=a)}return i}e(t.exports,"parseQuery",()=>i)}),o("9E7Uh",function(t,r){e(t.exports,"default",()=>s);var n=a("bhUJ4");let i={initialPollInterval:5e3,idleTimeout:3e4,multiplierCallback:e=>e+e};class s{constructor(e,t,r,s){if(this.start=()=>{this.browserInteractionTime.startTimer(),this.browserInteractionTime.addTimeIntervalEllapsedCallback({callback:e=>this._sendDwellEvent(this._eventData,this._searchSessionId,e,!1),timeInMilliseconds:this._timing.initialPollInterval,multiplier:this._timing.multiplierCallback}),"undefined"!=typeof window&&window.addEventListener("beforeunload",this._onBeforeUnload)},this.stop=()=>{this.browserInteractionTime.isRunning()&&this._sendDwellEvent(this._eventData,this._searchSessionId,this.browserInteractionTime.getTimeInMilliseconds(),!0),this.browserInteractionTime.stopTimer()},this.newPage=(e,t)=>{(0,a("ibWJJ").validateDwellBaseEvent)(e),this.stop(),this.browserInteractionTime.reset(),this.setEventData(e),this.setSearchSessionId(t),this.start()},this.setEventData=e=>{this._eventData=e},this.getEventData=()=>this._eventData,this.setSearchSessionId=e=>{this._searchSessionId=e},this.getSearchSessionId=()=>this._searchSessionId,this.destroy=()=>{this.browserInteractionTime.destroy(),"undefined"!=typeof window&&window.removeEventListener("beforeunload",this._onBeforeUnload)},this._onBeforeUnload=()=>{this.stop(),this.destroy()},this._sendDwellEvent=(e,t,r,n)=>{this._trackCallback({action:"dwelled",actionSubject:e.actionSubject,actionSubjectId:e.actionSubjectId,source:e.source,containerType:e.containerType,containerId:e.containerId,objectType:e.objectType,objectId:e.objectId,attributes:{dwellTime:r,searchReferrer:t,finalDwellEvent:n,...e.attributes},tags:e.tags})},!e)throw Error("trackCallback is required for DwellTimeHelper");(0,a("ibWJJ").validateDwellBaseEvent)(t),this._trackCallback=e,this._eventData=t,this._searchSessionId=r,this._timing={...i,...s},this.browserInteractionTime=new(0,n.default)({idleTimeoutMs:this._timing.idleTimeout,checkCallbacksIntervalMs:500})}}}),o("6Lg6A",function(r,n){e(r.exports,"LazyWait",()=>s);var i=a("5uXOq");let s=({until:e,children:r})=>{let n=(0,i.useContext)(a("5poak").WaitContext),s=(0,i.useRef)(e&&n.currentValue()?1:0),o=(0,i.useRef)(new Set),l=(0,i.useRef)({subscribe:e=>(o.current.add(e),()=>{o.current.delete(e)}),currentValue:()=>s.current});return(0,i.useEffect)(()=>{let t=()=>{s.current=n.currentValue()&&e?1:0,o.current.forEach(e=>e())};return t(),n.subscribe(t)},[n,e]),t(i).createElement(a("5poak").WaitContext.Provider,{value:l.current},r)}}),o("lGgkA",function(t,r){e(t.exports,"LooselyLazy",()=>n);let n={init:e=>{(0,a("ddkdN").setConfig)(e),a("adSzG").LISTENERS.length=0,(0,a("j7rCb").setCurrent)(0),(0,a("7AnOd").isNodeEnvironment)()||(0,a("14COT").collect)()}}}),o("14COT",function(t,r){e(t.exports,"collect",()=>n);let n=()=>{let e=document.querySelectorAll("input[data-lazy-begin]"),{mode:t}=(0,a("ddkdN").getConfig)();for(let r=0,n=e.length;r<n;r+=1){let{lazyBegin:n}=e[r].dataset||{},i=t===a("7Ewwd").MODE.RENDER?(0,a("jM6DK").cloneElements)(e[r],n):(0,a("89lw9").refElements)(e[r],n);a("fVdZG").COLLECTED.has(n)?a("fVdZG").COLLECTED.get(n).push(i):a("fVdZG").COLLECTED.set(n,[i])}}}),o("jM6DK",function(t,r){e(t.exports,"cloneElements",()=>n);let n=(e,t)=>{let r=document.createElement("div"),n=e;for(;(n=n.nextSibling)&&(!n.dataset||n.dataset.lazyEnd!==t);)r.appendChild(n.cloneNode(!0));return Array.from(r.childNodes)}}),o("89lw9",function(t,r){e(t.exports,"refElements",()=>n);let n=(e,t)=>{let r=[],n=e;for(;(n=n.nextSibling)&&(!n.dataset||n.dataset.lazyEnd!==t);)r.push(n);return r}}),o("5NkCx",function(r,n){e(r.exports,"default",()=>o);var i=a("awmeS");let s={initialPollInterval:5,pollBackoffRate:2,idleTimeout:30};class o{constructor(e,r,n,o,l){if(this.timeMeInitialized=!1,this.start=()=>{if(this.timeMeInitialized)throw Error("DwellTimeHelper should only be initialised once per page load.");this.timeMeInitialized=!0,this._initDwellTimeCounterAndPolling(),"undefined"!=typeof window&&window.addEventListener("beforeunload",()=>{this.stop()})},this.stop=()=>{t(i).isUserCurrentlyOnPage&&this._sendDwellEvent(this._eventData,this._searchSessionId,!0),t(i).stopAllTimers(),t(i).resetAllRecordedPageTimes(),t(i).timeElapsedCallbacks=[],this.timeMeInitialized=!1},this.newPage=(e,t)=>{(0,a("ibWJJ").validateDwellBaseEvent)(e),this.stop(),this._eventData=e,this._searchSessionId=t,this._initDwellTimeCounterAndPolling()},this._listForIdleEvents=()=>{document.addEventListener("mousemove",()=>{t(i).userActivityDetected()}),document.addEventListener("keyup",()=>{t(i).userActivityDetected()}),document.addEventListener("touchstart",()=>{t(i).userActivityDetected()}),window.addEventListener("scroll",()=>{t(i).userActivityDetected()});let e=document.getElementsByTagName("iframe");for(let r=0;r<e.length;r++){let n=e[r];try{n?.contentWindow?.document.addEventListener("mousemove",()=>{t(i).userActivityDetected()}),n?.contentWindow?.document.addEventListener("keyup",()=>{t(i).userActivityDetected()}),n?.contentWindow?.document.addEventListener("touchstart",()=>{t(i).userActivityDetected()})}catch(e){}}setInterval(()=>{!0!==t(i).isUserCurrentlyIdle&&(t(i).checkIdleState(),t(i).startTimer())},t(i).checkIdleStateRateMs)},this._initDwellTimeCounterAndPolling=()=>{this._dwellTimeHelperOptions?.iframeDwell&&(t(i).listForIdleEvents=this._listForIdleEvents),t(i).initialize({idleTimeoutInSeconds:this._timing.idleTimeout}),this._pollDwellTime(this._timing.initialPollInterval,this._searchSessionId,this._eventData)},this._pollDwellTime=(e,r,n)=>{t(i).callAfterTimeElapsedInSeconds(e,()=>{this._sendDwellEvent(n,r,!1),this._pollDwellTime(e*this._timing.pollBackoffRate,r,n)})},this._sendDwellEvent=(e,r,n)=>{let s={dwellTime:t(i).getTimeOnCurrentPageInMilliseconds(),searchReferrer:r,finalDwellEvent:n};this._trackCallback({action:"dwelled",actionSubject:e.actionSubject,actionSubjectId:e.actionSubjectId,source:e.source,containerType:e.containerType,containerId:e.containerId,containers:e.containers,objectType:e.objectType,objectId:e.objectId,attributes:{...s,...e.attributes},tags:e.tags})},!e)throw Error("trackCallback is required for DwellTimeHelper");(0,a("ibWJJ").validateDwellBaseEvent)(r),this._trackCallback=e,this._eventData=r,this._searchSessionId=n,this._timing={...s,...o},this._dwellTimeHelperOptions=l}}});var v={};e(v,"R50",()=>y),e(v,"R75",()=>E),e(v,"R100",()=>b),e(v,"R200",()=>_),e(v,"R300",()=>I),e(v,"R400",()=>w),e(v,"R500",()=>x),e(v,"Y50",()=>S),e(v,"Y75",()=>T),e(v,"Y100",()=>C),e(v,"Y200",()=>O),e(v,"Y300",()=>A),e(v,"Y400",()=>k),e(v,"Y500",()=>R),e(v,"G50",()=>D),e(v,"G75",()=>N),e(v,"G100",()=>P),e(v,"G200",()=>F),e(v,"G300",()=>M),e(v,"G400",()=>L),e(v,"G500",()=>V),e(v,"B50",()=>U),e(v,"B75",()=>j),e(v,"B100",()=>B),e(v,"B200",()=>G),e(v,"B300",()=>H),e(v,"B400",()=>W),e(v,"B500",()=>q),e(v,"B600",()=>z),e(v,"B700",()=>$),e(v,"P50",()=>K),e(v,"P75",()=>Y),e(v,"P100",()=>J),e(v,"P200",()=>Z),e(v,"P300",()=>X),e(v,"P400",()=>Q),e(v,"P500",()=>ee),e(v,"T50",()=>et),e(v,"T75",()=>er),e(v,"T100",()=>en),e(v,"T200",()=>ei),e(v,"T300",()=>es),e(v,"T400",()=>ea),e(v,"T500",()=>eo),e(v,"N0",()=>el),e(v,"N10",()=>ec),e(v,"N20",()=>eu),e(v,"N30",()=>ed),e(v,"N40",()=>eh),e(v,"N50",()=>ep),e(v,"N60",()=>ef),e(v,"N70",()=>eg),e(v,"N80",()=>em),e(v,"N90",()=>ev),e(v,"N100",()=>ey),e(v,"N200",()=>eE),e(v,"N300",()=>eb),e(v,"N400",()=>e_),e(v,"N500",()=>eI),e(v,"N600",()=>ew),e(v,"N700",()=>ex),e(v,"N800",()=>eS),e(v,"N900",()=>eT),e(v,"N10A",()=>eC),e(v,"N20A",()=>eO),e(v,"N30A",()=>eA),e(v,"N40A",()=>ek),e(v,"N50A",()=>eR),e(v,"N60A",()=>eD),e(v,"N70A",()=>eN),e(v,"N80A",()=>eP),e(v,"N90A",()=>eF),e(v,"N100A",()=>eM),e(v,"N200A",()=>eL),e(v,"N300A",()=>eV),e(v,"N400A",()=>eU),e(v,"N500A",()=>ej),e(v,"N600A",()=>eB),e(v,"N700A",()=>eG),e(v,"N800A",()=>eH),e(v,"DN900",()=>eW),e(v,"DN800",()=>eq),e(v,"DN700",()=>ez),e(v,"DN600",()=>e$),e(v,"DN500",()=>eK),e(v,"DN400",()=>eY),e(v,"DN300",()=>eJ),e(v,"DN200",()=>eZ),e(v,"DN100",()=>eX),e(v,"DN90",()=>eQ),e(v,"DN80",()=>e0),e(v,"DN70",()=>e1),e(v,"DN60",()=>e5),e(v,"DN50",()=>e3),e(v,"DN40",()=>e2),e(v,"DN30",()=>e4),e(v,"DN20",()=>e9),e(v,"DN10",()=>e8),e(v,"DN0",()=>e7),e(v,"DN800A",()=>e6),e(v,"DN700A",()=>te),e(v,"DN600A",()=>tt),e(v,"DN500A",()=>tr),e(v,"DN400A",()=>tn),e(v,"DN300A",()=>ti),e(v,"DN200A",()=>ts),e(v,"DN100A",()=>ta),e(v,"DN90A",()=>to),e(v,"DN80A",()=>tl),e(v,"DN70A",()=>tc),e(v,"DN60A",()=>tu),e(v,"DN50A",()=>td),e(v,"DN40A",()=>th),e(v,"DN30A",()=>tp),e(v,"DN20A",()=>tf),e(v,"DN10A",()=>tg),e(v,"T30",()=>tm),e(v,"L50",()=>tv),e(v,"L75",()=>ty);const y="#FFEBE6",E="#FFBDAD",b="#FF8F73",_="#FF7452",I="#FF5630",w="#DE350B",x="#BF2600",S="#FFFAE6",T="#FFF0B3",C="#FFE380",O="#FFC400",A="#FFAB00",k="#FF991F",R="#FF8B00",D="#E3FCEF",N="#ABF5D1",P="#79F2C0",F="#57D9A3",M="#36B37E",L="#00875A",V="#006644",U="#DEEBFF",j="#B3D4FF",B="#4C9AFF",G="#2684FF",H="#0065FF",W="#0052CC",q="#0747A6",z="#669DF1",$="#8FB8F6",K="#EAE6FF",Y="#C0B6F2",J="#998DD9",Z="#8777D9",X="#6554C0",Q="#5243AA",ee="#403294",et="#E6FCFF",er="#B3F5FF",en="#79E2F2",ei="#00C7E6",es="#00B8D9",ea="#00A3BF",eo="#008DA6",el="#FFFFFF",ec="#FAFBFC",eu="#F4F5F7",ed="#EBECF0",eh="#DFE1E6",ep="#C1C7D0",ef="#B3BAC5",eg="#A5ADBA",em="#97A0AF",ev="#8993A4",ey="#7A869A",eE="#6B778C",eb="#5E6C84",e_="#505F79",eI="#42526E",ew="#344563",ex="#253858",eS="#172B4D",eT="#091E42",eC="rgba(9, 30, 66, 0.02)",eO="rgba(9, 30, 66, 0.04)",eA="rgba(9, 30, 66, 0.08)",ek="rgba(9, 30, 66, 0.13)",eR="rgba(9, 30, 66, 0.25)",eD="rgba(9, 30, 66, 0.31)",eN="rgba(9, 30, 66, 0.36)",eP="rgba(9, 30, 66, 0.42)",eF="rgba(9, 30, 66, 0.48)",eM="rgba(9, 30, 66, 0.54)",eL="rgba(9, 30, 66, 0.60)",eV="rgba(9, 30, 66, 0.66)",eU="rgba(9, 30, 66, 0.71)",ej="rgba(9, 30, 66, 0.77)",eB="rgba(9, 30, 66, 0.82)",eG="rgba(9, 30, 66, 0.89)",eH="rgba(9, 30, 66, 0.95)",eW="#E6EDFA",eq="#DCE5F5",ez="#CED9EB",e$="#B8C7E0",eK="#ABBBD6",eY="#9FB0CC",eJ="#8C9CB8",eZ="#7988A3",eX="#67758F",eQ="#56637A",e0="#455166",e1="#3B475C",e5="#313D52",e3="#283447",e2="#202B3D",e4="#1B2638",e9="#121A29",e8="#0E1624",e7="#0D1424",e6="rgba(13, 20, 36, 0.06)",te="rgba(13, 20, 36, 0.14)",tt="rgba(13, 20, 36, 0.18)",tr="rgba(13, 20, 36, 0.29)",tn="rgba(13, 20, 36, 0.36)",ti="rgba(13, 20, 36, 0.40)",ts="rgba(13, 20, 36, 0.47)",ta="rgba(13, 20, 36, 0.53)",to="rgba(13, 20, 36, 0.63)",tl="rgba(13, 20, 36, 0.73)",tc="rgba(13, 20, 36, 0.78)",tu="rgba(13, 20, 36, 0.81)",td="rgba(13, 20, 36, 0.85)",th="rgba(13, 20, 36, 0.89)",tp="rgba(13, 20, 36, 0.92)",tf="rgba(13, 20, 36, 0.95)",tg="rgba(13, 20, 36, 0.97)",tm="#292A2E",tv="#94C748",ty="#B3DF72";r.rlb("jXweD");
try{performance.mark("shared~vendor~atlassian~ar.js:eval-stop")}catch(e){}
//# sourceMappingURL=https://jira-frontend-bifrost.prod-east.frontend.public.atl-paas.net/assets/shared~vendor~atlassian~ar.517f49e7.js.map
